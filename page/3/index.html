<!doctype html>



  


<html class="theme-next pisces use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="Welcome">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Welcome">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Welcome">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>Welcome</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Welcome</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Kategorien
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            Über
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——Archlinux系统安装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——Archlinux系统安装/" itemprop="url">Raspberry Pi 3——Archlinux系统安装</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——Archlinux系统安装"><a href="#Raspberry-Pi-3——Archlinux系统安装" class="headerlink" title="Raspberry Pi 3——Archlinux系统安装"></a>Raspberry Pi 3——Archlinux系统安装</h1><p>[TOC]</p>
<h2 id="国内源网站"><a href="#国内源网站" class="headerlink" title="国内源网站"></a>国内源网站</h2><p><a href="http://mirrors.ustc.edu.cn/" target="_blank" rel="external">http://mirrors.ustc.edu.cn/</a><br><a href="http://mirrors.aliyun.com/" target="_blank" rel="external">http://mirrors.aliyun.com/</a><br><a href="http://mirrors.163.com/" target="_blank" rel="external">http://mirrors.163.com/</a></p>
<h2 id="官网制作sd卡教程"><a href="#官网制作sd卡教程" class="headerlink" title="官网制作sd卡教程"></a>官网制作sd卡教程</h2><p><strong>Note:</strong> </p>
<blockquote>
<p>The Raspberry Pi 3 has higher power requirements than the Raspberry Pi 2. A power supply rated at 2.5A is the official recommendation. Using an insufficient power supply will result in random, inexplicable errors and filesystem corruption.</p>
</blockquote>
<h2 id="ARMv7-Installation"><a href="#ARMv7-Installation" class="headerlink" title="#ARMv7 Installation"></a>#ARMv7 Installation</h2><p>This provides the best compatibility with software built around the older revisions of the board, particularly software that requires the vendor libraries.</p>
<p>Replace sdX in the following instructions with the device name for the SD card as it appears on your computer.</p>
<p>1.Start fdisk to partition the SD card:</p>
<p><code>fdisk /dev/sdX</code></p>
<p>2.At the fdisk prompt, delete old partitions and create a new one:</p>
<blockquote>
<p>a.Type <strong>o</strong>. This will clear out any partitions on the drive.<br>b.Type <strong>p</strong> to list partitions. There should be no partitions left.<br>c.Type <strong>n</strong>, then <strong>p</strong> for primary, 1 for the first partition on the drive, press ENTER to accept the default first sector, then type <strong>+100M</strong> for the last sector.<br>d.Type <strong>t</strong>, then <strong>c</strong> to set the first partition to type W95 FAT32 (LBA).<br>e.Type <strong>n</strong>, then <strong>p</strong> for primary, 2 for the second partition on the drive, and then press ENTER twice to accept the default first and last sector.<br>f.Write the partition table and exit by typing <strong>w</strong>.</p>
</blockquote>
<p>3.Create and mount the FAT filesystem:</p>
<p><code>mkfs.vfat /dev/sdX1</code></p>
<p><code>mkdir boot</code></p>
<p><code>mount /dev/sdX1 boot</code></p>
<p>4.Create and mount the ext4 filesystem:</p>
<p><code>mkfs.ext4 /dev/sdX2</code></p>
<p><code>mkdir root</code></p>
<p><code>mount /dev/sdX2 root</code></p>
<p>5.Download and extract the root filesystem (as root, not via sudo):<br><code>wget http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-2-latest.tar.gz</code><br><code>bsdtar -xpf ArchLinuxARM-rpi-2-latest.tar.gz -C root</code><br><code>sync</code><br>6.Move boot files to the first partition:<br><code>mv root/boot/* boot</code><br>7.Unmount the two partitions:<br><code>umount boot root</code><br>8.Insert the SD card into the Raspberry Pi, connect ethernet, and apply 5V power.<br>9.Use the serial console or SSH to the IP address given to the board by your router.</p>
<ul>
<li><p>Login as the default user alarm with the password alarm.</p>
</li>
<li><p>The default root password is root.</p>
</li>
</ul>
<h2 id="AArch64-Installation"><a href="#AArch64-Installation" class="headerlink" title="#AArch64 Installation"></a>#AArch64 Installation</h2><p>This provides an installation using the mainline kernel and U-Boot. There is no support for the vendor-provided libraries, extensions, or related software. Some of the hardware on the board may not work, or it may perform poorly.</p>
<p>Follow the above instructions, substituting with the following tarball:</p>
<p><code>http://os.archlinuxarm.org/os/ArchLinuxARM-rpi-3-latest.tar.gz</code></p>
<p>[TOC]</p>
<h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><h2 id="基本安装（桌面、用户名、密码等等）"><a href="#基本安装（桌面、用户名、密码等等）" class="headerlink" title="#基本安装（桌面、用户名、密码等等）"></a>#基本安装（桌面、用户名、密码等等）</h2><p>修改源<br><code>vi /etc/pacman.d/mirrorlist</code></p>
<blockquote>
<p><code>Server = http://mirrors.ustc.edu.cn/archlinuxarm/$arch/$repo</code></p>
<p>这里一定要注意！！！！！在安装PC版时，大家可能习惯于在上面Server最后写\$arch，但是对于Raspberry Pi、Banana<br>Pi这些设备来说，\$arch对应的是armv7h！但是大家可以打开这个网址看一下，只有i686和x86以及any，要是使用\$arch的话在pacman<br>-Syy时会404报错！（我就是在这里卡了很久）</p>
</blockquote>
<p><strong>设置root密码：</strong><br><code>passwd root</code><br><strong>添加用户：</strong><br><code>useradd -m -g users -G wheel -s /bin/bash john</code><br><strong>设置用户密码：</strong><br><code>passwd john</code><br><strong>设置主机名称：</strong><br><code>hostnamectl set-hostname archlinux</code><br><strong>查看IP：</strong><br><code>ip addr</code><br><strong>packer</strong><br><code>sudo pacman -S packer</code><br><strong>xorg</strong><br><code>sudo pacman -S xorg-server xf86-video-fbdev xorg-xrefresh</code><br><strong>安装xorg工具</strong><br><code>pacman -S xterm xorg-xclock xorg-twm xorg-xinit xorg-server-utils</code><br><strong>xfce4</strong><br><code>sudo pacman -S xfce4 xfce4-goodies xarchiver</code><br><strong>安装完成重启：</strong><br><code>reboot</code><br><strong>登录并进入界面</strong>：<br><code>startxfce4</code><br><strong>开机启动项</strong><br><code>cp /etc/X11/xinit/xinitrc ~/.xinitrc</code><br><strong>时间设置</strong><br><code>timedatectl set-timezone Asia/Shanghai</code></p>
<h3 id="常用配置"><a href="#常用配置" class="headerlink" title="常用配置"></a>常用配置</h3><h4 id="archlinux-wallpaper-（壁纸）"><a href="#archlinux-wallpaper-（壁纸）" class="headerlink" title="archlinux-wallpaper （壁纸）"></a>archlinux-wallpaper （壁纸）</h4><p><code>pacman -S archlinux-wallpaper</code><br><a href="https://www.archlinux.org/packages/community/any/archlinux-wallpaper/files/" target="_blank" rel="external">archlinux-wallpaper文件清单</a></p>
<h4 id="openssh-默认只打开用户22端口，root不能访问"><a href="#openssh-默认只打开用户22端口，root不能访问" class="headerlink" title="openssh (默认只打开用户22端口，root不能访问)"></a>openssh (默认只打开用户22端口，root不能访问)</h4><p><code>pacman -S openssh</code><br><code>systemctl enable sshd</code><br><code>systemctl start sshd</code></p>
<h4 id="base-base-devel（基本软件包）"><a href="#base-base-devel（基本软件包）" class="headerlink" title="base base-devel（基本软件包）"></a>base base-devel（基本软件包）</h4><ul>
<li>软件包组,这样就不会在编译时缺少 gcc 或者 make 的问题</li>
</ul>
<p><code>pacman -S base base-devel</code></p>
<h4 id="net-tools-dnsutils-inetutils-iproute2-（网络工具包）"><a href="#net-tools-dnsutils-inetutils-iproute2-（网络工具包）" class="headerlink" title="net-tools dnsutils inetutils iproute2 （网络工具包）"></a>net-tools dnsutils inetutils iproute2 （网络工具包）</h4><ul>
<li>ifconfig,route在net-tools中，nslookup,dig在dnsutils中，ftp,telnet等在inetutils中,ip命令在iproute2中。</li>
</ul>
<p><code>pacman -S net-tools dnsutils inetutils iproute2</code></p>
<h4 id="Raspberry-Pi-超频"><a href="#Raspberry-Pi-超频" class="headerlink" title="Raspberry Pi 超频"></a>Raspberry Pi 超频</h4><ul>
<li>armfreq：ARM处理器的频率，单位是MHz。默认值是 700。 最简单的方法是将“armfreq”的值改成“900”并加上“sdram_freq=500”。 一步秒杀，十分轻松。</li>
</ul>
<p><code>vi /boot/config.txt</code></p>
<p>[TOC]</p>
<h4 id="locale（中文配置）"><a href="#locale（中文配置）" class="headerlink" title="locale（中文配置）"></a>locale（中文配置）</h4><p> <a href="https://wiki.archlinux.org/index.php/Arch_Linux_Localization_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="external">参考wiki</a>#.E5.9F.BA.E6.9C.AC.E4.B8.AD.E6.96.87.E6.94.AF.E6.8C.81)</p>
<ol>
<li>语言编码设置</li>
</ol>
<p><code>sudo vim /etc/locale.gen</code></p>
<blockquote>
<p>en_US.UTF-8 UTF-8<br>zh_CN.UTF-8 UTF-8</p>
</blockquote>
<p>如前面所说，可以在~/.xinitrc或~/.xprofile单独设置中文locale。添加如下内容到上述文件最前端注释之后（如果不确定使用哪个文件，可以都添加）：</p>
<blockquote>
<p>export LANG=zh_CN.UTF-8<br>export LANGUAGE=zh_CN:en_US<br>export LC_CTYPE=en_US.UTF-8</p>
</blockquote>
<ol>
<li><p>安装中文字体<br><code>pacman -S wqy-zenhei</code></p>
</li>
<li><p>启用中文locale<br>Arch Linux中，通过/etc/locale.conf文件设置全局有效的locale：</p>
<blockquote>
<p>LANG=en_US.UTF-8</p>
</blockquote>
</li>
<li><p>中文输入法</p>
</li>
</ol>
<p>支持中文输入的常见输入法有scim，fcitx ，ibus。推荐使用ibus，不推荐scim，因为scim已经停止维护了。不过我使用的是scim拼音输入法。</p>
<h4 id="wifi安装"><a href="#wifi安装" class="headerlink" title="wifi安装"></a>wifi安装</h4><p><code>sudo pacman -S networkmanager network-manager-applet</code><br><code>systemctl enable NetworkManager</code><br><code>systemctl start NetworkManager</code><br><code>sudo ifconfig wlan0 up</code><br><code>ifconfig wlan0</code></p>
<p>check if wlan0 is up<br>then edit your wireless network in NetworkManage</p>
<h4 id="Bluetooth安装"><a href="#Bluetooth安装" class="headerlink" title="Bluetooth安装"></a>Bluetooth安装</h4><p><code>packer -S yaourt blueman bluez-utils</code><br><code>yaourt -S pi-bluetooth</code><br><code>systemctl start bluetooth.service</code><br><code>systemctl enable bluetooth.service</code><br><code>sudo systemctl enable brcm43438.service</code><br><code>sudo reboot</code></p>
<p>connect bluetooth keyboard：<a href="https://wiki.archlinux.org/index.php/bluetooth_keyboard" target="_blank" rel="external">https://wiki.archlinux.org/index.php/bluetooth_keyboard</a></p>
<p>connect bluetooth headset : <a href="https://wiki.archlinux.org/index.php/Bluetooth_headset" target="_blank" rel="external">https://wiki.archlinux.org/index.php/Bluetooth_headset</a></p>
<p>If you need to connect a bluetooth headset, then you need install more package</p>
<p><code>sudo pacman -Syu pulseaudio-alsa pulseaudio-bluetooth pavucontrol bluez bluez-libs bluez-utils bluez-firmware gstreamer0.10-good-plugins</code></p>
<h4 id="yaourt源码安装"><a href="#yaourt源码安装" class="headerlink" title="yaourt源码安装"></a>yaourt源码安装</h4><p><strong>1.修改源</strong></p>
<p>清华大学源<br><code>sudo vim /etc/pacman.conf</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[archlinuxcn]  </div><div class="line">SigLevel = Optional TrustedOnly  </div><div class="line">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/any</div></pre></td></tr></table></figure>
<p><strong>2.安装package-query</strong></p>
<p>从archlinux wiki上查找package-query包<br><code>git clone https://aur.archlinux.org/package-query.git</code><br><code>cd package-query</code><br><code>makepkg</code><br>缺少yajl依赖包，安装<br><code>sudo pacman -S yajl</code><br>重新编译<br><code>makepkg</code><br>编译完成后会在当前目录下生成pkg.tar.xz文件，套件安装：<br><code>sudo pacman -U /home/alan/package-query/package-query-1.6.2-1-armv7h.pkg.tar.xz</code></p>
<blockquote>
<p>注：修改alan为你的用户名，package-query-1.6.2-1-armv7h.pkg.tar.xz版本为生成的版本</p>
</blockquote>
<p><strong>3.安装yaourt</strong></p>
<p>根据我的上一篇帖子设置好archlinux aur的源地址，直接pacman -S yaourt出了些问题，少了key，pacman-key –init之后卡住不动，所以也手工编译吧。<br>大体流程和package-query一样，先下载：</p>
<p><code>git clone https://aur.archlinux.org/yaourt.git</code><br><code>cd yaourt</code><br>编译<br><code>makepkg</code><br>打包<br><code>sudo pacman -U /home/alan/yaourt/yaourt-1.6-1-any.pkg.tar.xz</code></p>
<blockquote>
<p>注意同上package-query安装</p>
</blockquote>
<h4 id="Python3安装"><a href="#Python3安装" class="headerlink" title="Python3安装"></a>Python3安装</h4><p><a href="https://wiki.archlinux.org/index.php/Python" target="_blank" rel="external">python3</a><br><code>sudo pacman -S python</code><br><strong>python-setuptools</strong><br><code>sudo pacman -S python-setuptools</code><br><strong>python-pip</strong><br><code>sudo pacman -S python-pip</code><br><strong>pyqt</strong><br><code>sudo pacman -S python-pyqt5</code></p>
<blockquote>
<p>相关连接<br><a href="https://wiki.archlinux.org/index.php/Qt#Python_.28PyQt.29" target="_blank" rel="external">QT-wiki</a></p>
</blockquote>
<p><strong>python-pyserial</strong><br><code>sudo pacman -S python-pyserial</code><br><strong>cxfreeze</strong><br><a href="http://cx-freeze.readthedocs.io/en/latest/" target="_blank" rel="external">官方打包说明</a><br><code>sudo pip install cx_Freeze</code></p>
<h4 id="udev-设备管理工具"><a href="#udev-设备管理工具" class="headerlink" title="udev-设备管理工具"></a>udev-设备管理工具</h4><p><a href="http://blog.csdn.net/xqf1528399071/article/details/52191637" target="_blank" rel="external">可参考博客</a><br><a href="https://wiki.archlinux.org/index.php/Udev" target="_blank" rel="external">archlinux wiki udev</a></p>
<p>1、查询串口号，需安装python-pyserial<br><code>python -m serial.tools.list_ports</code><br><img src="http://static.zybuluo.com/RedFalsh/r04ck73bkixpoqfhh1ugv571/image_1bagj59nqpe7ov7cq1ben1k799.png" alt="image_1bagj59nqpe7ov7cq1ben1k799.png-8.9kB"></p>
<p>2、根据串口号查询详细信息<br><code>udevadm info /dev/ttyUSB0</code><br><img src="http://static.zybuluo.com/RedFalsh/pmj4zlutgx0pvlkuyoqamqx4/image_1bagj63sq112quop9cl1f41qiem.png" alt="image_1bagj63sq112quop9cl1f41qiem.png-42.7kB"></p>
<p>3、根据这些信息重写串口设备命名规则，采用Linux的udev来自定义规则来管理设备名称</p>
<p><img src="http://static.zybuluo.com/RedFalsh/3comr6jy5lvr6qel8jltbxii/image_1bagj75lt10jdoe11qmf1o24deh13.png" alt="image_1bagj75lt10jdoe11qmf1o24deh13.png-109.7kB"></p>
<h4 id="VNC远程桌面–x11vnc"><a href="#VNC远程桌面–x11vnc" class="headerlink" title="VNC远程桌面–x11vnc"></a>VNC远程桌面–x11vnc</h4><p><strong>安装</strong><br><code>pacman -S x11vnc</code><br><strong>运行</strong><br>首先你需要运行一个x server服务器. 使用startx 或类似的. 完成后运行<br><strong>startx</strong><br><code>x11vnc -display :0 -auth ~/.Xauthority</code><br>如果失败，你可能需要作为root来运行<br><code>x11vnc -display :0 -autho /home/USER/.Xauthority</code><br><strong>GDM</strong><br>作为root, 运行<br><code>x11vnc -display :0 -auth /var/lib/gdm/:0.Xauth</code><br><strong>访问</strong><br>在其他机器运行VNC客户端, 然后输入运行了x11vnc服务器的IP地址. 点击连接, 然后你需要设置.<br><strong>SSH端口转发</strong></p>
<p>为了安全地使用x11vnc，您首先需要安装并且配置好SSH。<br>在启动x11vnc的时候，指定命令行选项“-localhost”，这将导致VNC服务只能绑定到本地网络界面。此时从外界直接连入的连接将被拒绝。<br>当您需要从另一台电脑上访问这个VNC服务的时候，首先用SSH登录到运行VNC的主机，将VNC服务监听的端口转发到您的本地主机。以下的例子中假设运行VNC的主机名为”foo”，VNC监听5900端口上：<br><code>ssh foo -L 5900:localhost:5900</code><br>SSH连接建立以后，打开VNC客户端程序，但是不要让它连接到foo的5900端口，而是连接到本机（localhost）的5900端口。<br>这样，您就可以通过加密渠道安全地访问远程X服务了。</p>
<p><br><br></p>
<h3 id="装逼命令"><a href="#装逼命令" class="headerlink" title="装逼命令"></a>装逼命令</h3><p><code>pacman -S screenfetch</code><br><img src="http://static.zybuluo.com/RedFalsh/g08qihdsctwapg61cgmf6ksu/image_1ba7r0e821e8g1r9g10vmvr21smn1g.png" alt="image_1ba7r0e821e8g1r9g10vmvr21smn1g.png-53.7kB"><br><code>yaourt -S oneko</code><br><img src="http://static.zybuluo.com/RedFalsh/kwliam1h87nvu8bx0x5wuoud/image_1ba7rflfr1l03mmvg153ak1gtt34.png" alt="image_1ba7rflfr1l03mmvg153ak1gtt34.png-62.5kB"><br><code>pacman -S cmatrix</code><br><img src="http://static.zybuluo.com/RedFalsh/1xwhoss67vynil8633583uq6/image_1ba7qs90678f1fmj1vol1kvj1iknm.png" alt="image_1ba7qs90678f1fmj1vol1kvj1iknm.png-58.3kB"><br><code>pacman -S asciiquarium</code><br><img src="http://static.zybuluo.com/RedFalsh/eaupfk9299vupdzsox37lvcn/image_1ba7qrbjj1sccn22e9u19g62ij9.png" alt="image_1ba7qrbjj1sccn22e9u19g62ij9.png-20.6kB"><br><code>yaourt -S toilet</code><br><img src="http://static.zybuluo.com/RedFalsh/hlvrd5q76dgwao6jsfkxocat/image_1ba7qtoll74i11dp4qq4bm1ig613.png" alt="image_1ba7qtoll74i11dp4qq4bm1ig613.png-9.8kB"><br><code>pacman -S figlet</code><br><img src="http://static.zybuluo.com/RedFalsh/1eko8kjrnvmno9c714wlnkrt/image_1ba7rc05mbs7vjn1rhk1usf1eb82n.png" alt="image_1ba7rc05mbs7vjn1rhk1usf1eb82n.png-7.9kB"><br><code>pacman -S sl</code><br><img src="http://static.zybuluo.com/RedFalsh/2q55h3ufxrs10lcnfyy4lwu1/image_1ba7r3cvo1egrt7e1iv4mkh1i351t.png" alt="image_1ba7r3cvo1egrt7e1iv4mkh1i351t.png-18.9kB"><br><code>pacman -S cowsay</code><br><img src="http://static.zybuluo.com/RedFalsh/4zu1bj8o9ktn7bfabvgy2thf/image_1ba7r7lnm7ni139p14rf1mkcm5n2a.png" alt="image_1ba7r7lnm7ni139p14rf1mkcm5n2a.png-12.7kB"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——VNC远程桌面操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——VNC远程桌面操作/" itemprop="url">Raspberry Pi 3——VNC远程桌面操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——VNC远程桌面操作"><a href="#Raspberry-Pi-3——VNC远程桌面操作" class="headerlink" title="Raspberry Pi 3——VNC远程桌面操作"></a>Raspberry Pi 3——VNC远程桌面操作</h1><h2 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h2><p>安装VNC需要使用命令行。如果需要远程操作安装VNC，就必须通过SSH登录到命令行界面。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>树莓派命令行：<br><code>sudo apt-get install tightvncserver</code><br>安装好之后请一定先使用此命令设置一个VNC密码：<br><code>vncpasswd</code><br>（先输入操作密码两次，然后会询问是否设置一个查看(view-only)密码，按自己喜欢，一般没必要。）</p>
<h3 id="开机自动启动"><a href="#开机自动启动" class="headerlink" title="开机自动启动"></a>开机自动启动</h3><p>设置开机启动，需要在/etc/init.d/中创建一个文件。例如tightvncserver：<br>（注：启动脚本的名称，有和程序名一致的习惯）<br><code>sudo nano /etc/init.d/tightvncserver</code><br>内容如下：（putty窗口中按右键=粘贴）#!/bin/sh</p>
<pre><code>#!/bin/sh
### BEGIN INIT INFO
# Provides:          tightvncserver
# Required-Start:    $local_fs
# Required-Stop:     $local_fs
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Start/stop tightvncserver
### END INIT INFO

# More details see:
# http://www.penguintutor.com/Linux/tightvnc

### Customize this entry
# Set the USER variable to the name of the user to start tightvncserver under
export USER=&apos;pi&apos;
### End customization required

eval cd ~$USER

case &quot;$1&quot; in
  start)
    # 启动命令行。此处自定义分辨率、控制台号码或其它参数。
    su $USER -c &apos;/usr/bin/tightvncserver -depth 16 -geometry 800x600 :1&apos;
    echo &quot;Starting TightVNC server for $USER &quot;
    ;;
  stop)
    # 终止命令行。此处控制台号码与启动一致。
    su $USER -c &apos;/usr/bin/tightvncserver -kill :1&apos;
    echo &quot;Tightvncserver stopped&quot;
    ;;
  *)
    echo &quot;Usage: /etc/init.d/tightvncserver {start|stop}&quot;
    exit 1
    ;;
esac
exit 0
</code></pre><p>注：少数玩家默认用户不是pi的请自行更改USER变量<br>按Ctrl+X，回答Y（存盘）退出nano编辑器。<br>然后给tightvncserver文件加执行权限，并更新开机启动列表。</p>
<p><code>sudo chmod 755 /etc/init.d/tightvncserver</code><br><code>sudo update-rc.d tightvncserver defaults</code></p>
<h3 id="电脑登录VNC"><a href="#电脑登录VNC" class="headerlink" title="电脑登录VNC"></a>电脑登录VNC</h3><p>下载Windows客户端<a href="http://pan.baidu.com/share/link?shareid=547427462&amp;uk=605377859" target="_blank" rel="external">RealVNC Viewer</a><br>登录地址输入“IP地址:控制台号码”，0号控制台可不加号码,也可使用Android版VNC客户端，下载地址：<a href="http://android.d.cn/software/19334.html" target="_blank" rel="external">http://android.d.cn/software/19334.html</a><br> <img src="http://static.zybuluo.com/RedFalsh/k5vi020vjipy0ocoqmd8zyug/image_1bboiikhcqbssnh1b811f0d12pd9.png" alt="image_1bboiikhcqbssnh1b811f0d12pd9.png-14.7kB"><br>输入树莓派密码就可以了</p>
<p>登录界面如下：</p>
<p> <img src="http://static.zybuluo.com/RedFalsh/au42ip2fu7vu00tg6mgcn741/image_1bboijkri1s56f07fd51ara1d40m.png" alt="image_1bboijkri1s56f07fd51ara1d40m.png-127.5kB"></p>
<p>附：手工启动与参数（以下用处不大，没兴趣请略过）<br>使用此命令手工启动VNC服务器程序：<br><code>tightvncserver -geometry 800x600 :1</code><br>如果首次启动，并且未曾使用vncpasswd命令设置密码，程序会要求设置一个。<br>开机启动很方便。如果没理由，真的不推荐手工启动。<br>命令行参数说明：<br>一、<code>:1</code>指定控制台的号码。<br>启动多个控制台，可以提供互不影响的多个桌面环境。（大多数人不用多用户操作所以没意义）<br>可以不加此参数，tightvncserver会自动寻找从1开始的下一个空闲控制台。<br>加上此参数，会强制使用指定的控制台，如果此控制台已经启动则报错。加此参数可有效防止无意多次启动程序（会启动多个控制台）白白浪费系统资源。<br>特殊的0号控制台<br>0号控制台就是连接真实显示器真正输出图像的那个桌面。<br>对于VNC客户端，不输入端口号登录，默认就登录到0号控制台，方便。<br>但是因为0号是真正的桌面，所以和开机启动桌面环境，或者自己用startx命令，都存在啰嗦的冲突。<br>到头来是个麻烦。因此自动启动的配置教程中，一律使用1号控制台。<br>二、<code>-geometry 800×600</code>，分辨率。可以不加。<br>终止VNC控制台：<br><code>tightvncserver -kill :1</code><br>查看正在运行的控制台列表：<br><code>ps ax | grep Xtightvnc | grep -v grep</code></p>
<h2 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h2><p>转载请注明：@小五义<a href="http://www.cnblogs.com/xiaowuyi" target="_blank" rel="external">http://www.cnblogs.com/xiaowuyi</a></p>
<p>一、添加国内软件源<br>Raspberry Pi(树莓派)国内软件源：（<a href="http://www.linuxidc.com/Linux/2013-10/91012.htm）" target="_blank" rel="external">http://www.linuxidc.com/Linux/2013-10/91012.htm）</a><br>修改配置文件：<br>pi@aborn ~ $ vi /etc/apt/sources.list</p>
<p>deb <a href="http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/</a> wheezy main contrib non-free rpi<br>deb-src <a href="http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/</a> wheezy main contrib non-free rpi<br>deb <a href="http://mirrors.neusoft.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.neusoft.edu.cn/raspbian/raspbian/</a> wheezy main contrib non-free rpi<br>deb-src <a href="http://mirrors.neusoft.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.neusoft.edu.cn/raspbian/raspbian/</a> wheezy main contrib non-free rpi<br>deb <a href="http://mirrors.ustc.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.ustc.edu.cn/raspbian/raspbian/</a> wheezy main contrib non-free rpi<br>deb-src <a href="http://mirrors.ustc.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.ustc.edu.cn/raspbian/raspbian/</a> wheezy main contrib non-free rpi</p>
<p>（这里如果vi不会用，可以百度一下。）<br>修改文件后，在终端中运行：<br>sudo apt-get update</p>
<p>二、添加输入法<br>这里我习惯用fcitx<br>于是安装fcitx<br><code>sudo apt-get install fcitx fcitx-tables-wbpy</code></p>
<p>三、添加vnc server<br><code>sudo apt-get update</code><br><code>sudo apt-get install tightvncserver</code><br>安装完成后，运行<br><code>tightvncserver</code><br>这时会要求输入控制密码，选择性输入查看密码，查看密码只能用来查看桌面，而控制密码才能对桌面进行操作。<br>此后，在电脑上安装vnc软件，下载地址：<a href="http://www.tightvnc.com/" target="_blank" rel="external">http://www.tightvnc.com/</a><br>安装时，选择自定义安装，仅安装tightvncviewer就可以。<br>每个用户可以启动多个VNCSERVER远程桌面，它们用ip加端口号：ip:1、ip:2、ip:3来标识、区分，使用同一端口会使另外登录的用户自动退出。<br>四、设定固定IP<br>设定成固定IP后，方便日后操作，不需要每次先读取到IP才能工作。设定方法很简 单，通过修改文件sudo vi /etc/network/interfaces文件完成，这里会用到root权限，树莓派root权限的获取可参考上一节评论（http: //www.cnblogs.com/xiaowuyi/p/3980037.html）。<br>1、有线网络固定IP修改<br>原文件为：</p>
<pre><code>auto lo

iface lo inet loopback
iface eth0 inet dhcp

allow-hotplug wlan0
iface wlan0 inet manual
wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
iface default inet dhcp
</code></pre><p>这里iface eth0 inet dhcp设置有线网络eth0为动态获取IP，因此可做如下修改：</p>
<pre><code>auto lo
iface lo inet loopback
iface eth0 inet static
address 192.168.1.123
netmask 255.255.255.0
gateway 192.168.1.1

allow-hotplug wlan0
iface wlan0 inet manual
wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
iface default inet dhcp
</code></pre><p>2、无线网络的修改</p>
<pre><code>auto lo

iface lo inet loopback
iface eth0 inet dhcp

allow-hotplug wlan0
iface wlan0 inet manual
wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
iface default inet static
address 192.168.1.123
netmask 255.255.255.0
gateway 192.168.1.1
</code></pre><p>修改成功后，IP地址换为192.168.1.123。<br>五、vnc的使用<br>通过以上的安装，每次启动vnc后，我们就不需要再连接显示器了，而是直接通过电脑就可以操作。具体方法是：<br>启动后，电脑通过putty与其连接：<br>连接后，运行tightvncserver，建立一个新窗体。然后打开tightvncviewer，输入密码，出现窗体，如下图:<br>1、停止VNC窗口：<br><code>vncserver -kill:1</code><br>2、修改密码<br><code>vncpasswd</code><br>3、重启服务<br><code>service vncserver restart</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/MyJob/工作报告2017/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/MyJob/工作报告2017/" itemprop="url">工作报告2017</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MyJob/" itemprop="url" rel="index">
                    <span itemprop="name">MyJob</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="工作报告2017"><a href="#工作报告2017" class="headerlink" title="工作报告2017"></a>工作报告2017</h1><p>[TOC]</p>
<h2 id="时间：-2016-02-17"><a href="#时间：-2016-02-17" class="headerlink" title="时间： 2016.02.17"></a>时间： 2016.02.17</h2><table>
<thead>
<tr>
<th style="text-align:left">本周工作内容</th>
<th style="text-align:left">结果，存在的问题以及预定解决方案</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">iCE40 ultra单片机</td>
<td style="text-align:left">1、ice40的RAM读写测试：基本实现了功能，包括时序图功能分析，以及根据时序图进行开发板实际功能测试已完成。<br> 2、ice40 的RGB_LED状态显示与RAM读写测试结合起来进行状态显示，完成RAM的读写。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">下周工作内容</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">个人剂量仪系统准备工作</td>
<td style="text-align:left">由于个人剂量仪系统要去秦山核电实地测试，需要准备一下：<br>1、门禁需要更换。<br>2、运输准备。<br>3、仪器安装</td>
</tr>
</tbody>
</table>
<h2 id="时间：-2016-02-26"><a href="#时间：-2016-02-26" class="headerlink" title="时间： 2016.02.26"></a>时间： 2016.02.26</h2><table>
<thead>
<tr>
<th style="text-align:left">本周工作内容</th>
<th style="text-align:left">结果，存在的问题以及预定解决方案</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">个人剂量仪50台</td>
<td style="text-align:left">1、基地获取Co60 、Cs137 计数数据，存入数据库。<br>2、基准获取60Kv-250Kv 计数数据，存入数据库</td>
</tr>
<tr>
<td style="text-align:left">个人剂量仪配置软件更新</td>
<td style="text-align:left">根据基地和基准测试数据，软件修改如下：<br>1、本底测试数据库处理和计算，算出出最优系数并写入数据库<br>2、基地和基准计数计算，写入<br>3、刻度系数生成计算，写入个人剂量仪</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">下周工作内容</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">个人剂量仪系统准备工作</td>
<td style="text-align:left">由于上周重新购买的门禁到了需要准备一下：<br>1、门禁更换。<br>2、软件测试门禁系统。<br>3、整理文档</td>
</tr>
</tbody>
</table>
<h2 id="时间：-2016-03-06"><a href="#时间：-2016-03-06" class="headerlink" title="时间： 2016.03.06"></a>时间： 2016.03.06</h2><table>
<thead>
<tr>
<th style="text-align:left">本周工作内容</th>
<th style="text-align:left">结果，存在的问题以及预定解决方案</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">安装数据中转器</td>
<td style="text-align:left">一共三套数据中转器<br>1、系统以及程序同步。<br>2、外壳安装、准备备用配件。<br>3、打包装箱</td>
</tr>
<tr>
<td style="text-align:left">门禁安装调试包装</td>
<td style="text-align:left">1、完成门禁调试，新的门禁红外有点对不准，需调整门禁安放高度。<br>2、打包门禁系统，准备安装门禁的备用工具</td>
</tr>
<tr>
<td style="text-align:left">基地个人剂量仪校准</td>
<td style="text-align:left">挑选去秦山核电站需要用到的个人剂量仪30台</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">下周工作内容</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1、整理文档</td>
<td style="text-align:left">1、整理门禁按装使用说明、注意事项。<br>2、数据中转器安装、使用说明，程序使用流程等</td>
</tr>
<tr>
<td style="text-align:left">2、个人剂量仪管理软件修改</td>
<td style="text-align:left">后期需要移交给董文龙来进行个人剂量仪的数据采集，需整合规范一下</td>
</tr>
</tbody>
</table>
<h2 id="时间：-2016-03-19"><a href="#时间：-2016-03-19" class="headerlink" title="时间： 2016.03.19"></a>时间： 2016.03.19</h2><table>
<thead>
<tr>
<th style="text-align:left">本周工作内容</th>
<th style="text-align:left">结果，存在的问题以及预定解决方案</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">系统安装过程</td>
<td style="text-align:left">由于供电和办卡问题耽误了一段时间，手续很多，等电花了很多时间</td>
</tr>
<tr>
<td style="text-align:left">核电站调试门禁系统</td>
<td style="text-align:left">基本流程可运行，过程中遇到了部分问题<br>1、485数据通信问题，由于通信接口问题，重新做接头解决。<br>2、由于实际运行状况有些偏差，修改个人剂量仪仪器编号的读取和转码方式，完成实际工作状态。<br>3、还有部分程序漏洞和功能需要修改和添加。主要有以下2点<br> &emsp;&emsp;(1)进入需要配置个人剂量仪累积剂量清零以及时间信息误差。<br>&emsp;&emsp;(2)需要开设串口通信状态检测线程，防止串口断掉后程序通信不成功，影响正常工作。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">下周工作内容</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1、测试系统</td>
<td style="text-align:left">1、监管系统运行状态，并做好相应的问题记录</td>
</tr>
</tbody>
</table>
<h2 id="时间：-2016-03-27"><a href="#时间：-2016-03-27" class="headerlink" title="时间： 2016.03.27"></a>时间： 2016.03.27</h2><table>
<thead>
<tr>
<th style="text-align:left">本周工作内容</th>
<th style="text-align:left">结果，存在的问题以及预定解决方案</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">系统测试</td>
<td style="text-align:left">经过本周的测试，获取了大部分现场实测数据，也发现了系统的许多问题，如下：<br>1、人员进出流程需要添加配置文件，来适应不同工作场合对应的不同工作流程。<br>2、需要添加个人剂量仪仪器编号二次获取功能，防止人员编号和仪器编号出现不对应的情况。<br>3、部分个人剂量仪工作一段时间后会出现显示屏显示错误，应该是显示屏焊接的问题。<br>4、需要添加串口通信硬件检测功能，便于快速找出通信异常的端口。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">下周工作内容</th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1、系统测试</td>
<td style="text-align:left">1、监管系统运行状态，并做好相应的问题记录。<br> 2、对上周遇到的问题进行修改和改进</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——noVNC安装测试步骤（web远程vnc访问）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——noVNC安装测试步骤（web远程vnc访问）/" itemprop="url">Raspberry Pi 3——noVNC安装测试步骤（web远程vnc访问）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——noVNC安装测试步骤（web远程vnc访问）"><a href="#Raspberry-Pi-3——noVNC安装测试步骤（web远程vnc访问）" class="headerlink" title="Raspberry Pi 3——noVNC安装测试步骤（web远程vnc访问）"></a>Raspberry Pi 3——noVNC安装测试步骤（web远程vnc访问）</h1><h2 id="安装novnc"><a href="#安装novnc" class="headerlink" title="安装novnc"></a>安装novnc</h2><p><code>$sudo apt-get install Git</code><br><code>$git clone https://github.com/kanaka/noVNC</code><br><code>$cd noVNC</code><br><code>$./utils/launch.sh --vnc localhost:5901</code><br><img src="http://static.zybuluo.com/RedFalsh/2n0bmdottgsjjwddi9vagcnf/image_1bboh23un1qn2t271rh2qjg9.png" alt="image_1bboh23un1qn2t271rh2qjg9.png-29.6kB"></p>
<h2 id="打开浏览器，访问上面URL"><a href="#打开浏览器，访问上面URL" class="headerlink" title="打开浏览器，访问上面URL"></a>打开浏览器，访问上面URL</h2><p><img src="http://static.zybuluo.com/RedFalsh/dq3xv8j45tdpltf9rz3awoe4/image_1bboh2d4o1nh715qp1oe9qjfkugm.png" alt="image_1bboh2d4o1nh715qp1oe9qjfkugm.png-355.9kB"><br>连接即可看见树莓派桌面！</p>
<h2 id="高级设置"><a href="#高级设置" class="headerlink" title="高级设置"></a>高级设置</h2><p>1，修改6080默认端口<br><code>$./utils/websockify --web ./ 8787 localhost:5901</code></p>
<p>2,可以讲localhost改成所有安装了vncserver的IP地址，例如：<br><code>$./utils/websockify --web ./ 8787 192.168.1.10:5901</code></p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>1，vncserver的默认端口一般为5900或5901，具体端口看vncserver安装后给出的端口，比如x11vnc可能为5902</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>2.连接速度太慢，安装numpy可解决，见博客最后；<br>3.画质不好。<br>附：安装numpy，解决连接速度慢：<br>1.在官网上下载该包：<a href="http://sourceforge.NET/projects/numpy/files/" target="_blank" rel="external">http://sourceforge.NET/projects/numpy/files/</a><br>2.解压<br>3.cd进入解压后的路径<br>4.输入命令<br><code>Python setup.py install</code><br>5.安装完成</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——python3+pyqt5+matplotlib环境搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——python3+pyqt5+matplotlib环境搭建/" itemprop="url">Raspberry Pi 3——python3+pyqt5+matplotlib环境搭建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——python3-pyqt5-matplotlib环境搭建"><a href="#Raspberry-Pi-3——python3-pyqt5-matplotlib环境搭建" class="headerlink" title="Raspberry Pi 3——python3+pyqt5+matplotlib环境搭建"></a>Raspberry Pi 3——python3+pyqt5+matplotlib环境搭建</h1><h2 id="python3"><a href="#python3" class="headerlink" title="python3"></a>python3</h2><p>1、为python3安装pyqt5：<br><code>sudo apt-get install python3-pyqt5</code><br>2、为python3安装matplotlib：<br><code>sudo apt-get install python3-matplotlib</code><br>注意：编写的py文件打开方式要选择环境Python2还是Python3</p>
<h2 id="python2"><a href="#python2" class="headerlink" title="python2"></a>python2</h2><p>命令（为python2安装matplotlib）：<br><code>sudo apt-get install python-matplotlib</code><br>命令（为python2安装pyqt5）：<br><code>sudo apt-get install python-pyqt5</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——udev根据设备ID等信息固定串口号/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——udev根据设备ID等信息固定串口号/" itemprop="url">Raspberry Pi 3——udev根据设备ID等信息固定串口号</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——udev根据设备ID等信息固定串口号"><a href="#Raspberry-Pi-3——udev根据设备ID等信息固定串口号" class="headerlink" title="Raspberry Pi 3——udev根据设备ID等信息固定串口号"></a>Raspberry Pi 3——udev根据设备ID等信息固定串口号</h1><h2 id="查询串口号"><a href="#查询串口号" class="headerlink" title="查询串口号"></a>查询串口号</h2><p><code>python -m serial.tools.list_ports</code><br><img src="http://static.zybuluo.com/RedFalsh/eil0ejhgzmi8kkxl2tqbvjln/image_1bboj17b01i2964c2q21q8s6se9.png" alt="image_1bboj17b01i2964c2q21q8s6se9.png-9kB"></p>
<h2 id="列出串口详细信息"><a href="#列出串口详细信息" class="headerlink" title="列出串口详细信息"></a>列出串口详细信息</h2><p><code>udevadm info /dev/ttyUSB0</code><br> <img src="http://static.zybuluo.com/RedFalsh/nwdw8cps6n7z7bzgugis5jaq/image_1bboj1dc6pvpaodahh14n63jfm.png" alt="image_1bboj1dc6pvpaodahh14n63jfm.png-42.7kB"><br>根据这些信息重写串口设备命名规则，采用Linux的udev来自定义规则来管理设备名称<br> <img src="http://static.zybuluo.com/RedFalsh/djudfgjzqhw6hnc593b3k44q/image_1bboj1jf5dkm1e6797k1itd8ne13.png" alt="image_1bboj1jf5dkm1e6797k1itd8ne13.png-113.8kB"></p>
<h2 id="添加修改规则文件"><a href="#添加修改规则文件" class="headerlink" title="添加修改规则文件"></a>添加修改规则文件</h2><p><code>sudo vi /etc/udev/rules.d/98-com.rules</code><br>如98-com.rules文件，根据串口信息</p>
<pre><code>E: ID_SERIAL_SHORT=FTH7R3JS
E: SUBSYSTEM=tty
</code></pre><p>修改里面内容为下面</p>
<pre><code>SUBSYSTEM==&quot;tty&quot;,
ENV{ID_SERIAL_SHORT}==&quot;A1051JVT&quot;,
SYMLINK+=&quot;ttyUSBname&quot;#这里为自定义的串口名字
</code></pre><p> <img src="http://static.zybuluo.com/RedFalsh/6b0uw1rb6p0tnqplzpymbs2u/image_1bboj1qmvcg2l0upl515jo14ud1g.png" alt="image_1bboj1qmvcg2l0upl515jo14ud1g.png-10.6kB"><br>注意：这里自定义名称不能跟原来的ttyUSB0等之类的相同，不然会错误的！！！！！！</p>
<p>参考网址：<a href="http://superuser.com/questions/536478/how-to-lock-device-ids-to-port-addresses" target="_blank" rel="external">http://superuser.com/questions/536478/how-to-lock-device-ids-to-port-addresses</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——修改软件源/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——修改软件源/" itemprop="url">Raspberry Pi 3——修改软件源</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——修改软件源"><a href="#Raspberry-Pi-3——修改软件源" class="headerlink" title="Raspberry Pi 3——修改软件源"></a>Raspberry Pi 3——修改软件源</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文说明如何修改树莓派软件源。如果使用raspbian系统，修改软件源的方法和ubuntu相同，可在<a href="http://www.raspbian.org找到最新的软件源镜像，修改/etc/apt/sources文件中的内容即可。" target="_blank" rel="external">http://www.raspbian.org找到最新的软件源镜像，修改/etc/apt/sources文件中的内容即可。</a></p>
<h2 id="修改sources-list"><a href="#修改sources-list" class="headerlink" title="修改sources.list"></a>修改sources.list</h2><ul>
<li>备份<br>在修改之前先把源列表备份，然后再修改sources.list<br><code>cd /etc/apt</code><br><code>cp sources.list sources.list_back</code></li>
<li>修改<br><code>sudo nano sources.list</code><br>例如使用大连东软信息学院软件源镜像，修改之后的内容如下：</li>
<li>wheezy版本<br>deb <a href="http://mirrors.neusoft.edu.cn/raspbian/raspbian" target="_blank" rel="external">http://mirrors.neusoft.edu.cn/raspbian/raspbian</a> wheezy main contrib non-free rpi </li>
<li>jessie版本<br>deb <a href="http://mirrors.neusoft.edu.cn/raspbian/raspbian" target="_blank" rel="external">http://mirrors.neusoft.edu.cn/raspbian/raspbian</a> jessie main contrib non-free rpi</li>
</ul>
<h2 id="更新软件源和软件"><a href="#更新软件源和软件" class="headerlink" title="更新软件源和软件"></a>更新软件源和软件</h2><ul>
<li>更新软件源<br><code>sudo apt-get update</code></li>
<li>更新软件<br><code>sudo apt-get upgrade</code></li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://blog.csdn.net/xukai871105/article/details/23115627" target="_blank" rel="external">树莓派学习笔记</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——开源堡垒机Gate One的安装、配置笔记（远程web访问）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——开源堡垒机Gate One的安装、配置笔记（远程web访问）/" itemprop="url">Raspberry Pi 3——开源堡垒机Gate One的安装、配置笔记（远程web访问）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——开源堡垒机Gate-One的安装、配置笔记（远程web访问）"><a href="#Raspberry-Pi-3——开源堡垒机Gate-One的安装、配置笔记（远程web访问）" class="headerlink" title="Raspberry Pi 3——开源堡垒机Gate One的安装、配置笔记（远程web访问）"></a>Raspberry Pi 3——开源堡垒机Gate One的安装、配置笔记（远程web访问）</h1><h2 id="Gate-One简介"><a href="#Gate-One简介" class="headerlink" title="Gate One简介"></a>Gate One简介</h2><p>GateOne是一款基于HTML5的开源终端模拟器/SSH客户端，同时内置强大的插件功能。它自带的插件使其成为一款令人惊艳的SSH客户端，但是，它可以用于运行任何终端应用。用户可以将GateOne嵌入其他应用程序从而提供各类终端访问界面，它也支持各类基于Web的管理界面……后面的大家自己看吧</p>
<p>Gate One在后台进程是使用Python实现的，其前端则是JaveScript+WebSockets。关于Gate One的介绍、源码和文档请参考下面的链接。</p>
<p>Gate One主页：<a href="http://liftoffsoftware.com/Products/GateOne" target="_blank" rel="external">http://liftoffsoftware.com/Products/GateOne</a><br>Gate One源码：<a href="https://github.com/liftoff/GateOne" target="_blank" rel="external">https://github.com/liftoff/GateOne</a><br>Gate One文档：<a href="http://liftoff.github.io/GateOne/" target="_blank" rel="external">http://liftoff.github.io/GateOne/</a></p>
<h2 id="Gate-One安装"><a href="#Gate-One安装" class="headerlink" title="Gate One安装"></a>Gate One安装</h2><p>Gate One要求系统必须满足下面两个前提条件，<br>  （1）python: 2.6+ or 3.2+<br>  （2）Tornado Framework 2.2+</p>
<h3 id="系统环境准备"><a href="#系统环境准备" class="headerlink" title="系统环境准备"></a>系统环境准备</h3><p>在命令行终端中输入命令<br><code>$ python -V</code><br>查看你本机是否安装了python，如果先安装python（注：树莓派上面自己带有python2和python3，python2对应python命令，python3对应python3命令）。<br>然后安装pip，<br><code>$ wget  --no-check-certificate https://bootstrap.pypa.io/get-pip.py</code><br><code>$ sudo python get-pip.py</code><br>安装tornado，<br><code>$ sudo pip install tornado</code><br>安装完成之后，我们来验证一下我们的环境，<br><code>$ python -V</code><br><code>$ python -c &quot;import tornado; print(tornado.version)&quot;</code><br><img src="http://static.zybuluo.com/RedFalsh/cf422ionyhf4bv1qozr2dg0h/image_1bbohallt16b0ces1flp1nd2k29.png" alt="image_1bbohallt16b0ces1flp1nd2k29.png-11.3kB"></p>
<h3 id="Gate-One获取和安装"><a href="#Gate-One获取和安装" class="headerlink" title="Gate One获取和安装"></a>Gate One获取和安装</h3><p>如果本地没有安装Git，则先安装git，<br><code>$ sudo apt-get install git</code><br>获取Gate One源码并进行安装，（注：这个地方git clone会下载到当前目录下！所以下载前记得cd到你想下载的位置目录去）<br><code>$ git clone https://github.com/liftoff/GateOne.git</code><br><code>$ cd GateOne</code><br><code>$ sudo python ./setup.py install</code></p>
<h2 id="Gate-One验证"><a href="#Gate-One验证" class="headerlink" title="Gate One验证"></a>Gate One验证</h2><p>Gate One的配置文件是/etc/gateone/conf.d/10server.conf，<br>[python] view plain copy print?在CODE上查看代码片派生到我的代码片<br><code>sudo vi /etc/gateone/conf.d/10server.conf</code>  </p>
<p>我们修改配置文件如下图：<br><img src="http://static.zybuluo.com/RedFalsh/2cdsoru8v51ilhio6dkrkspt/image_1bbohbqbg8qi1jf01fvmfm52rmm.png" alt="image_1bbohbqbg8qi1jf01fvmfm52rmm.png-85.2kB"><br>这里我们修改了：<br>“address” = “192.168.1.106” 这个是树莓派的ip地址<br>“https_redirect” = “true”<br>“port” = 8000 这个是监听端口</p>
<p>其他默认就可以了<br>输入命令：<br><code>$ sudo gateone</code></p>
<p>启动后，通过打印的信息，我们看到Gate One服务监听了8000端口号，然后在浏览器中输入<a href="https://192.168.1.106:8000/即可打开gateone的网页，这个貌似是局域网内......。" target="_blank" rel="external">https://192.168.1.106:8000/即可打开gateone的网页，这个貌似是局域网内......。</a><br>网络会进行拦截，点击   高级 ——添加例外——确认即可</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——树莓派开机LOGO设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——树莓派开机LOGO设置/" itemprop="url">Raspberry Pi 3——树莓派开机LOGO设置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——树莓派开机LOGO设置"><a href="#Raspberry-Pi-3——树莓派开机LOGO设置" class="headerlink" title="Raspberry Pi 3——树莓派开机LOGO设置"></a>Raspberry Pi 3——树莓派开机LOGO设置</h1><ul>
<li><p>安装<code>fbi</code><br><code>sudo apt-get install fbi</code></p>
</li>
<li><p>拷贝你需要显示的splash图片至 <code>/etc/</code> 命名为<code>splash.png</code>.</p>
</li>
<li>接下来,创建一个<code>init.d</code>脚本称为<code>asplashscreen</code> 放入<code>/ etc /init.d/</code>文件目录下。<br>我选择文件名字为<code>asplashscreen</code>和一个<code>a</code>开始时先确保它开始。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line">#! /bin/sh  </div><div class="line">  </div><div class="line">### BEGIN INIT INFO  </div><div class="line">  </div><div class="line"># Provides:          asplashscreen  </div><div class="line">  </div><div class="line"># Required-Start:  </div><div class="line">  </div><div class="line"># Required-Stop:  </div><div class="line">  </div><div class="line"># Should-Start:        </div><div class="line">  </div><div class="line"># Default-Start:     S  </div><div class="line">  </div><div class="line"># Default-Stop:  </div><div class="line">  </div><div class="line"># Short-Description: Show custom splashscreen  </div><div class="line">  </div><div class="line"># Description:       Show custom splashscreen  </div><div class="line">  </div><div class="line">### END INIT INFO  </div><div class="line">  </div><div class="line">   </div><div class="line">  </div><div class="line">   </div><div class="line">  </div><div class="line">do_start () &#123;  </div><div class="line">  </div><div class="line">   </div><div class="line">  </div><div class="line">    /usr/bin/fbi -T 1 -noverbose -a /etc/splash.png      </div><div class="line">  </div><div class="line">    exit 0  </div><div class="line">  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line">   </div><div class="line">  </div><div class="line">case &quot;$1&quot; in  </div><div class="line">  </div><div class="line">  start|&quot;&quot;)  </div><div class="line">  </div><div class="line">    do_start  </div><div class="line">  </div><div class="line">    ;;  </div><div class="line">  </div><div class="line">  restart|reload|force-reload)  </div><div class="line">  </div><div class="line">    echo &quot;Error: argument &apos;$1&apos; not supported&quot; &gt;&amp;2  </div><div class="line">  </div><div class="line">    exit 3  </div><div class="line">  </div><div class="line">    ;;  </div><div class="line">  </div><div class="line">  stop)  </div><div class="line">  </div><div class="line">    # No-op  </div><div class="line">  </div><div class="line">    ;;  </div><div class="line">  </div><div class="line">  status)  </div><div class="line">  </div><div class="line">    exit 0  </div><div class="line">  </div><div class="line">    ;;  </div><div class="line">  </div><div class="line">  *)  </div><div class="line">  </div><div class="line">    echo &quot;Usage: asplashscreen [start|stop]&quot; &gt;&amp;2  </div><div class="line">  </div><div class="line">    exit 3  </div><div class="line">  </div><div class="line">    ;;  </div><div class="line">  </div><div class="line">esac  </div><div class="line">  </div><div class="line">   </div><div class="line">  </div><div class="line">:</div></pre></td></tr></table></figure>
<p>上面是脚本文件内容</p>
<ul>
<li><p>然后使init脚本可执行并安装模式rcS:<br><code>sudo chmod a+x /etc/init.d/asplashscreen</code><br><code>sudo insserv /etc/init.d/asplashscreen</code> </p>
</li>
<li><p>重启,看您的自定义启动画面:<br><code>sudo reboot</code></p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/20/Learning/Raspberry/Raspberry Pi 3——给树莓派挂载移动硬盘或U盘/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Welcome">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/20/Learning/Raspberry/Raspberry Pi 3——给树莓派挂载移动硬盘或U盘/" itemprop="url">Raspberry Pi 3——给树莓派挂载移动硬盘或U盘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-20T21:04:04+00:00">
                2017-03-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  . 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry-Pi-3——给树莓派挂载移动硬盘或U盘"><a href="#Raspberry-Pi-3——给树莓派挂载移动硬盘或U盘" class="headerlink" title="Raspberry Pi 3——给树莓派挂载移动硬盘或U盘"></a>Raspberry Pi 3——给树莓派挂载移动硬盘或U盘</h1><ul>
<li><p>查看U盘信息<br><code>fdisk -l</code></p>
</li>
<li><p>挂载U盘<br><code>sudo mkdir /mnt/1GB_USB_flash</code><br><code>sudo mount -o uid=pi,gid=pi /dev/sda1 /mnt/1GB_USB_flash</code></p>
</li>
<li>卸载U盘<br><code>sudo umount /mnt/1GB_USB_flash</code>  </li>
</ul>
<p>sda1 是取决于你的实际情况，a表示第一个硬盘，1表示第一个分区。</p>
<h2 id="挂载exFAT格式的硬盘"><a href="#挂载exFAT格式的硬盘" class="headerlink" title="挂载exFAT格式的硬盘"></a>挂载exFAT格式的硬盘</h2><p>FAT 格式U盘mount 本身就能支持，但如果你的U盘或移动硬盘使用的是exFAT 格式，mount会说不支持。没关系，安装 exfat-fuse软件之后 mount就支持了。<br><code>sudo apt-get install exfat-fuse</code></p>
<p>如果想开机自动挂载，而不是每次手工执行，可以编辑 /etc/fstab 文件。比如在末尾添加一行：<br><code>/dev/sda1 /mnt/usbdisk vfat rw,defaults 0 0</code><br>挂载NTFS格式的硬盘(读写方式挂载)<br>默认挂载NTFS格式的硬盘只有只读权限，需要借助其它工具实现。</p>
<ul>
<li>安装所需软件包<br><code>sudo apt-get install fuse-utils ntfs-3g</code></li>
<li>加载内核模块<br><code>modprobe fuse</code></li>
<li>编辑fstab让移动硬盘开机自动挂载<br><code>sudo nano /etc/fstab</code>  </li>
<li><p>在最后一行添加如下内容<br><code>/dev/sda1 /mnt/myusbdrive ntfs-3g defaults,noexec,umask=0000 0 0</code> </p>
</li>
<li><p>保存重启，即可生效  </p>
</li>
</ul>
<h2 id="挂载FAT32格式的硬盘"><a href="#挂载FAT32格式的硬盘" class="headerlink" title="挂载FAT32格式的硬盘"></a>挂载FAT32格式的硬盘</h2><ul>
<li>创建挂载点<br><code>sudo mkdir /mnt/myusbdrive</code></li>
<li>编辑fstab让移动硬盘开机自动挂载<br><code>sudo nano /etc/fstab</code></li>
<li>在最后一行添加如下内容<br><code>/dev/sda1 /mnt/myusbdrive auto defaults,noexec,umask=0000 0 0</code></li>
<li>保存重启，即可生效  </li>
</ul>
<p>说明：<br>sda1是取决于你的实际情况，a表示第一个硬盘，1表示第一个分区。<br><code>umask=0000 0 0</code><br>前面四个0就是对所有人,可读可写可执行,<br>后面两个0,第一个代表dump,0是不备份<br>第二个代表fsck检查的顺序,0表示不检查<br>卸载：<code>sudo umount /mnt/myusbdrive</code><br>查看挂载情况可使用以下命令。<br><code>cd /mnt/myusbdrive</code><br><code>ls</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="redfalsh" />
          <p class="site-author-name" itemprop="name">redfalsh</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">44</span>
                <span class="site-state-item-name">Artikel</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">Kategorien</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">27</span>
                <span class="site-state-item-name">Tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">redfalsh</span>
</div>


<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
