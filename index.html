<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="小熊博客@v@">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="小熊博客@v@">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小熊博客@v@">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>小熊博客@v@</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小熊博客@v@</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">redfalsh's blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/10/Learning/Python/python-pythondialog(unix终端对话框)/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/10/Learning/Python/python-pythondialog(unix终端对话框)/" itemprop="url">python-dialog(unix显示终端对话框)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-10T21:48:16+08:00">
                2017-06-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="python-dialog-unix显示终端对话框"><a href="#python-dialog-unix显示终端对话框" class="headerlink" title="python-dialog(unix显示终端对话框)"></a>python-dialog(unix显示终端对话框)</h1><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://pypi.python.org/pypi/pythondialog/" target="_blank" rel="noopener">主页：https://pypi.python.org/pypi/pythondialog/</a><br><a href="http://pythondialog.sourceforge.net/doc/" target="_blank" rel="noopener">使用文档：http://pythondialog.sourceforge.net/doc/</a></p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>一个python界面应用与UNIX对话框框功能,兼容大部分程序<br>A Python interface to the UNIX dialog utility and mostly-compatible programs</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><code>pip install pythondialog</code></p>
<h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># encoding: utf-8</span><br><span class="line"></span><br><span class="line"># demo.py --- A simple demonstration program for pythondialog</span><br><span class="line"># Copyright (C) 2000  Robb Shecter, Sultanbek Tezadov</span><br><span class="line"># Copyright (C) 2002, 2004  Florent Rougon</span><br><span class="line">#</span><br><span class="line"># This program is in the public domain.</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;Demonstration program for pythondialog.</span><br><span class="line"></span><br><span class="line">This is a simple program demonstrating the possibilities offered by</span><br><span class="line">the pythondialog module (which is itself a Python interface to the</span><br><span class="line">well-known dialog utility, or any other program compatible with</span><br><span class="line">dialog).</span><br><span class="line"></span><br><span class="line">Please have a look at the documentation for the `handle_exit_code&apos;</span><br><span class="line">function in order to understand the somewhat relaxed error checking</span><br><span class="line">policy for pythondialog calls in this demo.</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import sys, os, os.path, time, string, dialog</span><br><span class="line"></span><br><span class="line">FAST_DEMO = 0</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># XXX We should handle the new DIALOG_HELP and DIALOG_EXTRA return codes here.</span><br><span class="line">def handle_exit_code(d, code):</span><br><span class="line">    &quot;&quot;&quot;Sample function showing how to interpret the dialog exit codes.</span><br><span class="line"></span><br><span class="line">    This function is not used after every call to dialog in this demo</span><br><span class="line">    for two reasons:</span><br><span class="line"></span><br><span class="line">       1. For some boxes, unfortunately, dialog returns the code for</span><br><span class="line">          ERROR when the user presses ESC (instead of the one chosen</span><br><span class="line">          for ESC). As these boxes only have an OK button, and an</span><br><span class="line">          exception is raised and correctly handled here in case of</span><br><span class="line">          real dialog errors, there is no point in testing the dialog</span><br><span class="line">          exit status (it can&apos;t be CANCEL as there is no CANCEL</span><br><span class="line">          button; it can&apos;t be ESC as unfortunately, the dialog makes</span><br><span class="line">          it appear as an error; it can&apos;t be ERROR as this is handled</span><br><span class="line">          in dialog.py to raise an exception; therefore, it *is* OK).</span><br><span class="line"></span><br><span class="line">       2. To not clutter simple code with things that are</span><br><span class="line">          demonstrated elsewhere.</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # d is supposed to be a Dialog instance</span><br><span class="line">    if code in (d.DIALOG_CANCEL, d.DIALOG_ESC):</span><br><span class="line">        if code == d.DIALOG_CANCEL:</span><br><span class="line">            msg = &quot;You chose cancel in the last dialog box. Do you want to &quot; \</span><br><span class="line">                  &quot;exit this demo?&quot;</span><br><span class="line">        else:</span><br><span class="line">            msg = &quot;You pressed ESC in the last dialog box. Do you want to &quot; \</span><br><span class="line">                  &quot;exit this demo?&quot;</span><br><span class="line">        # &quot;No&quot; or &quot;ESC&quot; will bring the user back to the demo.</span><br><span class="line">        # DIALOG_ERROR is propagated as an exception and caught in main().</span><br><span class="line">        # So we only need to handle OK here.</span><br><span class="line">        if d.yesno(msg) == d.DIALOG_OK:</span><br><span class="line">            sys.exit(0)</span><br><span class="line">        return 0</span><br><span class="line">    else:</span><br><span class="line">        return 1                        # code is d.DIALOG_OK</span><br></pre></td></tr></table></figure>
<h3 id="信息显示"><a href="#信息显示" class="headerlink" title="信息显示"></a>信息显示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def infobox_demo(d):</span><br><span class="line">    # Exit code thrown away to keey this demo code simple (however, real</span><br><span class="line">    # errors are propagated by an exception)</span><br><span class="line">    d.infobox(&quot;One moment, please. Just wasting some time here to &quot;</span><br><span class="line">              &quot;show you the infobox...&quot;)</span><br><span class="line"></span><br><span class="line">    if FAST_DEMO:</span><br><span class="line">        time.sleep(0.5)</span><br><span class="line">    else:</span><br><span class="line">        time.sleep(3)</span><br></pre></td></tr></table></figure>
<h3 id="进度条显示－gauge-box"><a href="#进度条显示－gauge-box" class="headerlink" title="进度条显示－gauge_box"></a>进度条显示－gauge_box</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">def gauge_demo(d):</span><br><span class="line">    d.gauge_start(&quot;Progress: 0%&quot;, title=&quot;Still testing your patience...&quot;)</span><br><span class="line">    for i in range(1, 101):</span><br><span class="line">        if i &lt; 50:</span><br><span class="line">            d.gauge_update(i, &quot;Progress: %d%%&quot; % i, update_text=1)</span><br><span class="line">        elif i == 50:</span><br><span class="line">            d.gauge_update(i, &quot;Over %d%%. Good.&quot; % i, update_text=1)</span><br><span class="line">        elif i == 80:</span><br><span class="line">            d.gauge_update(i, &quot;Yeah, this boring crap will be over Really &quot;</span><br><span class="line">                            &quot;Soon Now.&quot;, update_text=1)</span><br><span class="line">        else:</span><br><span class="line">                d.gauge_update(i)</span><br><span class="line">        if FAST_DEMO:</span><br><span class="line">            time.sleep(0.01)</span><br><span class="line">        else:</span><br><span class="line">            time.sleep(0.1)</span><br><span class="line">    d.gauge_stop()</span><br></pre></td></tr></table></figure>
<h3 id="选择yes-or-no"><a href="#选择yes-or-no" class="headerlink" title="选择yes or no"></a>选择yes or no</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def yesno_demo(d):</span><br><span class="line">    # Return the answer given to the question (also specifies if ESC was</span><br><span class="line">    # pressed)</span><br><span class="line">    return d.yesno(&quot;Do you like this demo?&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="显示信息OK－msgbox"><a href="#显示信息OK－msgbox" class="headerlink" title="显示信息OK－msgbox"></a>显示信息OK－msgbox</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def msgbox_demo(d, answer):</span><br><span class="line">    if answer == d.DIALOG_OK:</span><br><span class="line">        d.msgbox(&quot;Excellent! Press OK to see the source code.&quot;)</span><br><span class="line">    else:</span><br><span class="line">        d.msgbox(&quot;Well, feel free to send your complaints to /dev/null!&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="显示文件内容-textbox"><a href="#显示文件内容-textbox" class="headerlink" title="显示文件内容-textbox"></a>显示文件内容-textbox</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def textbox_demo(d):</span><br><span class="line">    d.textbox(&quot;demo.py&quot;, width=76)</span><br><span class="line">    d.textbox(&quot;demo.txt&quot;, width=76)</span><br></pre></td></tr></table></figure>
<h3 id="输入对话框，获取输入信息-inputbox"><a href="#输入对话框，获取输入信息-inputbox" class="headerlink" title="输入对话框，获取输入信息-inputbox"></a>输入对话框，获取输入信息-inputbox</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def inputbox_demo(d):</span><br><span class="line">    # If the user presses Cancel, he is asked (by handle_exit_code) if he</span><br><span class="line">    # wants to exit the demo. We loop as long as he tells us he doesn&apos;t want</span><br><span class="line">    # to do so.</span><br><span class="line">    while 1:</span><br><span class="line">        (code, answer) = d.inputbox(&quot;What&apos;s your name?&quot;, init=&quot;Snow White&quot;)</span><br><span class="line">        if handle_exit_code(d, code):</span><br><span class="line">            break</span><br><span class="line">    return answer</span><br></pre></td></tr></table></figure>
<h3 id="菜单分类显示-menubox"><a href="#菜单分类显示-menubox" class="headerlink" title="菜单分类显示-menubox"></a>菜单分类显示-menubox</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def menu_demo(d):</span><br><span class="line">    while 1:</span><br><span class="line">        (code, tag) = d.menu(</span><br><span class="line">            &quot;What&apos;s your favorite day of the week?&quot;,</span><br><span class="line">            width=60,</span><br><span class="line">            choices=[(&quot;Monday&quot;, &quot;Being the first day of the week...&quot;),</span><br><span class="line">                     (&quot;Tuesday&quot;, &quot;Comes after Monday&quot;),</span><br><span class="line">                     (&quot;Wednesday&quot;, &quot;Before Thursday day&quot;),</span><br><span class="line">                     (&quot;Thursday&quot;, &quot;Itself after Wednesday&quot;),</span><br><span class="line">                     (&quot;Friday&quot;, &quot;The best day of all&quot;),</span><br><span class="line">                     (&quot;Saturday&quot;, &quot;Well, I&apos;ve had enough, thanks&quot;),</span><br><span class="line">                     (&quot;Sunday&quot;, &quot;Let&apos;s rest a little bit&quot;)])</span><br><span class="line">        if handle_exit_code(d, code):</span><br><span class="line">            break</span><br><span class="line">    return tag</span><br></pre></td></tr></table></figure>
<h3 id="采用-方式多选-checklist"><a href="#采用-方式多选-checklist" class="headerlink" title="采用[]方式多选-checklist"></a>采用[]方式多选-checklist</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">def checklist_demo(d):</span><br><span class="line">    while 1:</span><br><span class="line">        # We could put non-empty items here (not only the tag for each entry)</span><br><span class="line">        (code, tag) = d.checklist(text=&quot;What sandwich toppings do you like?&quot;,</span><br><span class="line">                                  height=15, width=54, list_height=7,</span><br><span class="line">                                  choices=[(&quot;Catsup&quot;,             &quot;&quot;, 0),</span><br><span class="line">                                           (&quot;Mustard&quot;,            &quot;&quot;, 0),</span><br><span class="line">                                           (&quot;Pesto&quot;,              &quot;&quot;, 0),</span><br><span class="line">                                           (&quot;Mayonaise&quot;,          &quot;&quot;, 1),</span><br><span class="line">                                           (&quot;Horse radish&quot;,       &quot;&quot;, 1),</span><br><span class="line">                                           (&quot;Sun-dried tomatoes&quot;, &quot;&quot;, 1)],</span><br><span class="line">                                  title=&quot;Do you prefer ham or spam?&quot;,</span><br><span class="line">                                  backtitle=&quot;And now, for something &quot;</span><br><span class="line">                                  &quot;completely different...&quot;)</span><br><span class="line">        if handle_exit_code(d, code):</span><br><span class="line">            break</span><br><span class="line">    return tag</span><br></pre></td></tr></table></figure>
<h3 id="采用（）方式单选列表-radiolist"><a href="#采用（）方式单选列表-radiolist" class="headerlink" title="采用（）方式单选列表-radiolist"></a>采用（）方式单选列表-radiolist</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">def radiolist_demo(d):</span><br><span class="line">    while 1:</span><br><span class="line">        (code, tag) = d.radiolist(</span><br><span class="line">            &quot;What&apos;s your favorite kind of sandwich?&quot;,</span><br><span class="line">            width=65,</span><br><span class="line">            choices=[(&quot;Hamburger&quot;, &quot;2 slices of bread, a steak...&quot;, 0),</span><br><span class="line">                     (&quot;Hotdog&quot;, &quot;doesn&apos;t bite any more&quot;, 0),</span><br><span class="line">                     (&quot;Burrito&quot;, &quot;no se lo que es&quot;, 0),</span><br><span class="line">                     (&quot;Doener&quot;, &quot;Huh?&quot;, 0),</span><br><span class="line">                     (&quot;Falafel&quot;, &quot;Erm...&quot;, 0),</span><br><span class="line">                     (&quot;Bagel&quot;, &quot;Of course!&quot;, 0),</span><br><span class="line">                     (&quot;Big Mac&quot;, &quot;Ah, that&apos;s easy!&quot;, 1),</span><br><span class="line">                     (&quot;Whopper&quot;, &quot;Erm, sorry&quot;, 0),</span><br><span class="line">                     (&quot;Quarter Pounder&quot;, &apos;called &quot;le Big Mac&quot; in France&apos;, 0),</span><br><span class="line">                     (&quot;Peanut Butter and Jelly&quot;, &quot;Well, that&apos;s your own &quot;</span><br><span class="line">                      &quot;business...&quot;, 0),</span><br><span class="line">                     (&quot;Grilled cheese&quot;, &quot;And nothing more?&quot;, 0)])</span><br><span class="line">        if handle_exit_code(d, code):</span><br><span class="line">            break</span><br><span class="line">    return tag</span><br></pre></td></tr></table></figure>
<h3 id="表单显示-form"><a href="#表单显示-form" class="headerlink" title="表单显示-form"></a>表单显示-form</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def form_demo(self):</span><br><span class="line">    elements = [</span><br><span class="line">        (&quot;Size (cm)&quot;, 1, 1, &quot;175&quot;, 1, 20, 4, 3),</span><br><span class="line">        (&quot;Weight (kg)&quot;, 2, 1, &quot;85&quot;, 2, 20, 4, 3),</span><br><span class="line">        (&quot;City&quot;, 3, 1, &quot;Groboule-les-Bains&quot;, 3, 20, 15, 25),</span><br><span class="line">        (&quot;State&quot;, 4, 1, &quot;Some Lost Place&quot;, 4, 20, 15, 25),</span><br><span class="line">        (&quot;Country&quot;, 5, 1, &quot;Nowhereland&quot;, 5, 20, 15, 20),</span><br><span class="line">        (&quot;My&quot;, 6, 1, &quot;I hereby declare that, upon leaving this &quot;</span><br><span class="line">         &quot;world, all&quot;, 6, 20, 0, 0),</span><br><span class="line">        (&quot;Very&quot;, 7, 1, &quot;my fortune shall be transferred to Florent &quot;</span><br><span class="line">         &quot;Rougon&apos;s&quot;, 7, 20, 0, 0),</span><br><span class="line">        (&quot;Last&quot;, 8, 1, &quot;bank account number 000 4237 4587 32454/78 at &quot;</span><br><span class="line">         &quot;Banque&quot;, 8, 20, 0, 0),</span><br><span class="line">        (&quot;Will&quot;, 9, 1, &quot;Cantonale Vaudoise, Lausanne, Switzerland.&quot;,</span><br><span class="line">         9, 20, 0, 0) ]</span><br><span class="line"></span><br><span class="line">    code, fields = d.form(&quot;Please fill in some personal information:&quot;,</span><br><span class="line">                          elements, width=77)</span><br><span class="line">    return fields</span><br></pre></td></tr></table></figure>
<p>密码显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">def passwordform_demo(self):</span><br><span class="line">        elements = [</span><br><span class="line">            (&quot;Secret field 1&quot;, 1, 1, &quot;&quot;, 1, 20, 12, 0),</span><br><span class="line">            (&quot;Secret field 2&quot;, 2, 1, &quot;&quot;, 2, 20, 12, 0),</span><br><span class="line">            (&quot;Secret field 3&quot;, 3, 1, &quot;Providing a non-empty initial content &quot;</span><br><span class="line">             &quot;(like this) for an invisible field can be very confusing!&quot;,</span><br><span class="line">             3, 20, 30, 160)]</span><br><span class="line"></span><br><span class="line">        code, fields = d.passwordform(</span><br><span class="line">            &quot;Please enter all your secret passwords.\n\nOn purpose here, &quot;</span><br><span class="line">            &quot;nothing is echoed when you type in the passwords. If you want &quot;</span><br><span class="line">            &quot;asterisks, use the &apos;insecure&apos; keyword argument as in the &quot;</span><br><span class="line">            &quot;passwordbox demo.&quot;,</span><br><span class="line">            elements, width=77, height=15, title=&quot;Passwordform demo&quot;)</span><br><span class="line"></span><br><span class="line">        d.msgbox(&quot;Secret password 1: &apos;%s&apos;\n&quot;</span><br><span class="line">                 &quot;Secret password 2: &apos;%s&apos;\n&quot;</span><br><span class="line">                 &quot;Secret password 3: &apos;%s&apos;&quot; % tuple(fields),</span><br><span class="line">                 width=60, height=20, title=&quot;The Whole Truth Now Revealed&quot;)</span><br><span class="line"></span><br><span class="line">        return fields</span><br></pre></td></tr></table></figure></p>
<h3 id="日历－calendar"><a href="#日历－calendar" class="headerlink" title="日历－calendar"></a>日历－calendar</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def calendar_demo(d):</span><br><span class="line">    while 1:</span><br><span class="line">        (code, date) = d.calendar(&quot;When do you think Debian sarge will be &quot;</span><br><span class="line">                                  &quot;released?&quot;, year=0)</span><br><span class="line">        if handle_exit_code(d, code):</span><br><span class="line">            break</span><br><span class="line">    return date</span><br></pre></td></tr></table></figure>
<h3 id="密码"><a href="#密码" class="headerlink" title="密码"></a>密码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def passwordbox_demo(d):</span><br><span class="line">    while 1:</span><br><span class="line">        (code, password) = d.passwordbox(&quot;What is your root password, &quot;</span><br><span class="line">                                         &quot;so that I can crack your system &quot;</span><br><span class="line">                                         &quot;right now?&quot;)</span><br><span class="line">        if handle_exit_code(d, code):</span><br><span class="line">            break</span><br><span class="line">    return password</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def comment_on_sarge_release_date(day, month, year):</span><br><span class="line">    if year &lt; 2004 or (year == 2004 and month &lt;= 3):</span><br><span class="line">        return &quot;Mmm... what about a little tour on http://www.debian.org/?&quot;</span><br><span class="line">    elif year == 2004 and month &lt;= 4:</span><br><span class="line">        return &quot;&quot;&quot;\</span><br><span class="line">Damn, how optimistic! You don&apos;t know much about Debian, do you?&quot;&quot;&quot;</span><br><span class="line">    elif year == 2004 and month &lt;= 7:</span><br><span class="line">        return &quot;&quot;&quot;\</span><br><span class="line">Well, good guess. But who knows what the future reserves to us? ;-)&quot;&quot;&quot;</span><br><span class="line">    elif year == 2004:</span><br><span class="line">        return &quot;&quot;&quot;\</span><br><span class="line">Oh, well. That&apos;s plausible. But please, please don&apos;t depress</span><br><span class="line">other people with your pronostics... ;-)&quot;&quot;&quot;</span><br><span class="line">    else:</span><br><span class="line">        return &quot;Hey, you&apos;re a troll! (or do you know Debian *so* well? ;-)&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">def scrollbox_demo(d, name, favorite_day, toppings, favourites, passwords,</span><br><span class="line">                   sandwich, date, password):</span><br><span class="line">    day, month, year = date</span><br><span class="line">    msg = &quot;&quot;&quot;\</span><br><span class="line">Here are some vital statistics about you:</span><br><span class="line"></span><br><span class="line">Name: %s</span><br><span class="line">Favorite day of the week: %s</span><br><span class="line">Favorite sandwich toppings:%s</span><br><span class="line">Favorites:%s</span><br><span class="line">Passwords:%s</span><br><span class="line">Favorite sandwich: %s</span><br><span class="line"></span><br><span class="line">You estimate Debian sarge&apos;s release to happen around %04u-%02u-%02u.</span><br><span class="line">%s</span><br><span class="line"></span><br><span class="line">Your root password is: ************************** (looks good!)&quot;&quot;&quot; \</span><br><span class="line">     % (name, favorite_day,</span><br><span class="line">        string.join([&apos;&apos;] + toppings, &quot;\n    &quot;),</span><br><span class="line">        string.join([] + favourites, &quot;, &quot;),</span><br><span class="line">        string.join([] + passwords, &quot;, confirmed &quot;),</span><br><span class="line">        sandwich, year, month, day,</span><br><span class="line">        comment_on_sarge_release_date(day, month, year))</span><br><span class="line">    d.scrollbox(msg, height=20, width=75, title=&quot;Great Report of the Year&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="文件选择"><a href="#文件选择" class="headerlink" title="文件选择"></a>文件选择</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def fselect_demo(d):</span><br><span class="line">    while 1:</span><br><span class="line">        root_dir = os.sep               # This is OK for UNIX systems</span><br><span class="line">        dir = os.getenv(&quot;HOME&quot;, root_dir)</span><br><span class="line">        # Make sure the directory we chose ends with os.sep() so that dialog</span><br><span class="line">        # shows its contents right away</span><br><span class="line">        if dir and dir[-1] != os.sep:</span><br><span class="line">            dir = dir + os.sep</span><br><span class="line"></span><br><span class="line">        (code, path) = d.fselect(dir, 10, 50,</span><br><span class="line">                                 title=&quot;Cute little file to show as &quot;</span><br><span class="line">                                 &quot;in a `tail -f&apos;&quot;)</span><br><span class="line">        if handle_exit_code(d, code):</span><br><span class="line">            if not os.path.isfile(path):</span><br><span class="line">                d.scrollbox(&quot;Hmm. Didn&apos;t I ask you to select a *file*?&quot;,</span><br><span class="line">                            width=50, height=10)</span><br><span class="line">            else:</span><br><span class="line">                break</span><br><span class="line">    return path</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def tailbox_demo(d, file):</span><br><span class="line">    d.tailbox(file, 20, 60, title=&quot;You are brave. You deserve the &quot;</span><br><span class="line">              &quot;right to rest, now.&quot; )</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">def demo():</span><br><span class="line">#   If you want to use Xdialog (pathnames are also OK for the &apos;dialog&apos;</span><br><span class="line">#   argument)</span><br><span class="line">#   d = dialog.Dialog(dialog=&quot;Xdialog&quot;, compat=&quot;Xdialog&quot;)</span><br><span class="line">    d = dialog.Dialog(dialog=&quot;dialog&quot;)</span><br><span class="line"></span><br><span class="line">    d.add_persistent_args([&quot;--backtitle&quot;, &quot;pythondialog demo&quot;])</span><br><span class="line"></span><br><span class="line">    infobox_demo(d)</span><br><span class="line">    gauge_demo(d)</span><br><span class="line">    answer = yesno_demo(d)</span><br><span class="line">    msgbox_demo(d, answer)</span><br><span class="line">    textbox_demo(d)</span><br><span class="line">    name = inputbox_demo(d)</span><br><span class="line">    favorite_day = menu_demo(d)</span><br><span class="line">    toppings = checklist_demo(d)</span><br><span class="line">    favourites = form_demo(d)</span><br><span class="line">    passwords = passwordform_demo(d)</span><br><span class="line">    sandwich = radiolist_demo(d)</span><br><span class="line">    date = calendar_demo(d)</span><br><span class="line">    password = passwordbox_demo(d)</span><br><span class="line">    scrollbox_demo(d, name, favorite_day, toppings, favourites, passwords, sandwich, date, password)</span><br><span class="line"></span><br><span class="line">    d.scrollbox(&quot;&quot;&quot;\</span><br><span class="line">Haha. You thought it was over. Wrong. Even More fun is to come!</span><br><span class="line">(well, depending on your definition on &quot;fun&quot;)</span><br><span class="line"></span><br><span class="line">Now, please select a file you would like to see growing (or not...).&quot;&quot;&quot;,</span><br><span class="line">                width=75)</span><br><span class="line"></span><br><span class="line">    file = fselect_demo(d)</span><br><span class="line">    tailbox_demo(d, file)</span><br><span class="line"></span><br><span class="line">    d.scrollbox(&quot;&quot;&quot;\</span><br><span class="line">Now, you&apos;re done. No, I&apos;m not kidding.</span><br><span class="line"></span><br><span class="line">So, why the hell are you sitting here instead of rushing on that EXIT</span><br><span class="line">button? Ah, you did like the demo. Hmm... are you feeling OK? ;-)&quot;&quot;&quot;,</span><br><span class="line">                width=75)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def main():</span><br><span class="line">    &quot;&quot;&quot;This demo shows the main features of the pythondialog Dialog class.</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    try:</span><br><span class="line">        demo()</span><br><span class="line">    except dialog.errora as exc_instance:</span><br><span class="line">        sys.stderr.write(&quot;Error:\n\n%s\n&quot; % exc_instance.complete_message())</span><br><span class="line">        sys.exit(1)</span><br><span class="line"></span><br><span class="line">    sys.exit(0)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if __name__ == &quot;__main__&quot;: main()</span><br></pre></td></tr></table></figure>
<h2 id="python3-demo"><a href="#python3-demo" class="headerlink" title="python3 demo"></a>python3 demo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#! /usr/bin/env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line"># demo.py --- Demonstration program and cheap test suite for pythondialog</span><br><span class="line">#</span><br><span class="line"># Copyright (C) 2002-2010, 2013-2016  Florent Rougon</span><br><span class="line"># Copyright (C) 2000  Robb Shecter, Sultanbek Tezadov</span><br><span class="line">#</span><br><span class="line"># This program is in the public domain.</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;Demonstration program for pythondialog.</span><br><span class="line"></span><br><span class="line">This is a program demonstrating most of the possibilities offered by</span><br><span class="line">the pythondialog module (which is itself a Python interface to the</span><br><span class="line">well-known dialog utility, or any other program compatible with</span><br><span class="line">dialog).</span><br><span class="line"></span><br><span class="line">Executive summary</span><br><span class="line">-----------------</span><br><span class="line"></span><br><span class="line">If you are looking for a very simple example of pythondialog usage,</span><br><span class="line">short and straightforward, please refer to simple_example.py. The</span><br><span class="line">file you are now reading serves more as a demonstration of what can</span><br><span class="line">be done with pythondialog and as a cheap test suite than as a first</span><br><span class="line">time tutorial. However, it can also be used to learn how to invoke</span><br><span class="line">the various widgets. The following paragraphs explain what you should</span><br><span class="line">keep in mind if you read it for this purpose.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Most of the code in the MyApp class (which defines the actual</span><br><span class="line">contents of the demo) relies on a class called MyDialog implemented</span><br><span class="line">here that:</span><br><span class="line"></span><br><span class="line">  1. wraps all widget-producing calls in a way that automatically</span><br><span class="line">     spawns a &quot;confirm quit&quot; dialog box if the user presses the</span><br><span class="line">     Escape key or chooses the Cancel button, and then redisplays the</span><br><span class="line">     original widget if the user doesn&apos;t actually want to quit;</span><br><span class="line"></span><br><span class="line">  2. provides a few additional dialog-related methods and convenience</span><br><span class="line">     wrappers.</span><br><span class="line"></span><br><span class="line">The handling in (1) is completely automatic, implemented with</span><br><span class="line">MyDialog.__getattr__() returning decorated versions of the</span><br><span class="line">widget-producing methods of dialog.Dialog. Therefore, most of the</span><br><span class="line">demo can be read as if the module-level &apos;d&apos; attribute were a</span><br><span class="line">dialog.Dialog instance whereas it is actually a MyDialog instance.</span><br><span class="line">The only meaningful difference is that MyDialog.&lt;widget&gt;() will never</span><br><span class="line">return a CANCEL or ESC code (attributes of &apos;d&apos;, or more generally of</span><br><span class="line">dialog.Dialog). The reason is that these return codes are</span><br><span class="line">automatically handled by the MyDialog.__getattr__() machinery to</span><br><span class="line">display the &quot;confirm quit&quot; dialog box.</span><br><span class="line"></span><br><span class="line">In some cases (e.g., fselect_demo()), I wanted the &quot;Cancel&quot; button to</span><br><span class="line">perform a specific action instead of spawning the &quot;confirm quit&quot;</span><br><span class="line">dialog box. To achieve this, the widget is invoked using</span><br><span class="line">dialog.Dialog.&lt;widget&gt; instead of MyDialog.&lt;widget&gt;, and the return</span><br><span class="line">code is handled in a semi-manual way. A prominent feature that needs</span><br><span class="line">such special-casing is the yesno widget, because the &quot;No&quot; button</span><br><span class="line">corresponds to the CANCEL exit code, which in general must not be</span><br><span class="line">interpreted as an attempt to quit the program!</span><br><span class="line"></span><br><span class="line">To sum it up, you can read most of the code in the MyApp class (which</span><br><span class="line">defines the actual contents of the demo) as if &apos;d&apos; were a</span><br><span class="line">dialog.Dialog instance. Just keep in mind that there is a little</span><br><span class="line">magic behind the scenes that automatically handles the CANCEL and ESC</span><br><span class="line">Dialog exit codes, which wouldn&apos;t be the case if &apos;d&apos; were a</span><br><span class="line">dialog.Dialog instance. For a first introduction to pythondialog with</span><br><span class="line">simple stuff and absolutely no magic, please have a look at</span><br><span class="line">simple_example.py.</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import sys, os, locale, stat, time, getopt, subprocess, traceback, textwrap</span><br><span class="line">import pprint</span><br><span class="line">import dialog</span><br><span class="line">from dialog import DialogBackendVersion</span><br><span class="line"></span><br><span class="line">progname = os.path.basename(sys.argv[0])</span><br><span class="line">progversion = &quot;0.12&quot;</span><br><span class="line">version_blurb = &quot;&quot;&quot;Demonstration program and cheap test suite for pythondialog.</span><br><span class="line"></span><br><span class="line">Copyright (C) 2002-2010, 2013-2016  Florent Rougon</span><br><span class="line">Copyright (C) 2000  Robb Shecter, Sultanbek Tezadov</span><br><span class="line"></span><br><span class="line">This is free software; see the source for copying conditions.  There is NO</span><br><span class="line">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">default_debug_filename = &quot;pythondialog.debug&quot;</span><br><span class="line"></span><br><span class="line">usage = &quot;&quot;&quot;Usage: &#123;progname&#125; [option ...]</span><br><span class="line">Demonstration program and cheap test suite for pythondialog.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -t, --test-suite             test all widgets; implies &apos;--fast&apos;</span><br><span class="line">  -f, --fast                   fast mode (e.g., makes the gauge demo run faster)</span><br><span class="line">      --debug                  enable logging of all dialog command lines</span><br><span class="line">      --debug-file=FILE        where to write debug information (default:</span><br><span class="line">                               &#123;debug_file&#125; in the current directory)</span><br><span class="line">  -E, --debug-expand-file-opt  expand the &apos;--file&apos; options in the debug file</span><br><span class="line">                               generated by &apos;--debug&apos;</span><br><span class="line">      --help                   display this message and exit</span><br><span class="line">      --version                output version information and exit&quot;&quot;&quot;.format(</span><br><span class="line">    progname=progname, debug_file=default_debug_filename)</span><br><span class="line"></span><br><span class="line"># Global parameters</span><br><span class="line">params = &#123;&#125;</span><br><span class="line"></span><br><span class="line"># We&apos;ll use a module-level attribute &apos;d&apos; (&quot;global&quot;) to store the MyDialog</span><br><span class="line"># instance that is used throughout the demo. This object could alternatively be</span><br><span class="line"># passed to the MyApp constructor and stored there as a class or instance</span><br><span class="line"># attribute. However, for the sake of readability, we&apos;ll simply use a global</span><br><span class="line"># (d.msgbox(...) versus self.d.msgbox(...), etc.).</span><br><span class="line">d = None</span><br><span class="line"></span><br><span class="line">tw = textwrap.TextWrapper(width=78, break_long_words=False,</span><br><span class="line">                          break_on_hyphens=True)</span><br><span class="line">from textwrap import dedent</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    from textwrap import indent</span><br><span class="line">except ImportError:</span><br><span class="line">    try:</span><br><span class="line">        callable                # Normally, should be __builtins__.callable</span><br><span class="line">    except NameError:</span><br><span class="line">        # Python 3.1 doesn&apos;t have the &apos;callable&apos; builtin function. Let&apos;s</span><br><span class="line">        # provide ours.</span><br><span class="line">        def callable(f):</span><br><span class="line">            return hasattr(f, &apos;__call__&apos;)</span><br><span class="line"></span><br><span class="line">    def indent(text, prefix, predicate=None):</span><br><span class="line">        l = []</span><br><span class="line"></span><br><span class="line">        for line in text.splitlines(True):</span><br><span class="line">            if (callable(predicate) and predicate(line)) \</span><br><span class="line">                    or (not callable(predicate) and predicate) \</span><br><span class="line">                    or (predicate is None and line.strip()):</span><br><span class="line">                line = prefix + line</span><br><span class="line">            l.append(line)</span><br><span class="line"></span><br><span class="line">        return &apos;&apos;.join(l)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class MyDialog:</span><br><span class="line">    &quot;&quot;&quot;Wrapper class for dialog.Dialog.</span><br><span class="line"></span><br><span class="line">    This class behaves similarly to dialog.Dialog. The differences</span><br><span class="line">    are that:</span><br><span class="line"></span><br><span class="line">      1. MyDialog wraps all widget-producing methods in a way that</span><br><span class="line">         automatically spawns a &quot;confirm quit&quot; dialog box if the user</span><br><span class="line">         presses the Escape key or chooses the Cancel button, and</span><br><span class="line">         then redisplays the original widget if the user doesn&apos;t</span><br><span class="line">         actually want to quit.</span><br><span class="line"></span><br><span class="line">      2. MyDialog provides a few additional dialog-related methods</span><br><span class="line">         and convenience wrappers.</span><br><span class="line"></span><br><span class="line">    Please refer to the module docstring and to the particular</span><br><span class="line">    methods for more details.</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    def __init__(self, Dialog_instance):</span><br><span class="line">        self.dlg = Dialog_instance</span><br><span class="line"></span><br><span class="line">    def check_exit_request(self, code, ignore_Cancel=False):</span><br><span class="line">        if code == self.CANCEL and ignore_Cancel:</span><br><span class="line">            # Ignore the Cancel button, i.e., don&apos;t interpret it as an exit</span><br><span class="line">            # request; instead, let the caller handle CANCEL himself.</span><br><span class="line">            return True</span><br><span class="line"></span><br><span class="line">        if code in (self.CANCEL, self.ESC):</span><br><span class="line">            button_name = &#123; self.CANCEL: &quot;Cancel&quot;,</span><br><span class="line">                            self.ESC: &quot;Escape&quot; &#125;</span><br><span class="line">            msg = &quot;You pressed &#123;0&#125; in the last dialog box. Do you want &quot; \</span><br><span class="line">                &quot;to exit this demo?&quot;.format(button_name[code])</span><br><span class="line">            # &apos;self.dlg&apos; instead of &apos;self&apos; here, because we want to use the</span><br><span class="line">            # original yesno() method from the Dialog class instead of the</span><br><span class="line">            # decorated method returned by self.__getattr__().</span><br><span class="line">            if self.dlg.yesno(msg) == self.OK:</span><br><span class="line">                sys.exit(0)</span><br><span class="line">            else:               # &quot;No&quot; button chosen, or ESC pressed</span><br><span class="line">                return False    # in the &quot;confirm quit&quot; dialog</span><br><span class="line">        else:</span><br><span class="line">            return True</span><br><span class="line"></span><br><span class="line">    def widget_loop(self, method):</span><br><span class="line">        &quot;&quot;&quot;Decorator to handle eventual exit requests from a Dialog widget.</span><br><span class="line"></span><br><span class="line">        method -- a dialog.Dialog method that returns either a Dialog</span><br><span class="line">                  exit code, or a sequence whose first element is a</span><br><span class="line">                  Dialog exit code (cf. the docstring of the Dialog</span><br><span class="line">                  class in dialog.py)</span><br><span class="line"></span><br><span class="line">        Return a wrapper function that behaves exactly like &apos;method&apos;,</span><br><span class="line">        except for the following point:</span><br><span class="line"></span><br><span class="line">          If the Dialog exit code obtained from &apos;method&apos; is CANCEL or</span><br><span class="line">          ESC (attributes of dialog.Dialog), a &quot;confirm quit&quot; dialog</span><br><span class="line">          is spawned; depending on the user choice, either the</span><br><span class="line">          program exits or &apos;method&apos; is called again, with the same</span><br><span class="line">          arguments and same handling of the exit status. In other</span><br><span class="line">          words, the wrapper function builds a loop around &apos;method&apos;.</span><br><span class="line"></span><br><span class="line">        The above condition on &apos;method&apos; is satisfied for all</span><br><span class="line">        dialog.Dialog widget-producing methods. More formally, these</span><br><span class="line">        are the methods defined with the @widget decorator in</span><br><span class="line">        dialog.py, i.e., that have an &quot;is_widget&quot; attribute set to</span><br><span class="line">        True.</span><br><span class="line"></span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        # One might want to use @functools.wraps here, but since the wrapper</span><br><span class="line">        # function is very likely to be used only once and then</span><br><span class="line">        # garbage-collected, this would uselessly add a little overhead inside</span><br><span class="line">        # __getattr__(), where widget_loop() is called.</span><br><span class="line">        def wrapper(*args, **kwargs):</span><br><span class="line">            while True:</span><br><span class="line">                res = method(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">                if hasattr(method, &quot;retval_is_code&quot;) \</span><br><span class="line">                        and getattr(method, &quot;retval_is_code&quot;):</span><br><span class="line">                    code = res</span><br><span class="line">                else:</span><br><span class="line">                    code = res[0]</span><br><span class="line"></span><br><span class="line">                if self.check_exit_request(code):</span><br><span class="line">                    break</span><br><span class="line">            return res</span><br><span class="line"></span><br><span class="line">        return wrapper</span><br><span class="line"></span><br><span class="line">    def __getattr__(self, name):</span><br><span class="line">        # This is where the &quot;magic&quot; of this class originates from.</span><br><span class="line">        # Please refer to the module and self.widget_loop()</span><br><span class="line">        # docstrings if you want to understand the why and the how.</span><br><span class="line">        obj = getattr(self.dlg, name)</span><br><span class="line">        if hasattr(obj, &quot;is_widget&quot;) and getattr(obj, &quot;is_widget&quot;):</span><br><span class="line">            return self.widget_loop(obj)</span><br><span class="line">        else:</span><br><span class="line">            return obj</span><br><span class="line"></span><br><span class="line">    def clear_screen(self):</span><br><span class="line">        # This program comes with ncurses</span><br><span class="line">        program = &quot;clear&quot;</span><br><span class="line"></span><br><span class="line">        try:</span><br><span class="line">            p = subprocess.Popen([program], shell=False, stdout=None,</span><br><span class="line">                                 stderr=None, close_fds=True)</span><br><span class="line">            retcode = p.wait()</span><br><span class="line">        except os.error as e:</span><br><span class="line">            self.msgbox(&quot;Unable to execute program &apos;%s&apos;: %s.&quot; % (program,</span><br><span class="line">                                                              e.strerror),</span><br><span class="line">                     title=&quot;Error&quot;)</span><br><span class="line">            return False</span><br><span class="line"></span><br><span class="line">        if retcode &gt; 0:</span><br><span class="line">            msg = &quot;Program %s returned exit status %d.&quot; % (program, retcode)</span><br><span class="line">        elif retcode &lt; 0:</span><br><span class="line">            msg = &quot;Program %s was terminated by signal %d.&quot; % (program, -retcode)</span><br><span class="line">        else:</span><br><span class="line">            return True</span><br><span class="line"></span><br><span class="line">        self.msgbox(msg)</span><br><span class="line">        return False</span><br><span class="line"></span><br><span class="line">    def _Yesno(self, *args, **kwargs):</span><br><span class="line">        &quot;&quot;&quot;Convenience wrapper around dialog.Dialog.yesno().</span><br><span class="line"></span><br><span class="line">        Return the same exit code as would return</span><br><span class="line">        dialog.Dialog.yesno(), except for ESC which is handled as in</span><br><span class="line">        the rest of the demo, i.e. make it spawn the &quot;confirm quit&quot;</span><br><span class="line">        dialog.</span><br><span class="line"></span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        # self.yesno() automatically spawns the &quot;confirm quit&quot; dialog if ESC or</span><br><span class="line">        # the &quot;No&quot; button is pressed, because of self.__getattr__(). Therefore,</span><br><span class="line">        # we have to use self.dlg.yesno() here and call</span><br><span class="line">        # self.check_exit_request() manually.</span><br><span class="line">        while True:</span><br><span class="line">            code = self.dlg.yesno(*args, **kwargs)</span><br><span class="line">            # If code == self.CANCEL, it means the &quot;No&quot; button was chosen;</span><br><span class="line">            # don&apos;t interpret this as a wish to quit the program!</span><br><span class="line">            if self.check_exit_request(code, ignore_Cancel=True):</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        return code</span><br><span class="line"></span><br><span class="line">    def Yesno(self, *args, **kwargs):</span><br><span class="line">        &quot;&quot;&quot;Convenience wrapper around dialog.Dialog.yesno().</span><br><span class="line"></span><br><span class="line">        Return True if &quot;Yes&quot; was chosen, False if &quot;No&quot; was chosen,</span><br><span class="line">        and handle ESC as in the rest of the demo, i.e. make it spawn</span><br><span class="line">        the &quot;confirm quit&quot; dialog.</span><br><span class="line"></span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        return self._Yesno(*args, **kwargs) == self.dlg.OK</span><br><span class="line"></span><br><span class="line">    def Yesnohelp(self, *args, **kwargs):</span><br><span class="line">        &quot;&quot;&quot;Convenience wrapper around dialog.Dialog.yesno().</span><br><span class="line"></span><br><span class="line">        Return &quot;yes&quot;, &quot;no&quot;, &quot;extra&quot; or &quot;help&quot; depending on the button</span><br><span class="line">        that was pressed to close the dialog. ESC is handled as in</span><br><span class="line">        the rest of the demo, i.e. it spawns the &quot;confirm quit&quot;</span><br><span class="line">        dialog.</span><br><span class="line"></span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        kwargs[&quot;help_button&quot;] = True</span><br><span class="line">        code = self._Yesno(*args, **kwargs)</span><br><span class="line">        d = &#123; self.dlg.OK:     &quot;yes&quot;,</span><br><span class="line">              self.dlg.CANCEL: &quot;no&quot;,</span><br><span class="line">              self.dlg.EXTRA:  &quot;extra&quot;,</span><br><span class="line">              self.dlg.HELP:   &quot;help&quot; &#125;</span><br><span class="line"></span><br><span class="line">        return d[code]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Dummy context manager to make sure the debug file is closed on exit, be it</span><br><span class="line"># normal or abnormal, and to avoid having two code paths, one for normal mode</span><br><span class="line"># and one for debug mode.</span><br><span class="line">class DummyContextManager:</span><br><span class="line">    def __enter__(self):</span><br><span class="line">        return self</span><br><span class="line"></span><br><span class="line">    def __exit__(self, *exc):</span><br><span class="line">        return False</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class MyApp:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        # The MyDialog instance &apos;d&apos; could be passed via the constructor and</span><br><span class="line">        # stored here as a class or instance attribute. However, for the sake</span><br><span class="line">        # of readability, we&apos;ll simply use a module-level attribute (&quot;global&quot;)</span><br><span class="line">        # (d.msgbox(...) versus self.d.msgbox(...), etc.).</span><br><span class="line">        global d</span><br><span class="line">        # If you want to use Xdialog (pathnames are also OK for the &apos;dialog&apos;</span><br><span class="line">        # argument), you can use:</span><br><span class="line">        #   dialog.Dialog(dialog=&quot;Xdialog&quot;, compat=&quot;Xdialog&quot;)</span><br><span class="line">        self.Dialog_instance = dialog.Dialog(dialog=&quot;dialog&quot;)</span><br><span class="line">        # See the module docstring at the top of the file to understand the</span><br><span class="line">        # purpose of MyDialog.</span><br><span class="line">        d = MyDialog(self.Dialog_instance)</span><br><span class="line">        backtitle = &quot;pythondialog demo&quot;</span><br><span class="line">        d.set_background_title(backtitle)</span><br><span class="line">        # These variables take the background title into account</span><br><span class="line">        self.max_lines, self.max_cols = d.maxsize(backtitle=backtitle)</span><br><span class="line">        self.demo_context = self.setup_debug()</span><br><span class="line">        # Warn if the terminal is smaller than this size</span><br><span class="line">        self.min_rows, self.min_cols = 24, 80</span><br><span class="line">        self.term_rows, self.term_cols, self.backend_version = \</span><br><span class="line">            self.get_term_size_and_backend_version()</span><br><span class="line"></span><br><span class="line">    def setup_debug(self):</span><br><span class="line">        if params[&quot;debug&quot;]:</span><br><span class="line">            debug_file = open(params[&quot;debug_filename&quot;], &quot;w&quot;)</span><br><span class="line">            d.setup_debug(True, file=debug_file,</span><br><span class="line">                          expand_file_opt=params[&quot;debug_expand_file_opt&quot;])</span><br><span class="line">            return debug_file</span><br><span class="line">        else:</span><br><span class="line">            return DummyContextManager()</span><br><span class="line"></span><br><span class="line">    def get_term_size_and_backend_version(self):</span><br><span class="line">        # Avoid running &apos;&lt;backend&gt; --print-version&apos; every time we need the</span><br><span class="line">        # version</span><br><span class="line">        backend_version = d.cached_backend_version</span><br><span class="line">        if not backend_version:</span><br><span class="line">            print(tw.fill(</span><br><span class="line">                  &quot;Unable to retrieve the version of the dialog-like backend. &quot;</span><br><span class="line">                  &quot;Not running cdialog?&quot;) + &quot;\nPress Enter to continue.&quot;,</span><br><span class="line">                  file=sys.stderr)</span><br><span class="line">            input()</span><br><span class="line"></span><br><span class="line">        term_rows, term_cols = d.maxsize(use_persistent_args=False)</span><br><span class="line">        if term_rows &lt; self.min_rows or term_cols &lt; self.min_cols:</span><br><span class="line">            print(tw.fill(dedent(&quot;&quot;&quot;\</span><br><span class="line">             Your terminal has less than &#123;0&#125; rows or less than &#123;1&#125; columns;</span><br><span class="line">             you may experience problems with the demo. You have been warned.&quot;&quot;&quot;</span><br><span class="line">                                 .format(self.min_rows, self.min_cols)))</span><br><span class="line">                  + &quot;\nPress Enter to continue.&quot;)</span><br><span class="line">            input()</span><br><span class="line"></span><br><span class="line">        return (term_rows, term_cols, backend_version)</span><br><span class="line"></span><br><span class="line">    def run(self):</span><br><span class="line">        with self.demo_context:</span><br><span class="line">            if params[&quot;testsuite_mode&quot;]:</span><br><span class="line">                # Show the additional widgets before the &quot;normal demo&quot;, so that</span><br><span class="line">                # I can test new widgets quickly and simply hit Ctrl-C once</span><br><span class="line">                # they&apos;ve been shown.</span><br><span class="line">                self.additional_widgets()</span><br><span class="line"></span><br><span class="line">            # &quot;Normal&quot; demo</span><br><span class="line">            self.demo()</span><br><span class="line"></span><br><span class="line">    def demo(self):</span><br><span class="line">        d.msgbox(&quot;&quot;&quot;\</span><br><span class="line">Hello, and welcome to the pythondialog &#123;pydlg_version&#125; demonstration program.</span><br><span class="line"></span><br><span class="line">You can scroll through this dialog box with the Page Up and Page Down keys. \</span><br><span class="line">Please note that some of the dialogs will not work, and cause the demo to \</span><br><span class="line">stop, if your terminal is too small. The recommended size is (at least) \</span><br><span class="line">&#123;min_rows&#125; rows by &#123;min_cols&#125; columns.</span><br><span class="line"></span><br><span class="line">This script is being run by a Python interpreter identified as follows:</span><br><span class="line"></span><br><span class="line">&#123;py_version&#125;</span><br><span class="line"></span><br><span class="line">The dialog-like program displaying this message box reports version \</span><br><span class="line">&#123;backend_version&#125; and a terminal size of &#123;rows&#125; rows by &#123;cols&#125; columns.&quot;&quot;&quot;</span><br><span class="line">                 .format(</span><br><span class="line">                pydlg_version=dialog.__version__,</span><br><span class="line">                backend_version=self.backend_version,</span><br><span class="line">                py_version=indent(sys.version, &quot;  &quot;),</span><br><span class="line">                rows=self.term_rows, cols=self.term_cols,</span><br><span class="line">                min_rows=self.min_rows, min_cols=self.min_cols),</span><br><span class="line">                 width=60, height=17)</span><br><span class="line"></span><br><span class="line">        self.progressbox_demo_with_file_descriptor()</span><br><span class="line">        # First dialog version where the programbox widget works fine</span><br><span class="line">        if self.dialog_version_check(&quot;1.2-20140112&quot;):</span><br><span class="line">            self.programbox_demo()</span><br><span class="line">        self.infobox_demo()</span><br><span class="line">        self.gauge_demo()</span><br><span class="line">        answer = self.yesno_demo(with_help=True)</span><br><span class="line">        self.msgbox_demo(answer)</span><br><span class="line">        self.textbox_demo()</span><br><span class="line">        name = self.inputbox_demo_with_help()</span><br><span class="line">        size, weight, city, state, country, last_will1, last_will2, \</span><br><span class="line">            last_will3, last_will4, secret_code = self.mixedform_demo()</span><br><span class="line">        self.form_demo_with_help()</span><br><span class="line">        favorite_day = self.menu_demo(name, city, state, country, size, weight,</span><br><span class="line">                                      secret_code, last_will1, last_will2,</span><br><span class="line">                                      last_will3, last_will4)</span><br><span class="line"></span><br><span class="line">        if self.dialog_version_check(&quot;1.2-20130902&quot;,</span><br><span class="line">                                     &quot;the menu demo with help facilities&quot;,</span><br><span class="line">                                     explain=True):</span><br><span class="line">            self.menu_demo_with_help()</span><br><span class="line"></span><br><span class="line">        toppings = self.checklist_demo()</span><br><span class="line">        if self.dialog_version_check(&quot;1.2-20130902&quot;,</span><br><span class="line">                                     &quot;the checklist demo with help facilities&quot;,</span><br><span class="line">                                     explain=True):</span><br><span class="line">            self.checklist_demo_with_help()</span><br><span class="line"></span><br><span class="line">        sandwich = self.radiolist_demo()</span><br><span class="line"></span><br><span class="line">        if self.dialog_version_check(&quot;1.2-20121230&quot;, &quot;the rangebox demo&quot;, explain=True):</span><br><span class="line">            nb_engineers = self.rangebox_demo()</span><br><span class="line">        else:</span><br><span class="line">            nb_engineers = None</span><br><span class="line"></span><br><span class="line">        if self.dialog_version_check(&quot;1.2-20121230&quot;, &quot;the buildlist demo&quot;, explain=True):</span><br><span class="line">            desert_island_stuff = self.buildlist_demo()</span><br><span class="line">        else:</span><br><span class="line">            desert_island_stuff = None</span><br><span class="line"></span><br><span class="line">        if self.dialog_version_check(&quot;1.2-20130902&quot;,</span><br><span class="line">                                     &quot;the buildlist demo with help facilities&quot;,</span><br><span class="line">                                     explain=True):</span><br><span class="line">            self.buildlist_demo_with_help()</span><br><span class="line"></span><br><span class="line">        date = self.calendar_demo_with_help()</span><br><span class="line">        time_ = self.timebox_demo()</span><br><span class="line"></span><br><span class="line">        password = self.passwordbox_demo()</span><br><span class="line">        self.scrollbox_demo(name, favorite_day, toppings, sandwich,</span><br><span class="line">                            nb_engineers, desert_island_stuff, date, time_,</span><br><span class="line">                            password)</span><br><span class="line"></span><br><span class="line">        if self.dialog_version_check(&quot;1.2-20121230&quot;, &quot;the treeview demo&quot;,</span><br><span class="line">                                     explain=True):</span><br><span class="line">            if self.dialog_version_check(&quot;1.2-20130902&quot;):</span><br><span class="line">                self.treeview_demo_with_help()</span><br><span class="line">            else:</span><br><span class="line">                self.treeview_demo()</span><br><span class="line"></span><br><span class="line">        self.mixedgauge_demo()</span><br><span class="line">        self.editbox_demo(&quot;/etc/passwd&quot;)</span><br><span class="line">        self.inputmenu_demo()</span><br><span class="line">        d.msgbox(&quot;&quot;&quot;\</span><br><span class="line">Haha. You thought it was over. Wrong. Even more fun is to come!</span><br><span class="line"></span><br><span class="line">Now, please select a file you would like to see growing (or not...).&quot;&quot;&quot;,</span><br><span class="line">                 width=75)</span><br><span class="line"></span><br><span class="line">        # Looks nicer if the screen is not completely filled by the widget,</span><br><span class="line">        # hence the -1.</span><br><span class="line">        self.tailbox_demo(height=self.max_lines-1,</span><br><span class="line">                          width=self.max_cols)</span><br><span class="line"></span><br><span class="line">        directory = self.dselect_demo()</span><br><span class="line"></span><br><span class="line">        timeout = 2 if params[&quot;fast_mode&quot;] else 20</span><br><span class="line">        self.pause_demo(timeout)</span><br><span class="line"></span><br><span class="line">        d.clear_screen()</span><br><span class="line">        if not params[&quot;fast_mode&quot;]:</span><br><span class="line">            # Rest assured, this is not necessary in any way: it is only a</span><br><span class="line">            # psychological trick to try to give the impression of a reboot</span><br><span class="line">            # (cf. pause_demo(); would be even nicer with a &quot;visual bell&quot;)...</span><br><span class="line">            time.sleep(1)</span><br><span class="line"></span><br><span class="line">    def additional_widgets(self):</span><br><span class="line">        # Requires a careful choice of the file to be of any interest</span><br><span class="line">        self.progressbox_demo_with_filepath()</span><br><span class="line">        # This can be confusing without any pause if the user specified a</span><br><span class="line">        # regular file.</span><br><span class="line">        time.sleep(1 if params[&quot;fast_mode&quot;] else 2)</span><br><span class="line"></span><br><span class="line">        # programbox_demo is fine right after</span><br><span class="line">        # progressbox_demo_with_file_descriptor in demo(), but there was a</span><br><span class="line">        # little bug in dialog that made the first two lines disappear too</span><br><span class="line">        # early. This bug has been fixed in version 1.2-20140112, therefore</span><br><span class="line">        # we&apos;ll run the programbox_demo as part of the main demo if the dialog</span><br><span class="line">        # version is &gt;= than this one, otherwise we&apos;ll keep it here.</span><br><span class="line">        if self.dialog_version_check(&quot;1.1-20110302&quot;, &quot;the programbox demo&quot;,</span><br><span class="line">                                     explain=True):</span><br><span class="line">            # First dialog version where the programbox widget works fine</span><br><span class="line">            if not self.dialog_version_check(&quot;1.2-20140112&quot;):</span><br><span class="line">                self.programbox_demo()</span><br><span class="line">        # Almost identical to mixedform (mixedform being more powerful). Also,</span><br><span class="line">        # there is now form_demo_with_help() which uses the form widget.</span><br><span class="line">        self.form_demo()</span><br><span class="line">        # Almost identical to passwordbox</span><br><span class="line">        self.passwordform_demo()</span><br><span class="line"></span><br><span class="line">    def dialog_version_check(self, version_string, feature=&quot;&quot;, *, start=&quot;&quot;,</span><br><span class="line">                             explain=False):</span><br><span class="line">        if d.compat != &quot;dialog&quot;:</span><br><span class="line">            # non-dialog implementations are not affected by</span><br><span class="line">            # &apos;dialog_version_check&apos;.</span><br><span class="line">            return True</span><br><span class="line"></span><br><span class="line">        minimum_version = DialogBackendVersion.fromstring(version_string)</span><br><span class="line">        res = (d.cached_backend_version &gt;= minimum_version)</span><br><span class="line"></span><br><span class="line">        if explain and not res:</span><br><span class="line">            self.too_old_dialog_version(feature=feature, start=start,</span><br><span class="line">                                        min=version_string)</span><br><span class="line"></span><br><span class="line">        return res</span><br><span class="line"></span><br><span class="line">    def too_old_dialog_version(self, feature=&quot;&quot;, *, start=&quot;&quot;, min=None):</span><br><span class="line">        assert (feature and not start) or (not feature and start), \</span><br><span class="line">            (feature, start)</span><br><span class="line">        if not start:</span><br><span class="line">            start = &quot;Skipping &#123;0&#125;,&quot;.format(feature)</span><br><span class="line"></span><br><span class="line">        d.msgbox(</span><br><span class="line">            &quot;&#123;start&#125; because it requires dialog &#123;min&#125; or later; &quot;</span><br><span class="line">            &quot;however, it appears that you are using version &#123;used&#125;.&quot;.format(</span><br><span class="line">                start=start, min=min, used=d.cached_backend_version),</span><br><span class="line">            width=60, height=9, title=&quot;Demo skipped&quot;)</span><br><span class="line"></span><br><span class="line">    def progressbox_demo_with_filepath(self):</span><br><span class="line">        widget = &quot;progressbox&quot;</span><br><span class="line"></span><br><span class="line">        # First, ask the user for a file (possibly FIFO)</span><br><span class="line">        d.msgbox(self.FIFO_HELP(widget), width=72, height=20)</span><br><span class="line">        path = self.fselect_demo(widget, allow_FIFOs=True,</span><br><span class="line">                                 title=&quot;Please choose a file to be shown as &quot;</span><br><span class="line">                                 &quot;with &apos;tail -f&apos;&quot;)</span><br><span class="line">        if path is None:</span><br><span class="line">            # User chose to abort</span><br><span class="line">            return</span><br><span class="line">        else:</span><br><span class="line">            d.progressbox(file_path=path,</span><br><span class="line">                          text=&quot;You can put some header text here&quot;,</span><br><span class="line">                          title=&quot;Progressbox example with a file path&quot;)</span><br><span class="line"></span><br><span class="line">    def progressboxoid(self, widget, func_name, text, **kwargs):</span><br><span class="line">        # Since this is just a demo, I will not try to catch os.error exceptions</span><br><span class="line">        # in this function, for the sake of readability.</span><br><span class="line">        read_fd, write_fd = os.pipe()</span><br><span class="line"></span><br><span class="line">        child_pid = os.fork()</span><br><span class="line">        if child_pid == 0:</span><br><span class="line">            try:</span><br><span class="line">                # We are in the child process. We MUST NOT raise any exception.</span><br><span class="line">                # No need for this one in the child process</span><br><span class="line">                os.close(read_fd)</span><br><span class="line"></span><br><span class="line">                # Python file objects are easier to use than file descriptors.</span><br><span class="line">                # For a start, you don&apos;t have to check the number of bytes</span><br><span class="line">                # actually written every time...</span><br><span class="line">                # &quot;buffering = 1&quot; means wfile is going to be line-buffered</span><br><span class="line">                with os.fdopen(write_fd, mode=&quot;w&quot;, buffering=1) as wfile:</span><br><span class="line">                    for line in text.split(&apos;\n&apos;):</span><br><span class="line">                        wfile.write(line + &apos;\n&apos;)</span><br><span class="line">                        time.sleep(0.02 if params[&quot;fast_mode&quot;] else 1.2)</span><br><span class="line"></span><br><span class="line">                os._exit(0)</span><br><span class="line">            except:</span><br><span class="line">                os._exit(127)</span><br><span class="line"></span><br><span class="line">        # We are in the father process. No need for write_fd anymore.</span><br><span class="line">        os.close(write_fd)</span><br><span class="line">        # Call d.progressbox() if widget == &quot;progressbox&quot;</span><br><span class="line">        #      d.programbox() if widget == &quot;programbox&quot;</span><br><span class="line">        # etc.</span><br><span class="line">        getattr(d, widget)(</span><br><span class="line">            fd=read_fd,</span><br><span class="line">            title=&quot;&#123;0&#125; example with a file descriptor&quot;.format(widget),</span><br><span class="line">            **kwargs)</span><br><span class="line"></span><br><span class="line">        # Now that the progressbox is over (second child process, running the</span><br><span class="line">        # dialog-like program), we can wait() for the first child process.</span><br><span class="line">        # Otherwise, we could have a deadlock in case the pipe gets full, since</span><br><span class="line">        # dialog wouldn&apos;t be reading it.</span><br><span class="line">        exit_info = os.waitpid(child_pid, 0)[1]</span><br><span class="line">        if os.WIFEXITED(exit_info):</span><br><span class="line">            exit_code = os.WEXITSTATUS(exit_info)</span><br><span class="line">        elif os.WIFSIGNALED(exit_info):</span><br><span class="line">            d.msgbox(&quot;%s(): first child process terminated by signal %d&quot; %</span><br><span class="line">                     (func_name, os.WTERMSIG(exit_info)))</span><br><span class="line">        else:</span><br><span class="line">            assert False, &quot;How the hell did we manage to get here?&quot;</span><br><span class="line"></span><br><span class="line">        if exit_code != 0:</span><br><span class="line">            d.msgbox(&quot;%s(): first child process ended with exit status %d&quot;</span><br><span class="line">                     % (func_name, exit_code))</span><br><span class="line"></span><br><span class="line">    def progressbox_demo_with_file_descriptor(self):</span><br><span class="line">        func_name = &quot;progressbox_demo_with_file_descriptor&quot;</span><br><span class="line">        text = &quot;&quot;&quot;\</span><br><span class="line">A long time ago in a galaxy far,</span><br><span class="line">far away...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">A NEW HOPE</span><br><span class="line"></span><br><span class="line">It was a period of intense</span><br><span class="line">sucking. Graphical toolkits for</span><br><span class="line">Python were all nice and clean,</span><br><span class="line">but they were, well, graphical.</span><br><span class="line">And as every one knows, REAL</span><br><span class="line">PROGRAMMERS ALWAYS WORK ON VT-100</span><br><span class="line">TERMINALS. In text mode.</span><br><span class="line"></span><br><span class="line">Besides, those graphical toolkits</span><br><span class="line">were usually too complex for</span><br><span class="line">simple programs, so most FLOSS</span><br><span class="line">geeks ended up writing</span><br><span class="line">command-line tools except when</span><br><span class="line">they really needed the full power</span><br><span class="line">of mainstream graphical toolkits,</span><br><span class="line">such as Qt, GTK+ and wxWidgets.</span><br><span class="line"></span><br><span class="line">But... thanks to people like</span><br><span class="line">Thomas E. Dickey, there are now</span><br><span class="line">at our disposal several free</span><br><span class="line">software command-line programs,</span><br><span class="line">such as dialog, that allow easy</span><br><span class="line">building of graphically-oriented</span><br><span class="line">interfaces in text-mode</span><br><span class="line">terminals. These are good for</span><br><span class="line">tasks where line-oriented</span><br><span class="line">interfaces are not well suited,</span><br><span class="line">as well as for the increasingly</span><br><span class="line">common type who runs away as soon</span><br><span class="line">as he sees something remotely</span><br><span class="line">resembling a command line.</span><br><span class="line"></span><br><span class="line">But this is not for Python! I want</span><br><span class="line">my poney!</span><br><span class="line"></span><br><span class="line">Seeing this unacceptable</span><br><span class="line">situation, Robb Shecter had the</span><br><span class="line">idea, back in the olden days of</span><br><span class="line">Y2K (when the world was supposed</span><br><span class="line">to suddenly collapse, remember?),</span><br><span class="line">to wrap a dialog interface into a</span><br><span class="line">Python module called dialog.py.</span><br><span class="line"></span><br><span class="line">pythondialog was born. Florent</span><br><span class="line">Rougon, who was looking for</span><br><span class="line">something like that in 2002,</span><br><span class="line">found the idea rather cool and</span><br><span class="line">improved the module during the</span><br><span class="line">following years...&quot;&quot;&quot; + 15*&apos;\n&apos;</span><br><span class="line"></span><br><span class="line">        return self.progressboxoid(&quot;progressbox&quot;, func_name, text)</span><br><span class="line"></span><br><span class="line">    def programbox_demo(self):</span><br><span class="line">        func_name = &quot;programbox_demo&quot;</span><br><span class="line">        text = &quot;&quot;&quot;\</span><br><span class="line">The &apos;progressbox&apos; widget</span><br><span class="line">has a little brother</span><br><span class="line">called &apos;programbox&apos;</span><br><span class="line">that displays text</span><br><span class="line">read from a pipe</span><br><span class="line">and only adds an OK button</span><br><span class="line">when the pipe indicates EOF</span><br><span class="line">(End Of File).</span><br><span class="line"></span><br><span class="line">This can be used</span><br><span class="line">to display the output</span><br><span class="line">of some external program.</span><br><span class="line"></span><br><span class="line">This will be done right away if you choose &quot;Yes&quot; in the next dialog.</span><br><span class="line">This choice will cause &apos;find /usr/bin&apos; to be run with subprocess.Popen()</span><br><span class="line">and the output to be displayed, via a pipe, in a &apos;programbox&apos; widget.&quot;&quot;&quot;</span><br><span class="line">        self.progressboxoid(&quot;programbox&quot;, func_name, text)</span><br><span class="line"></span><br><span class="line">        if d.Yesno(&quot;Do you want to run &apos;find /usr/bin&apos; in a programbox widget?&quot;):</span><br><span class="line">            try:</span><br><span class="line">                devnull = subprocess.DEVNULL</span><br><span class="line">            except AttributeError: # Python &lt; 3.3</span><br><span class="line">                devnull_context = devnull = open(os.devnull, &quot;wb&quot;)</span><br><span class="line">            else:</span><br><span class="line">                devnull_context = DummyContextManager()</span><br><span class="line"></span><br><span class="line">            args = [&quot;find&quot;, &quot;/usr/bin&quot;]</span><br><span class="line">            with devnull_context:</span><br><span class="line">                p = subprocess.Popen(args, stdout=subprocess.PIPE,</span><br><span class="line">                                     stderr=devnull, close_fds=True)</span><br><span class="line">                # One could use title=... instead of text=... to put the text</span><br><span class="line">                # in the title bar.</span><br><span class="line">                d.programbox(fd=p.stdout.fileno(),</span><br><span class="line">                             text=&quot;Example showing the output of a command &quot;</span><br><span class="line">                             &quot;with programbox&quot;)</span><br><span class="line">                retcode = p.wait()</span><br><span class="line"></span><br><span class="line">            # Context manager support for subprocess.Popen objects requires</span><br><span class="line">            # Python 3.2 or later.</span><br><span class="line">            p.stdout.close()</span><br><span class="line">            return retcode</span><br><span class="line">        else:</span><br><span class="line">            return None</span><br><span class="line"></span><br><span class="line">    def infobox_demo(self):</span><br><span class="line">        d.infobox(&quot;One moment, please. Just wasting some time here to &quot;</span><br><span class="line">                  &quot;show you the infobox...&quot;)</span><br><span class="line"></span><br><span class="line">        time.sleep(0.5 if params[&quot;fast_mode&quot;] else 4.0)</span><br><span class="line"></span><br><span class="line">    def gauge_demo(self):</span><br><span class="line">        d.gauge_start(&quot;Progress: 0%&quot;, title=&quot;Still testing your patience...&quot;)</span><br><span class="line"></span><br><span class="line">        for i in range(1, 101):</span><br><span class="line">            if i &lt; 50:</span><br><span class="line">                d.gauge_update(i, &quot;Progress: &#123;0&#125;%&quot;.format(i), update_text=True)</span><br><span class="line">            elif i == 50:</span><br><span class="line">                d.gauge_update(i, &quot;Over &#123;0&#125;%. Good.&quot;.format(i),</span><br><span class="line">                               update_text=True)</span><br><span class="line">            elif i == 80:</span><br><span class="line">                d.gauge_update(i, &quot;Yeah, this boring crap will be over Really &quot;</span><br><span class="line">                               &quot;Soon Now.&quot;, update_text=True)</span><br><span class="line">            else:</span><br><span class="line">                d.gauge_update(i)</span><br><span class="line"></span><br><span class="line">            time.sleep(0.01 if params[&quot;fast_mode&quot;] else 0.1)</span><br><span class="line"></span><br><span class="line">        d.gauge_stop()</span><br><span class="line"></span><br><span class="line">    def mixedgauge_demo(self):</span><br><span class="line">        for i in range(1, 101, 20):</span><br><span class="line">            d.mixedgauge(&quot;This is the &apos;text&apos; part of the mixedgauge\n&quot;</span><br><span class="line">                         &quot;and this is a forced new line.&quot;,</span><br><span class="line">                         title=&quot;&apos;mixedgauge&apos; demo&quot;,</span><br><span class="line">                         percent=int(round(72+28*i/100)),</span><br><span class="line">                         elements=[(&quot;Task 1&quot;, &quot;Foobar&quot;),</span><br><span class="line">                                   (&quot;Task 2&quot;, 0),</span><br><span class="line">                                   (&quot;Task 3&quot;, 1),</span><br><span class="line">                                   (&quot;Task 4&quot;, 2),</span><br><span class="line">                                   (&quot;Task 5&quot;, 3),</span><br><span class="line">                                   (&quot;&quot;, 8),</span><br><span class="line">                                   (&quot;Task 6&quot;, 5),</span><br><span class="line">                                   (&quot;Task 7&quot;, 6),</span><br><span class="line">                                   (&quot;Task 8&quot;, 7),</span><br><span class="line">                                   (&quot;&quot;, &quot;&quot;),</span><br><span class="line">                                   # 0 is the dialog special code for</span><br><span class="line">                                   # &quot;Succeeded&quot;, so these must not be equal to</span><br><span class="line">                                   # zero! That is why I made the range() above</span><br><span class="line">                                   # start at 1.</span><br><span class="line">                                   (&quot;Task 9&quot;, -max(1, 100-i)),</span><br><span class="line">                                   (&quot;Task 10&quot;, -i)])</span><br><span class="line">            time.sleep(0.5 if params[&quot;fast_mode&quot;] else 2)</span><br><span class="line"></span><br><span class="line">    def yesno_demo(self, with_help=True):</span><br><span class="line">        if not with_help:</span><br><span class="line">            # Simple version, without the &quot;Help&quot; button (the return value is</span><br><span class="line">            # True or False):</span><br><span class="line">            return d.Yesno(&quot;\nDo you like this demo?&quot;, yes_label=&quot;Yes, I do&quot;,</span><br><span class="line">                           no_label=&quot;No, I do not&quot;, height=10, width=40,</span><br><span class="line">                           title=&quot;An Important Question&quot;)</span><br><span class="line"></span><br><span class="line">        # &apos;yesno&apos; dialog box with custom Yes, No and Help buttons</span><br><span class="line">        while True:</span><br><span class="line">            reply = d.Yesnohelp(&quot;\nDo you like this demo?&quot;,</span><br><span class="line">                                yes_label=&quot;Yes, I do&quot;, no_label=&quot;No, I do not&quot;,</span><br><span class="line">                                help_label=&quot;Please help me!&quot;, height=10,</span><br><span class="line">                                width=60, title=&quot;An Important Question&quot;)</span><br><span class="line">            if reply == &quot;yes&quot;:</span><br><span class="line">                return True</span><br><span class="line">            elif reply == &quot;no&quot;:</span><br><span class="line">                return False</span><br><span class="line">            elif reply == &quot;help&quot;:</span><br><span class="line">                d.msgbox(&quot;&quot;&quot;\</span><br><span class="line">I can hear your cry for help, and would really like to help you. However, I \</span><br><span class="line">am afraid there is not much I can do for you here; you will have to decide \</span><br><span class="line">for yourself on this matter.</span><br><span class="line"></span><br><span class="line">Keep in mind that you can always rely on me. \</span><br><span class="line">You have all my support, be brave!&quot;&quot;&quot;,</span><br><span class="line">                         height=15, width=60,</span><br><span class="line">                         title=&quot;From Your Faithful Servant&quot;)</span><br><span class="line">            else:</span><br><span class="line">                assert False, &quot;Unexpected reply from MyDialog.Yesnohelp(): &quot; \</span><br><span class="line">                    + repr(reply)</span><br><span class="line"></span><br><span class="line">    def msgbox_demo(self, answer):</span><br><span class="line">        if answer:</span><br><span class="line">            msg = &quot;Excellent! Press OK to see its source code (or another &quot; \</span><br><span class="line">            &quot;file if not in the correct directory).&quot;</span><br><span class="line">        else:</span><br><span class="line">            msg = &quot;Well, feel free to send your complaints to /dev/null!\n\n&quot; \</span><br><span class="line">                &quot;Sincerely yours, etc.&quot;</span><br><span class="line"></span><br><span class="line">        d.msgbox(msg, width=50)</span><br><span class="line"></span><br><span class="line">    def textbox_demo(self):</span><br><span class="line">        # Better use the absolute path for displaying in the dialog title</span><br><span class="line">        filepath = os.path.abspath(__file__)</span><br><span class="line">        code = d.textbox(filepath, width=76,</span><br><span class="line">                         title=&quot;Contents of &#123;0&#125;&quot;.format(filepath),</span><br><span class="line">                         extra_button=True, extra_label=&quot;Stop it now!&quot;)</span><br><span class="line"></span><br><span class="line">        if code == &quot;extra&quot;:</span><br><span class="line">            d.msgbox(&quot;Your wish is my command, Master.&quot;, width=40,</span><br><span class="line">                     title=&quot;Exiting&quot;)</span><br><span class="line">            sys.exit(0)</span><br><span class="line"></span><br><span class="line">    def inputbox_demo(self):</span><br><span class="line">        code, answer = d.inputbox(&quot;What&apos;s your name?&quot;, init=&quot;Snow White&quot;)</span><br><span class="line">        return answer</span><br><span class="line"></span><br><span class="line">    def inputbox_demo_with_help(self):</span><br><span class="line">        init_str = &quot;Snow White&quot;</span><br><span class="line">        while True:</span><br><span class="line">            code, answer = d.inputbox(&quot;What&apos;s your name?&quot;, init=init_str,</span><br><span class="line">                                      title=&quot;&apos;inputbox&apos; demo&quot;, help_button=True)</span><br><span class="line"></span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                d.msgbox(&quot;Help from the &apos;inputbox&apos; demo. The string entered &quot;</span><br><span class="line">                         &quot;so far is &#123;0!r&#125;.&quot;.format(answer),</span><br><span class="line">                         title=&quot;&apos;inputbox&apos; demo&quot;)</span><br><span class="line">                init_str = answer</span><br><span class="line">            else:</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        return answer</span><br><span class="line"></span><br><span class="line">    def form_demo(self):</span><br><span class="line">        elements = [</span><br><span class="line">            (&quot;Size (cm)&quot;, 1, 1, &quot;175&quot;, 1, 20, 4, 3),</span><br><span class="line">            (&quot;Weight (kg)&quot;, 2, 1, &quot;85&quot;, 2, 20, 4, 3),</span><br><span class="line">            (&quot;City&quot;, 3, 1, &quot;Groboule-les-Bains&quot;, 3, 20, 15, 25),</span><br><span class="line">            (&quot;State&quot;, 4, 1, &quot;Some Lost Place&quot;, 4, 20, 15, 25),</span><br><span class="line">            (&quot;Country&quot;, 5, 1, &quot;Nowhereland&quot;, 5, 20, 15, 20),</span><br><span class="line">            (&quot;My&quot;, 6, 1, &quot;I hereby declare that, upon leaving this &quot;</span><br><span class="line">             &quot;world, all&quot;, 6, 20, 0, 0),</span><br><span class="line">            (&quot;Very&quot;, 7, 1, &quot;my fortune shall be transferred to Florent &quot;</span><br><span class="line">             &quot;Rougon&apos;s&quot;, 7, 20, 0, 0),</span><br><span class="line">            (&quot;Last&quot;, 8, 1, &quot;bank account number 000 4237 4587 32454/78 at &quot;</span><br><span class="line">             &quot;Banque&quot;, 8, 20, 0, 0),</span><br><span class="line">            (&quot;Will&quot;, 9, 1, &quot;Cantonale Vaudoise, Lausanne, Switzerland.&quot;,</span><br><span class="line">             9, 20, 0, 0) ]</span><br><span class="line"></span><br><span class="line">        code, fields = d.form(&quot;Please fill in some personal information:&quot;,</span><br><span class="line">                              elements, width=77)</span><br><span class="line">        return fields</span><br><span class="line"></span><br><span class="line">    def form_demo_with_help(self, item_help=True):</span><br><span class="line">        # This function is slightly complex because it provides help support</span><br><span class="line">        # with &apos;help_status=True&apos;, and optionally also with &apos;item_help=True&apos;</span><br><span class="line">        # together with &apos;help_tags=True&apos;. For a very simple version (without</span><br><span class="line">        # any help support), see form_demo() above.</span><br><span class="line">        minver_for_helptags = &quot;1.2-20130902&quot;</span><br><span class="line"></span><br><span class="line">        if item_help:</span><br><span class="line">            if self.dialog_version_check(minver_for_helptags):</span><br><span class="line">                complement = &quot;&quot;&quot;&apos;item_help=True&apos; is also used in conjunction \</span><br><span class="line">with &apos;help_tags=True&apos; in order to display per-item help at the bottom of the \</span><br><span class="line">widget.&quot;&quot;&quot;</span><br><span class="line">            else:</span><br><span class="line">                item_help = False</span><br><span class="line">                complement = &quot;&quot;&quot;&apos;item_help=True&apos; is not used, because to make \</span><br><span class="line">it consistent with the &apos;item_help=False&apos; case, dialog &#123;min&#125; or later is \</span><br><span class="line">required (for the --help-tags option); however, it appears that you are using \</span><br><span class="line">version &#123;used&#125;.&quot;&quot;&quot;.format(min=minver_for_helptags,</span><br><span class="line">                          used=d.cached_backend_version)</span><br><span class="line">        else:</span><br><span class="line">            complement = &quot;&quot;&quot;&apos;item_help=True&apos; is not used, because it has \</span><br><span class="line">been disabled; therefore, there is no per-item help at the bottom of the \</span><br><span class="line">widget.&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">        text = &quot;&quot;&quot;\</span><br><span class="line">This is a demo for the &apos;form&apos; widget, which is similar to &apos;mixedform&apos; but \</span><br><span class="line">a bit simpler in that it has no notion of field type (to hide contents such \</span><br><span class="line">as passwords).</span><br><span class="line"></span><br><span class="line">This demo uses &apos;help_button=True&apos; to provide a Help button \</span><br><span class="line">and &apos;help_status=True&apos; to allow redisplaying the widget in the same state \</span><br><span class="line">when leaving the help dialog. &#123;complement&#125;&quot;&quot;&quot;.format(complement=complement)</span><br><span class="line"></span><br><span class="line">        elements = [ (&quot;Fruit&quot;,  1, 8, &quot;mirabelle plum&quot;,  1, 20, 18, 30),</span><br><span class="line">                     (&quot;Color&quot;,  2, 8, &quot;yellowish&quot;,       2, 20, 18, 30),</span><br><span class="line">                     (&quot;Flavor&quot;, 3, 8, &quot;sweet when ripe&quot;, 3, 20, 18, 30),</span><br><span class="line">                     (&quot;Origin&quot;, 4, 8, &quot;Lorraine&quot;,        4, 20, 18, 30) ]</span><br><span class="line"></span><br><span class="line">        more_kwargs = &#123;&#125;</span><br><span class="line"></span><br><span class="line">        if item_help:</span><br><span class="line">            more_kwargs.update(&#123; &quot;item_help&quot;: True,</span><br><span class="line">                                 &quot;help_tags&quot;: True &#125;)</span><br><span class="line">            elements = [ list(l) + [ &quot;Help text for item &#123;0&#125;&quot;.format(i+1) ]</span><br><span class="line">                         for i, l in enumerate(elements) ]</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, t = d.form(text, elements, height=20, width=65,</span><br><span class="line">                             title=&quot;&apos;form&apos; demo with help facilities&quot;,</span><br><span class="line">                             help_button=True, help_status=True, **more_kwargs)</span><br><span class="line"></span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                label, status, elements = t</span><br><span class="line">                d.msgbox(&quot;You asked for help concerning the field labelled &quot;</span><br><span class="line">                         &quot;&#123;0!r&#125;.&quot;.format(label), width=50)</span><br><span class="line">            else:</span><br><span class="line">                # &apos;t&apos; contains the list of items as filled by the user</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        answers = &apos;\n&apos;.join(t)</span><br><span class="line">        d.msgbox(&quot;Your answers:\n\n&#123;0&#125;&quot;.format(indent(answers, &quot;  &quot;)),</span><br><span class="line">                 width=0, height=0,</span><br><span class="line">                 title=&quot;&apos;form&apos; demo with help facilities&quot;, no_collapse=True)</span><br><span class="line">        return t</span><br><span class="line"></span><br><span class="line">    def mixedform_demo(self):</span><br><span class="line">        HIDDEN    = 0x1</span><br><span class="line">        READ_ONLY = 0x2</span><br><span class="line"></span><br><span class="line">        elements = [</span><br><span class="line">            (&quot;Size (cm)&quot;, 1, 1, &quot;175&quot;, 1, 20, 4, 3, 0x0),</span><br><span class="line">            (&quot;Weight (kg)&quot;, 2, 1, &quot;85&quot;, 2, 20, 4, 3, 0x0),</span><br><span class="line">            (&quot;City&quot;, 3, 1, &quot;Groboule-les-Bains&quot;, 3, 20, 15, 25, 0x0),</span><br><span class="line">            (&quot;State&quot;, 4, 1, &quot;Some Lost Place&quot;, 4, 20, 15, 25, 0x0),</span><br><span class="line">            (&quot;Country&quot;, 5, 1, &quot;Nowhereland&quot;, 5, 20, 15, 20, 0x0),</span><br><span class="line">            (&quot;My&quot;, 6, 1, &quot;I hereby declare that, upon leaving this &quot;</span><br><span class="line">             &quot;world, all&quot;, 6, 20, 54, 0, READ_ONLY),</span><br><span class="line">            (&quot;Very&quot;, 7, 1, &quot;my fortune shall be transferred to Florent &quot;</span><br><span class="line">             &quot;Rougon&apos;s&quot;, 7, 20, 54, 0, READ_ONLY),</span><br><span class="line">            (&quot;Last&quot;, 8, 1, &quot;bank account number 000 4237 4587 32454/78 at &quot;</span><br><span class="line">             &quot;Banque&quot;, 8, 20, 54, 0, READ_ONLY),</span><br><span class="line">            (&quot;Will&quot;, 9, 1, &quot;Cantonale Vaudoise, Lausanne, Switzerland.&quot;,</span><br><span class="line">             9, 20, 54, 0, READ_ONLY),</span><br><span class="line">            (&quot;Read-only field...&quot;, 10, 1, &quot;... that doesn&apos;t go into the &quot;</span><br><span class="line">             &quot;output list&quot;, 10, 20, 0, 0, 0x0),</span><br><span class="line">            (&quot;\/3r`/ 53kri7 (0d3&quot;, 11, 1, &quot;&quot;, 11, 20, 15, 20, HIDDEN) ]</span><br><span class="line"></span><br><span class="line">        code, fields = d.mixedform(</span><br><span class="line">            &quot;Please fill in some personal information:&quot;, elements, width=77)</span><br><span class="line"></span><br><span class="line">        return fields</span><br><span class="line"></span><br><span class="line">    def passwordform_demo(self):</span><br><span class="line">        elements = [</span><br><span class="line">            (&quot;Secret field 1&quot;, 1, 1, &quot;&quot;, 1, 20, 12, 0),</span><br><span class="line">            (&quot;Secret field 2&quot;, 2, 1, &quot;&quot;, 2, 20, 12, 0),</span><br><span class="line">            (&quot;Secret field 3&quot;, 3, 1, &quot;Providing a non-empty initial content &quot;</span><br><span class="line">             &quot;(like this) for an invisible field can be very confusing!&quot;,</span><br><span class="line">             3, 20, 30, 160)]</span><br><span class="line"></span><br><span class="line">        code, fields = d.passwordform(</span><br><span class="line">            &quot;Please enter all your secret passwords.\n\nOn purpose here, &quot;</span><br><span class="line">            &quot;nothing is echoed when you type in the passwords. If you want &quot;</span><br><span class="line">            &quot;asterisks, use the &apos;insecure&apos; keyword argument as in the &quot;</span><br><span class="line">            &quot;passwordbox demo.&quot;,</span><br><span class="line">            elements, width=77, height=15, title=&quot;Passwordform demo&quot;)</span><br><span class="line"></span><br><span class="line">        d.msgbox(&quot;Secret password 1: &apos;%s&apos;\n&quot;</span><br><span class="line">                 &quot;Secret password 2: &apos;%s&apos;\n&quot;</span><br><span class="line">                 &quot;Secret password 3: &apos;%s&apos;&quot; % tuple(fields),</span><br><span class="line">                 width=60, height=20, title=&quot;The Whole Truth Now Revealed&quot;)</span><br><span class="line"></span><br><span class="line">        return fields</span><br><span class="line"></span><br><span class="line">    def menu_demo(self, name, city, state, country, size, weight, secret_code,</span><br><span class="line">                  last_will1, last_will2, last_will3, last_will4):</span><br><span class="line">        text = &quot;&quot;&quot;\</span><br><span class="line">Hello, %s from %s, %s, %s, %s cm, %s kg.</span><br><span class="line">Thank you for giving us your Very Secret Code &apos;%s&apos;.</span><br><span class="line"></span><br><span class="line">As expressly stated in the previous form, your Last Will reads: &quot;%s&quot;</span><br><span class="line"></span><br><span class="line">All that was very interesting, thank you. However, in order to know you \</span><br><span class="line">better and provide you with the best possible customer service, we would \</span><br><span class="line">still need to know your favorite day of the week. Please indicate your \</span><br><span class="line">preference below.&quot;&quot;&quot; \</span><br><span class="line">            % (name, city, state, country, size, weight, secret_code,</span><br><span class="line">               &apos; &apos;.join([last_will1, last_will2, last_will3, last_will4]))</span><br><span class="line"></span><br><span class="line">        code, tag = d.menu(text, height=23, width=76,</span><br><span class="line">            choices=[(&quot;Monday&quot;, &quot;Being the first day of the week...&quot;),</span><br><span class="line">                     (&quot;Tuesday&quot;, &quot;Comes after Monday&quot;),</span><br><span class="line">                     (&quot;Wednesday&quot;, &quot;Before Thursday day&quot;),</span><br><span class="line">                     (&quot;Thursday&quot;, &quot;Itself after Wednesday&quot;),</span><br><span class="line">                     (&quot;Friday&quot;, &quot;The best day of all&quot;),</span><br><span class="line">                     (&quot;Saturday&quot;, &quot;Well, I&apos;ve had enough, thanks&quot;),</span><br><span class="line">                     (&quot;Sunday&quot;, &quot;Let&apos;s rest a little bit&quot;)])</span><br><span class="line"></span><br><span class="line">        return tag</span><br><span class="line"></span><br><span class="line">    def menu_demo_with_help(self):</span><br><span class="line">        text = &quot;&quot;&quot;Sample &apos;menu&apos; dialog box with help_button=True and \</span><br><span class="line">item_help=True.&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, tag = d.menu(text, height=16, width=60,</span><br><span class="line">                choices=[(&quot;Tag 1&quot;, &quot;Item 1&quot;, &quot;Help text for item 1&quot;),</span><br><span class="line">                         (&quot;Tag 2&quot;, &quot;Item 2&quot;, &quot;Help text for item 2&quot;),</span><br><span class="line">                         (&quot;Tag 3&quot;, &quot;Item 3&quot;, &quot;Help text for item 3&quot;),</span><br><span class="line">                         (&quot;Tag 4&quot;, &quot;Item 4&quot;, &quot;Help text for item 4&quot;),</span><br><span class="line">                         (&quot;Tag 5&quot;, &quot;Item 5&quot;, &quot;Help text for item 5&quot;),</span><br><span class="line">                         (&quot;Tag 6&quot;, &quot;Item 6&quot;, &quot;Help text for item 6&quot;),</span><br><span class="line">                         (&quot;Tag 7&quot;, &quot;Item 7&quot;, &quot;Help text for item 7&quot;),</span><br><span class="line">                         (&quot;Tag 8&quot;, &quot;Item 8&quot;, &quot;Help text for item 8&quot;)],</span><br><span class="line">                               title=&quot;A menu with help facilities&quot;,</span><br><span class="line">                               help_button=True, item_help=True, help_tags=True)</span><br><span class="line"></span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                d.msgbox(&quot;You asked for help concerning the item identified by &quot;</span><br><span class="line">                         &quot;tag &#123;0!r&#125;.&quot;.format(tag), height=8, width=40)</span><br><span class="line">            else:</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        d.msgbox(&quot;You have chosen the item identified by tag &quot;</span><br><span class="line">                 &quot;&#123;0!r&#125;.&quot;.format(tag), height=8, width=40)</span><br><span class="line"></span><br><span class="line">    def checklist_demo(self):</span><br><span class="line">        # We could put non-empty items here (not only the tag for each entry)</span><br><span class="line">        code, tags = d.checklist(text=&quot;What sandwich toppings do you like?&quot;,</span><br><span class="line">                                 height=15, width=54, list_height=7,</span><br><span class="line">                                 choices=[(&quot;Catsup&quot;, &quot;&quot;,             False),</span><br><span class="line">                                          (&quot;Mustard&quot;, &quot;&quot;,            False),</span><br><span class="line">                                          (&quot;Pesto&quot;, &quot;&quot;,              False),</span><br><span class="line">                                          (&quot;Mayonnaise&quot;, &quot;&quot;,          True),</span><br><span class="line">                                          (&quot;Horse radish&quot;,&quot;&quot;,        True),</span><br><span class="line">                                          (&quot;Sun-dried tomatoes&quot;, &quot;&quot;, True)],</span><br><span class="line">                                 title=&quot;Do you prefer ham or spam?&quot;,</span><br><span class="line">                                 backtitle=&quot;And now, for something &quot;</span><br><span class="line">                                 &quot;completely different...&quot;)</span><br><span class="line">        return tags</span><br><span class="line"></span><br><span class="line">    SAMPLE_DATA_FOR_BUILDLIST_AND_CHECKLIST = [</span><br><span class="line">        (&quot;Tag 1&quot;, &quot;Item 1&quot;, True,  &quot;Help text for item 1&quot;),</span><br><span class="line">        (&quot;Tag 2&quot;, &quot;Item 2&quot;, False, &quot;Help text for item 2&quot;),</span><br><span class="line">        (&quot;Tag 3&quot;, &quot;Item 3&quot;, False, &quot;Help text for item 3&quot;),</span><br><span class="line">        (&quot;Tag 4&quot;, &quot;Item 4&quot;, True,  &quot;Help text for item 4&quot;),</span><br><span class="line">        (&quot;Tag 5&quot;, &quot;Item 5&quot;, True,  &quot;Help text for item 5&quot;),</span><br><span class="line">        (&quot;Tag 6&quot;, &quot;Item 6&quot;, False, &quot;Help text for item 6&quot;),</span><br><span class="line">        (&quot;Tag 7&quot;, &quot;Item 7&quot;, True,  &quot;Help text for item 7&quot;),</span><br><span class="line">        (&quot;Tag 8&quot;, &quot;Item 8&quot;, False, &quot;Help text for item 8&quot;) ]</span><br><span class="line"></span><br><span class="line">    def checklist_demo_with_help(self):</span><br><span class="line">        text = &quot;&quot;&quot;Sample &apos;checklist&apos; dialog box with help_button=True, \</span><br><span class="line">item_help=True and help_status=True.&quot;&quot;&quot;</span><br><span class="line">        choices = self.SAMPLE_DATA_FOR_BUILDLIST_AND_CHECKLIST</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, t = d.checklist(text, height=0, width=0, list_height=0,</span><br><span class="line">                                  choices=choices,</span><br><span class="line">                                  title=&quot;A checklist with help facilities&quot;,</span><br><span class="line">                                  help_button=True, item_help=True,</span><br><span class="line">                                  help_tags=True, help_status=True)</span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                tag, selected_tags, choices = t</span><br><span class="line">                d.msgbox(&quot;You asked for help concerning the item identified &quot;</span><br><span class="line">                         &quot;by tag &#123;0!r&#125;.&quot;.format(tag), height=7, width=60)</span><br><span class="line">            else:</span><br><span class="line">                # &apos;t&apos; contains the list of tags corresponding to checked items</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        s = &apos;\n&apos;.join(t)</span><br><span class="line">        d.msgbox(&quot;The tags corresponding to checked items are:\n\n&quot;</span><br><span class="line">                 &quot;&#123;0&#125;&quot;.format(indent(s, &quot;  &quot;)), height=15, width=60,</span><br><span class="line">                 title=&quot;&apos;checklist&apos; demo with help facilities&quot;,</span><br><span class="line">                 no_collapse=True)</span><br><span class="line"></span><br><span class="line">    def radiolist_demo(self):</span><br><span class="line">        choices = [</span><br><span class="line">            (&quot;Hamburger&quot;,       &quot;2 slices of bread, a steak...&quot;, False),</span><br><span class="line">            (&quot;Hotdog&quot;,          &quot;doesn&apos;t bite any more&quot;,         False),</span><br><span class="line">            (&quot;Burrito&quot;,         &quot;no se lo que es&quot;,               False),</span><br><span class="line">            (&quot;Doener&quot;,          &quot;Huh?&quot;,                          False),</span><br><span class="line">            (&quot;Falafel&quot;,         &quot;Erm...&quot;,                        False),</span><br><span class="line">            (&quot;Bagel&quot;,           &quot;Of course!&quot;,                    False),</span><br><span class="line">            (&quot;Big Mac&quot;,         &quot;Ah, that&apos;s easy!&quot;,              True),</span><br><span class="line">            (&quot;Whopper&quot;,         &quot;Erm, sorry&quot;,                    False),</span><br><span class="line">            (&quot;Quarter Pounder&quot;, &apos;called &quot;le Big Mac&quot; in France&apos;, False),</span><br><span class="line">            (&quot;Peanut Butter and Jelly&quot;, &quot;Well, that&apos;s your own business...&quot;,</span><br><span class="line">                                                                 False),</span><br><span class="line">            (&quot;Grilled cheese&quot;,  &quot;And nothing more?&quot;,             False) ]</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, t = d.radiolist(</span><br><span class="line">                &quot;What&apos;s your favorite kind of sandwich?&quot;, width=68,</span><br><span class="line">                choices=choices, help_button=True, help_status=True)</span><br><span class="line"></span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                # Prepare to redisplay the radiolist in the same state as it</span><br><span class="line">                # was before the user pressed the Help button.</span><br><span class="line">                tag, selected, choices = t</span><br><span class="line">                d.msgbox(&quot;You asked for help about something called &#123;0!r&#125;. &quot;</span><br><span class="line">                         &quot;Sorry, but I am quite incompetent in this matter.&quot;</span><br><span class="line">                         .format(tag))</span><br><span class="line">            else:</span><br><span class="line">                # &apos;t&apos; is the chosen tag</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        return t</span><br><span class="line"></span><br><span class="line">    def rangebox_demo(self):</span><br><span class="line">        nb = 10                 # initial value</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, nb = d.rangebox(&quot;&quot;&quot;\</span><br><span class="line">How many Microsoft(TM) engineers are needed to prepare such a sandwich?</span><br><span class="line"></span><br><span class="line">You can use the Up and Down arrows, Page Up and Page Down, Home and End keys \</span><br><span class="line">to change the value; you may also use the Tab key, Left and Right arrows \</span><br><span class="line">and any of the 0-9 keys to change a digit of the value.&quot;&quot;&quot;,</span><br><span class="line">                                  min=1, max=20, init=nb,</span><br><span class="line">                                  extra_button=True, extra_label=&quot;Joker&quot;)</span><br><span class="line">            if code == &quot;ok&quot;:</span><br><span class="line">                break</span><br><span class="line">            elif code == &quot;extra&quot;:</span><br><span class="line">                d.msgbox(&quot;Well, &#123;0&#125; may be enough. Or not, depending on the &quot;</span><br><span class="line">                         &quot;phase of the moon...&quot;.format(nb))</span><br><span class="line">            else:</span><br><span class="line">                assert False, &quot;Unexpected Dialog exit code: &#123;0!r&#125;&quot;.format(code)</span><br><span class="line"></span><br><span class="line">        return nb</span><br><span class="line"></span><br><span class="line">    def buildlist_demo(self):</span><br><span class="line">        items0 = [(&quot;A Monty Python DVD&quot;,                             False),</span><br><span class="line">                  (&quot;A Monty Python script&quot;,                          False),</span><br><span class="line">                  (&apos;A DVD of &quot;Barry Lyndon&quot; by Stanley Kubrick&apos;,     False),</span><br><span class="line">                  (&apos;A DVD of &quot;The Good, the Bad and the Ugly&quot; by Sergio Leone&apos;,</span><br><span class="line">                                                                     False),</span><br><span class="line">                  (&apos;A DVD of &quot;The Trial&quot; by Orson Welles&apos;,           False),</span><br><span class="line">                  (&apos;The Trial, by Franz Kafka&apos;,                      False),</span><br><span class="line">                  (&apos;Animal Farm, by George Orwell&apos;,                  False),</span><br><span class="line">                  (&apos;Notre-Dame de Paris, by Victor Hugo&apos;,            False),</span><br><span class="line">                  (&apos;Les Misérables, by Victor Hugo&apos;,                 False),</span><br><span class="line">                  (&apos;Le Lys dans la Vallée, by Honoré de Balzac&apos;,     False),</span><br><span class="line">                  (&apos;Les Rois Maudits, by Maurice Druon&apos;,             False),</span><br><span class="line">                  (&apos;A Georges Brassens CD&apos;,                          False),</span><br><span class="line">                  (&quot;A book of Georges Brassens&apos; songs&quot;,              False),</span><br><span class="line">                  (&apos;A Nina Simone CD&apos;,                               False),</span><br><span class="line">                  (&apos;Javier Vazquez y su Salsa - La Verdad&apos;,          False),</span><br><span class="line">                  (&apos;The last Justin Bieber album&apos;,                   False),</span><br><span class="line">                  (&apos;A printed copy of the Linux kernel source code&apos;, False),</span><br><span class="line">                  (&apos;A CD player&apos;,                                    False),</span><br><span class="line">                  (&apos;A DVD player&apos;,                                   False),</span><br><span class="line">                  (&apos;An MP3 player&apos;,                                  False)]</span><br><span class="line"></span><br><span class="line">        # Use the name as tag, item string and item-help string; the item-help</span><br><span class="line">        # will be useful for long names because it is displayed in a place</span><br><span class="line">        # that is large enough to avoid truncation. If not using</span><br><span class="line">        # item_help=True, then the last element of eash tuple must be omitted.</span><br><span class="line">        items = [ (tag, tag, status, tag) for (tag, status) in items0 ]</span><br><span class="line"></span><br><span class="line">        text = &quot;&quot;&quot;If you were stranded on a desert island, what would you \</span><br><span class="line">take?</span><br><span class="line"></span><br><span class="line">Press the space bar to toggle the status of an item between selected (on \</span><br><span class="line">the left) and unselected (on the right). You can use the TAB key or \</span><br><span class="line">^ and $ to change the focus between the different parts of the widget.</span><br><span class="line"></span><br><span class="line">(this widget is called with item_help=True and visit_items=True)&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">        code, l = d.buildlist(text, items=items, visit_items=True,</span><br><span class="line">                              item_help=True,</span><br><span class="line">                              title=&quot;A simple &apos;buildlist&apos; demo&quot;)</span><br><span class="line">        return l</span><br><span class="line"></span><br><span class="line">    def buildlist_demo_with_help(self):</span><br><span class="line">        text = &quot;&quot;&quot;Sample &apos;buildlist&apos; dialog box with help_button=True, \</span><br><span class="line">item_help=True, help_status=True, and visit_items=False.</span><br><span class="line"></span><br><span class="line">Keys: SPACE   select or deselect the highlighted item, i.e.,</span><br><span class="line">              move it between the left and right lists</span><br><span class="line">      ^       move the focus to the left list</span><br><span class="line">      $       move the focus to the right list</span><br><span class="line">      TAB     move focus</span><br><span class="line">      ENTER   press the focused button&quot;&quot;&quot;</span><br><span class="line">        items = self.SAMPLE_DATA_FOR_BUILDLIST_AND_CHECKLIST</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, t = d.buildlist(text, height=0, width=0, list_height=0,</span><br><span class="line">                                  items=items,</span><br><span class="line">                                  title=&quot;A &apos;buildlist&apos; with help facilities&quot;,</span><br><span class="line">                                  help_button=True, item_help=True,</span><br><span class="line">                                  help_tags=True, help_status=True,</span><br><span class="line">                                  no_collapse=True)</span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                tag, selected_tags, items = t</span><br><span class="line">                d.msgbox(&quot;You asked for help concerning the item identified &quot;</span><br><span class="line">                         &quot;by tag &#123;0!r&#125;.&quot;.format(tag), height=7, width=60)</span><br><span class="line">            else:</span><br><span class="line">                # &apos;t&apos; contains the list of tags corresponding to selected items</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        s = &apos;\n&apos;.join(t)</span><br><span class="line">        d.msgbox(&quot;The tags corresponding to selected items are:\n\n&quot;</span><br><span class="line">                 &quot;&#123;0&#125;&quot;.format(indent(s, &quot;  &quot;)), height=15, width=60,</span><br><span class="line">                 title=&quot;&apos;buildlist&apos; demo with help facilities&quot;,</span><br><span class="line">                 no_collapse=True)</span><br><span class="line"></span><br><span class="line">    def calendar_demo(self):</span><br><span class="line">        code, date = d.calendar(&quot;When do you think Georg Cantor was born?&quot;)</span><br><span class="line">        return date</span><br><span class="line"></span><br><span class="line">    def calendar_demo_with_help(self):</span><br><span class="line">        # Start with the current date</span><br><span class="line">        day, month, year = -1, -1, -1</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, date = d.calendar(&quot;When do you think Georg Cantor was born?&quot;,</span><br><span class="line">                                    day=day, month=month, year=year,</span><br><span class="line">                                    title=&quot;&apos;calendar&apos; demo&quot;,</span><br><span class="line">                                    help_button=True)</span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                day, month, year = date</span><br><span class="line">                d.msgbox(&quot;Help dialog for date &#123;0:04d&#125;-&#123;1:02d&#125;-&#123;2:02d&#125;.&quot;.format(</span><br><span class="line">                        year, month, day), title=&quot;&apos;calendar&apos; demo&quot;)</span><br><span class="line">            else:</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        return date</span><br><span class="line"></span><br><span class="line">    def comment_on_Cantor_date_of_birth(self, day, month, year):</span><br><span class="line">        complement = &quot;&quot;&quot;\</span><br><span class="line">For your information, Georg Ferdinand Ludwig Philip Cantor, a great \</span><br><span class="line">mathematician, was born on March 3, 1845 in Saint Petersburg, and died on \</span><br><span class="line">January 6, 1918. Among other things, Georg Cantor laid the foundation for \</span><br><span class="line">the set theory (which is at the basis of most modern mathematics) \</span><br><span class="line">and was the first person to give a rigorous definition of real numbers.&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">        if (year, month, day) == (1845, 3, 3):</span><br><span class="line">            return &quot;Spot-on! I&apos;m impressed.&quot;</span><br><span class="line">        elif year == 1845:</span><br><span class="line">            return &quot;You guessed the year right. &#123;0&#125;&quot;.format(complement)</span><br><span class="line">        elif abs(year-1845) &lt; 30:</span><br><span class="line">            return &quot;Not too far. &#123;0&#125;&quot;.format(complement)</span><br><span class="line">        else:</span><br><span class="line">            return &quot;Well, not quite. &#123;0&#125;&quot;.format(complement)</span><br><span class="line"></span><br><span class="line">    def timebox_demo(self):</span><br><span class="line">        # Get the current time (to display initially in the timebox)</span><br><span class="line">        tm = time.localtime()</span><br><span class="line">        init_hour, init_min, init_sec = tm.tm_hour, tm.tm_min, tm.tm_sec</span><br><span class="line">        # tm.tm_sec can be 60 or even 61 according to the doc of the time module!</span><br><span class="line">        init_sec = min(59, init_sec)</span><br><span class="line"></span><br><span class="line">        code, (hour, minute, second) = d.timebox(</span><br><span class="line">            &quot;And at what time, if I may ask?&quot;,</span><br><span class="line">            hour=init_hour, minute=init_min, second=init_sec)</span><br><span class="line"></span><br><span class="line">        return (hour, minute, second)</span><br><span class="line"></span><br><span class="line">    def passwordbox_demo(self):</span><br><span class="line">        # &apos;insecure&apos; keyword argument only asks dialog to echo asterisks when</span><br><span class="line">        # the user types characters. Not *that* bad.</span><br><span class="line">        code, password = d.passwordbox(&quot;What is your root password, &quot;</span><br><span class="line">                                       &quot;so that I can crack your system &quot;</span><br><span class="line">                                       &quot;right now?&quot;, insecure=True)</span><br><span class="line">        return password</span><br><span class="line"></span><br><span class="line">    def scrollbox_demo(self, name, favorite_day, toppings, sandwich,</span><br><span class="line">                       nb_engineers, desert_island_stuff, date, time_,</span><br><span class="line">                       password):</span><br><span class="line">        tw71 = textwrap.TextWrapper(width=71, break_long_words=False,</span><br><span class="line">                                    break_on_hyphens=True)</span><br><span class="line"></span><br><span class="line">        if nb_engineers is not None:</span><br><span class="line">            sandwich_comment = &quot; (the preparation of which requires, &quot; \</span><br><span class="line">                &quot;according to you, &#123;nb_engineers&#125; MS &#123;engineers&#125;)&quot;.format(</span><br><span class="line">                nb_engineers=nb_engineers,</span><br><span class="line">                engineers=&quot;engineers&quot; if nb_engineers != 1 else &quot;engineer&quot;)</span><br><span class="line">        else:</span><br><span class="line">            sandwich_comment = &quot;&quot;</span><br><span class="line"></span><br><span class="line">        sandwich_report = &quot;Favorite sandwich: &#123;sandwich&#125;&#123;comment&#125;&quot;.format(</span><br><span class="line">            sandwich=sandwich, comment=sandwich_comment)</span><br><span class="line"></span><br><span class="line">        if desert_island_stuff is None:</span><br><span class="line">            # The widget was not available, the user didn&apos;t see anything.</span><br><span class="line">            desert_island_string = &quot;&quot;</span><br><span class="line">        else:</span><br><span class="line">            if len(desert_island_stuff) == 0:</span><br><span class="line">                desert_things = &quot; nothing!&quot;</span><br><span class="line">            else:</span><br><span class="line">                desert_things = &quot;\n\n  &quot; + &quot;\n  &quot;.join(desert_island_stuff)</span><br><span class="line"></span><br><span class="line">            desert_island_string = \</span><br><span class="line">                &quot;\nOn a desert island, you would take:&#123;0&#125;\n&quot;.format(</span><br><span class="line">                desert_things)</span><br><span class="line"></span><br><span class="line">        day, month, year = date</span><br><span class="line">        hour, minute, second = time_</span><br><span class="line">        msg = &quot;&quot;&quot;\</span><br><span class="line">Here are some vital statistics about you:</span><br><span class="line"></span><br><span class="line">Name: &#123;name&#125;</span><br><span class="line">Favorite day of the week: &#123;favday&#125;</span><br><span class="line">Favorite sandwich toppings:&#123;toppings&#125;</span><br><span class="line">&#123;sandwich_report&#125;</span><br><span class="line">&#123;desert_island_string&#125;</span><br><span class="line">Your answer about Georg Cantor&apos;s date of birth: \</span><br><span class="line">&#123;year:04d&#125;-&#123;month:02d&#125;-&#123;day:02d&#125;</span><br><span class="line">(at precisely &#123;hour:02d&#125;:&#123;min:02d&#125;:&#123;sec:02d&#125;!)</span><br><span class="line"></span><br><span class="line">&#123;comment&#125;</span><br><span class="line"></span><br><span class="line">Your root password is: ************************** (looks good!)&quot;&quot;&quot;.format(</span><br><span class="line">            name=name, favday=favorite_day,</span><br><span class="line">            toppings=&quot;\n    &quot;.join([&apos;&apos;] + toppings),</span><br><span class="line">            sandwich_report=tw71.fill(sandwich_report),</span><br><span class="line">            desert_island_string=desert_island_string,</span><br><span class="line">            year=year, month=month, day=day,</span><br><span class="line">            hour=hour, min=minute, sec=second,</span><br><span class="line">            comment=tw71.fill(</span><br><span class="line">              self.comment_on_Cantor_date_of_birth(day, month, year)))</span><br><span class="line">        d.scrollbox(msg, height=20, width=75, title=&quot;Great Report of the Year&quot;)</span><br><span class="line"></span><br><span class="line">    TREEVIEW_BASE_TEXT = &quot;&quot;&quot;\</span><br><span class="line">This is an example of the &apos;treeview&apos; widget&#123;options&#125;. Nodes are labelled in a \</span><br><span class="line">way that reflects their position in the tree, but this is not a requirement: \</span><br><span class="line">you are free to name them the way you like.</span><br><span class="line"></span><br><span class="line">Node 0 is the root node. It has 3 children tagged 0.1, 0.2 and 0.3. \</span><br><span class="line">You should now select a node with the space bar.&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    def treeview_demo(self):</span><br><span class="line">        code, tag = d.treeview(self.TREEVIEW_BASE_TEXT.format(options=&quot;&quot;),</span><br><span class="line">                               nodes=[ (&quot;0&quot;, &quot;node 0&quot;, False, 0),</span><br><span class="line">                                       (&quot;0.1&quot;, &quot;node 0.1&quot;, False, 1),</span><br><span class="line">                                       (&quot;0.2&quot;, &quot;node 0.2&quot;, False, 1),</span><br><span class="line">                                       (&quot;0.2.1&quot;, &quot;node 0.2.1&quot;, False, 2),</span><br><span class="line">                                       (&quot;0.2.1.1&quot;, &quot;node 0.2.1.1&quot;, True, 3),</span><br><span class="line">                                       (&quot;0.2.2&quot;, &quot;node 0.2.2&quot;, False, 2),</span><br><span class="line">                                       (&quot;0.3&quot;, &quot;node 0.3&quot;, False, 1),</span><br><span class="line">                                       (&quot;0.3.1&quot;, &quot;node 0.3.1&quot;, False, 2),</span><br><span class="line">                                       (&quot;0.3.2&quot;, &quot;node 0.3.2&quot;, False, 2) ],</span><br><span class="line">                               title=&quot;&apos;treeview&apos; demo&quot;)</span><br><span class="line"></span><br><span class="line">        d.msgbox(&quot;You selected the node tagged &#123;0!r&#125;.&quot;.format(tag),</span><br><span class="line">                 title=&quot;treeview demo&quot;)</span><br><span class="line">        return tag</span><br><span class="line"></span><br><span class="line">    def treeview_demo_with_help(self):</span><br><span class="line">        text = self.TREEVIEW_BASE_TEXT.format(</span><br><span class="line">            options=&quot; with help_button=True, item_help=True and &quot;</span><br><span class="line">            &quot;help_status=True&quot;)</span><br><span class="line"></span><br><span class="line">        nodes = [ (&quot;0&quot;,       &quot;node 0&quot;,       False, 0, &quot;Help text 1&quot;),</span><br><span class="line">                  (&quot;0.1&quot;,     &quot;node 0.1&quot;,     False, 1, &quot;Help text 2&quot;),</span><br><span class="line">                  (&quot;0.2&quot;,     &quot;node 0.2&quot;,     False, 1, &quot;Help text 3&quot;),</span><br><span class="line">                  (&quot;0.2.1&quot;,   &quot;node 0.2.1&quot;,   False, 2, &quot;Help text 4&quot;),</span><br><span class="line">                  (&quot;0.2.1.1&quot;, &quot;node 0.2.1.1&quot;, True,  3, &quot;Help text 5&quot;),</span><br><span class="line">                  (&quot;0.2.2&quot;,   &quot;node 0.2.2&quot;,   False, 2, &quot;Help text 6&quot;),</span><br><span class="line">                  (&quot;0.3&quot;,     &quot;node 0.3&quot;,     False, 1, &quot;Help text 7&quot;),</span><br><span class="line">                  (&quot;0.3.1&quot;,   &quot;node 0.3.1&quot;,   False, 2, &quot;Help text 8&quot;),</span><br><span class="line">                  (&quot;0.3.2&quot;,   &quot;node 0.3.2&quot;,   False, 2, &quot;Help text 9&quot;) ]</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, t = d.treeview(text, nodes=nodes,</span><br><span class="line">                                 title=&quot;&apos;treeview&apos; demo with help facilities&quot;,</span><br><span class="line">                                 help_button=True, item_help=True,</span><br><span class="line">                                 help_tags=True, help_status=True)</span><br><span class="line"></span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                # Prepare to redisplay the treeview in the same state as it</span><br><span class="line">                # was before the user pressed the Help button.</span><br><span class="line">                tag, selected_tag, nodes = t</span><br><span class="line">                d.msgbox(&quot;You asked for help about the node with tag &#123;0!r&#125;.&quot;</span><br><span class="line">                         .format(tag))</span><br><span class="line">            else:</span><br><span class="line">                # &apos;t&apos; is the chosen tag</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        d.msgbox(&quot;You selected the node tagged &#123;0!r&#125;.&quot;.format(t),</span><br><span class="line">                 title=&quot;&apos;treeview&apos; demo&quot;)</span><br><span class="line">        return t</span><br><span class="line"></span><br><span class="line">    def editbox_demo(self, filepath):</span><br><span class="line">        if os.path.isfile(filepath):</span><br><span class="line">            code, text = d.editbox(filepath, 20, 60,</span><br><span class="line">                                   title=&quot;A Cheap Text Editor&quot;)</span><br><span class="line">            d.scrollbox(text, title=&quot;Resulting text&quot;)</span><br><span class="line">        else:</span><br><span class="line">            d.msgbox(&quot;Skipping the first part of the &apos;editbox&apos; demo, &quot;</span><br><span class="line">                     &quot;as &apos;&#123;0&#125;&apos; can&apos;t be found.&quot;.format(filepath),</span><br><span class="line">                     title=&quot;&apos;msgbox&apos; demo&quot;)</span><br><span class="line"></span><br><span class="line">        l = [&quot;In the previous dialog, the initial contents was&quot;,</span><br><span class="line">             &quot;explicitly written to a file. With Dialog.editbox_str(),&quot;,</span><br><span class="line">             &quot;you can provide it as a string and pythondialog will&quot;,</span><br><span class="line">             &quot;automatically create and delete a temporary file for you&quot;,</span><br><span class="line">             &quot;holding this text for dialog.\n&quot;] + \</span><br><span class="line">             [ &quot;This is line &#123;0&#125; of a boring sample text.&quot;.format(i+1)</span><br><span class="line">               for i in range(100) ]</span><br><span class="line">        code, text = d.editbox_str(&apos;\n&apos;.join(l), 0, 0,</span><br><span class="line">                                   title=&quot;A Cheap Text Editor&quot;)</span><br><span class="line">        d.scrollbox(text, title=&quot;Resulting text&quot;)</span><br><span class="line"></span><br><span class="line">    def inputmenu_demo(self):</span><br><span class="line">        choices = [ (&quot;1st_tag&quot;, &quot;Item 1 text&quot;),</span><br><span class="line">                    (&quot;2nd_tag&quot;, &quot;Item 2 text&quot;),</span><br><span class="line">                    (&quot;3rd_tag&quot;, &quot;Item 3 text&quot;) ]</span><br><span class="line"></span><br><span class="line">        for i in range(4, 21):</span><br><span class="line">            choices.append((&quot;%dth_tag&quot; % i, &quot;Item %d text&quot; % i))</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, tag, new_item_text = d.inputmenu(</span><br><span class="line">                &quot;Demonstration of &apos;inputmenu&apos;. Any single item can be either &quot;</span><br><span class="line">                &quot;accepted as is, or renamed.&quot;,</span><br><span class="line">                height=0, width=60, menu_height=10, choices=choices,</span><br><span class="line">                help_button=True, title=&quot;&apos;inputmenu&apos; demo&quot;)</span><br><span class="line"></span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                d.msgbox(&quot;You asked for help about the item with tag &#123;0!r&#125;.&quot;</span><br><span class="line">                         .format(tag))</span><br><span class="line">                continue</span><br><span class="line">            elif code == &quot;accepted&quot;:</span><br><span class="line">                text = &quot;The item corresponding to tag &#123;0!r&#125; was &quot; \</span><br><span class="line">                    &quot;accepted.&quot;.format(tag)</span><br><span class="line">            elif code == &quot;renamed&quot;:</span><br><span class="line">                text = &quot;The item corresponding to tag &#123;0!r&#125; was renamed to &quot; \</span><br><span class="line">                    &quot;&#123;1!r&#125;.&quot;.format(tag, new_item_text)</span><br><span class="line">            else:</span><br><span class="line">                text = &quot;Unexpected exit code from &apos;inputmenu&apos;: &#123;0!r&#125;.\n\n&quot; \</span><br><span class="line">                    &quot;It may be a bug. Please report.&quot;.format(code)</span><br><span class="line"></span><br><span class="line">            break</span><br><span class="line"></span><br><span class="line">        d.msgbox(text, width=60, title=&quot;Outcome of the &apos;inputmenu&apos; demo&quot;)</span><br><span class="line"></span><br><span class="line">    # Help strings used in several places</span><br><span class="line">    FSELECT_HELP = &quot;&quot;&quot;\</span><br><span class="line">Hint: the complete file path must be entered in the bottom field. One \</span><br><span class="line">convenient way to achieve this is to use the SPACE bar when the desired file \</span><br><span class="line">is highlighted in the top-right list.</span><br><span class="line"></span><br><span class="line">As usual, you can use the TAB and arrow keys to move between controls. If in \</span><br><span class="line">the bottom field, the SPACE key provides auto-completion.&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    # The following help text was initially meant to be used for several</span><br><span class="line">    # widgets (at least progressbox and tailbox). Currently (dialog version</span><br><span class="line">    # 1.2-20130902), &quot;dialog --tailbox&quot; doesn&apos;t seem to work with FIFOs, so the</span><br><span class="line">    # &quot;flexibility&quot; of the help text is unused (another text is used when</span><br><span class="line">    # demonstrating --tailbox). However, this might change in the future...</span><br><span class="line">    def FIFO_HELP(self, widget):</span><br><span class="line">        return &quot;&quot;&quot;\</span><br><span class="line">For demos based on the &#123;widget&#125; widget, you may use a FIFO, also called \</span><br><span class="line">&quot;named pipe&quot;. This is a special kind of file, to which you will be able to \</span><br><span class="line">easily append data. With the &#123;widget&#125; widget, you can see the data stream \</span><br><span class="line">flow in real time.</span><br><span class="line"></span><br><span class="line">To create a FIFO, you can use the commmand mkfifo(1), like this:</span><br><span class="line"></span><br><span class="line">  % mkfifo /tmp/my_shiny_new_fifo</span><br><span class="line"></span><br><span class="line">Then, you can cat(1) data to the FIFO like this:</span><br><span class="line"></span><br><span class="line">  % cat &gt;&gt;/tmp/my_shiny_new_fifo</span><br><span class="line">  First line of text</span><br><span class="line">  Second line of text</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">You can end the input to cat(1) by typing Ctrl-D at the beginning of a \</span><br><span class="line">line.&quot;&quot;&quot;.format(widget=widget)</span><br><span class="line"></span><br><span class="line">    def fselect_demo(self, widget, init_path=None, allow_FIFOs=False, **kwargs):</span><br><span class="line">        init_path = init_path or params[&quot;home_dir&quot;]</span><br><span class="line">        # Make sure the directory we chose ends with os.sep so that dialog</span><br><span class="line">        # shows its contents right away</span><br><span class="line">        if not init_path.endswith(os.sep):</span><br><span class="line">            init_path += os.sep</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            # We want to let the user quit this particular dialog with Cancel</span><br><span class="line">            # without having to bother choosing a file, therefore we use the</span><br><span class="line">            # original fselect() from dialog.Dialog and interpret the return</span><br><span class="line">            # code manually. (By default, the MyDialog class defined in this</span><br><span class="line">            # file intercepts the CANCEL and ESC exit codes and causes them to</span><br><span class="line">            # spawn the &quot;confirm quit&quot; dialog.)</span><br><span class="line">            code, path = self.Dialog_instance.fselect(</span><br><span class="line">                init_path, height=10, width=60, help_button=True, **kwargs)</span><br><span class="line"></span><br><span class="line">            # Display the &quot;confirm quit&quot; dialog if the user pressed ESC.</span><br><span class="line">            if not d.check_exit_request(code, ignore_Cancel=True):</span><br><span class="line">                continue</span><br><span class="line"></span><br><span class="line">            # Provide an easy way out...</span><br><span class="line">            if code == d.CANCEL:</span><br><span class="line">                path = None</span><br><span class="line">                break</span><br><span class="line">            elif code == &quot;help&quot;:</span><br><span class="line">                d.msgbox(&quot;Help about &#123;0!r&#125; from the &apos;fselect&apos; dialog.&quot;.format(</span><br><span class="line">                        path), title=&quot;&apos;fselect&apos; demo&quot;)</span><br><span class="line">                init_path = path</span><br><span class="line">            elif code == d.OK:</span><br><span class="line">                # Of course, one can use os.path.isfile(path) here, but we want</span><br><span class="line">                # to allow regular files *and* possibly FIFOs. Since there is</span><br><span class="line">                # no os.path.is*** convenience function for FIFOs, let&apos;s go</span><br><span class="line">                # with os.stat.</span><br><span class="line">                try:</span><br><span class="line">                    mode = os.stat(path)[stat.ST_MODE]</span><br><span class="line">                except os.error as e:</span><br><span class="line">                    d.msgbox(&quot;Error: &#123;0&#125;&quot;.format(e))</span><br><span class="line">                    continue</span><br><span class="line"></span><br><span class="line">                # Accept FIFOs only if allow_FIFOs is True</span><br><span class="line">                if stat.S_ISREG(mode) or (allow_FIFOs and stat.S_ISFIFO(mode)):</span><br><span class="line">                    break</span><br><span class="line">                else:</span><br><span class="line">                    if allow_FIFOs:</span><br><span class="line">                        help_text = &quot;&quot;&quot;\</span><br><span class="line">You are expected to select a *file* here (possibly a FIFO), or press the \</span><br><span class="line">Cancel button.\n\n%s</span><br><span class="line"></span><br><span class="line">For your convenience, I will reproduce the FIFO help text here:\n\n%s&quot;&quot;&quot; \</span><br><span class="line">                            % (self.FSELECT_HELP, self.FIFO_HELP(widget))</span><br><span class="line">                    else:</span><br><span class="line">                        help_text = &quot;&quot;&quot;\</span><br><span class="line">You are expected to select a regular *file* here, or press the \</span><br><span class="line">Cancel button.\n\n%s&quot;&quot;&quot; % (self.FSELECT_HELP,)</span><br><span class="line"></span><br><span class="line">                    d.msgbox(help_text, width=72, height=20)</span><br><span class="line">            else:</span><br><span class="line">                d.msgbox(&quot;Unexpected exit code from Dialog.fselect(): &#123;0&#125;.\n\n&quot;</span><br><span class="line">                         &quot;It may be a bug. Please report.&quot;.format(code))</span><br><span class="line">        return path</span><br><span class="line"></span><br><span class="line">    def dselect_demo(self, init_dir=None):</span><br><span class="line">        init_dir = init_dir or params[&quot;home_dir&quot;]</span><br><span class="line">        # Make sure the directory we chose ends with os.sep so that dialog</span><br><span class="line">        # shows its contents right away</span><br><span class="line">        if not init_dir.endswith(os.sep):</span><br><span class="line">            init_dir += os.sep</span><br><span class="line"></span><br><span class="line">        while True:</span><br><span class="line">            code, path = d.dselect(init_dir, 10, 50,</span><br><span class="line">                                   title=&quot;Please choose a directory&quot;,</span><br><span class="line">                                   help_button=True)</span><br><span class="line">            if code == &quot;help&quot;:</span><br><span class="line">                d.msgbox(&quot;Help about &#123;0!r&#125; from the &apos;dselect&apos; dialog.&quot;.format(</span><br><span class="line">                        path), title=&quot;&apos;dselect&apos; demo&quot;)</span><br><span class="line">                init_dir = path</span><br><span class="line">            # When Python 3.2 is old enough, we&apos;ll be able to check if</span><br><span class="line">            # path.endswith(os.sep) and remove the trailing os.sep if this</span><br><span class="line">            # does not change the path according to os.path.samefile().</span><br><span class="line">            elif not os.path.isdir(path):</span><br><span class="line">                d.msgbox(&quot;Hmm. It seems that &#123;0!r&#125; is not a directory&quot;.format(</span><br><span class="line">                        path), title=&quot;&apos;dselect&apos; demo&quot;)</span><br><span class="line">            else:</span><br><span class="line">                break</span><br><span class="line"></span><br><span class="line">        d.msgbox(&quot;Directory &apos;%s&apos; thanks you for choosing him.&quot; % path)</span><br><span class="line">        return path</span><br><span class="line"></span><br><span class="line">    def tailbox_demo(self, height=22, width=78):</span><br><span class="line">        widget = &quot;tailbox&quot;</span><br><span class="line"></span><br><span class="line">        # First, ask the user for a file.</span><br><span class="line">        # Strangely (dialog version 1.2-20130902 bug?), &quot;dialog --tailbox&quot;</span><br><span class="line">        # doesn&apos;t work with FIFOs: &quot;Error moving file pointer in last_lines()&quot;</span><br><span class="line">        # and DIALOG_ERROR exit status.</span><br><span class="line">        path = self.fselect_demo(widget, allow_FIFOs=False,</span><br><span class="line">                                 title=&quot;Please choose a file to be shown as &quot;</span><br><span class="line">                                 &quot;with &apos;tail -f&apos;&quot;)</span><br><span class="line">        # Now, the tailbox</span><br><span class="line">        if path is None:</span><br><span class="line">            # User chose to abort</span><br><span class="line">            return</span><br><span class="line">        else:</span><br><span class="line">            d.tailbox(path, height, width, title=&quot;Tailbox example&quot;)</span><br><span class="line"></span><br><span class="line">    def pause_demo(self, seconds):</span><br><span class="line">        d.pause(&quot;&quot;&quot;\</span><br><span class="line">Ugh, sorry. pythondialog is still in development, and its advanced circuitry \</span><br><span class="line">detected internal error number 0x666. That&apos;s a pretty nasty one, you know.</span><br><span class="line"></span><br><span class="line">I am embarrassed. I don&apos;t know how to tell you, but we are going to have to \</span><br><span class="line">reboot. In %d seconds.</span><br><span class="line"></span><br><span class="line">Fasten your seatbelt...&quot;&quot;&quot; % seconds, height=18, seconds=seconds)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def process_command_line():</span><br><span class="line">    global params</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        opts, args = getopt.getopt(sys.argv[1:], &quot;ftE&quot;,</span><br><span class="line">                                   [&quot;test-suite&quot;,</span><br><span class="line">                                    &quot;fast&quot;,</span><br><span class="line">                                    &quot;debug&quot;,</span><br><span class="line">                                    &quot;debug-file=&quot;,</span><br><span class="line">                                    &quot;debug-expand-file-opt&quot;,</span><br><span class="line">                                    &quot;help&quot;,</span><br><span class="line">                                    &quot;version&quot;])</span><br><span class="line">    except getopt.GetoptError:</span><br><span class="line">        print(usage, file=sys.stderr)</span><br><span class="line">        return (&quot;exit&quot;, 1)</span><br><span class="line"></span><br><span class="line">    # Let&apos;s start with the options that don&apos;t require any non-option argument</span><br><span class="line">    # to be present</span><br><span class="line">    for option, value in opts:</span><br><span class="line">        if option == &quot;--help&quot;:</span><br><span class="line">            print(usage)</span><br><span class="line">            return (&quot;exit&quot;, 0)</span><br><span class="line">        elif option == &quot;--version&quot;:</span><br><span class="line">            print(&quot;%s %s\n%s&quot; % (progname, progversion, version_blurb))</span><br><span class="line">            return (&quot;exit&quot;, 0)</span><br><span class="line"></span><br><span class="line">    # Now, require a correct invocation.</span><br><span class="line">    if len(args) != 0:</span><br><span class="line">        print(usage, file=sys.stderr)</span><br><span class="line">        return (&quot;exit&quot;, 1)</span><br><span class="line"></span><br><span class="line">    # Default values for parameters</span><br><span class="line">    params = &#123; &quot;fast_mode&quot;: False,</span><br><span class="line">               &quot;testsuite_mode&quot;: False,</span><br><span class="line">               &quot;debug&quot;: False,</span><br><span class="line">               &quot;debug_filename&quot;: default_debug_filename,</span><br><span class="line">               &quot;debug_expand_file_opt&quot;: False &#125;</span><br><span class="line"></span><br><span class="line">    # Get the home directory, if any, and store it in params (often useful).</span><br><span class="line">    root_dir = os.sep           # This is OK for Unix-like systems</span><br><span class="line">    params[&quot;home_dir&quot;] = os.getenv(&quot;HOME&quot;, root_dir)</span><br><span class="line"></span><br><span class="line">    # General option processing</span><br><span class="line">    for option, value in opts:</span><br><span class="line">        if option in (&quot;-t&quot;, &quot;--test-suite&quot;):</span><br><span class="line">            params[&quot;testsuite_mode&quot;] = True</span><br><span class="line">            # --test-suite implies --fast</span><br><span class="line">            params[&quot;fast_mode&quot;] = True</span><br><span class="line">        elif option in (&quot;-f&quot;, &quot;--fast&quot;):</span><br><span class="line">            params[&quot;fast_mode&quot;] = True</span><br><span class="line">        elif option == &quot;--debug&quot;:</span><br><span class="line">            params[&quot;debug&quot;] = True</span><br><span class="line">        elif option == &quot;--debug-file&quot;:</span><br><span class="line">            params[&quot;debug_filename&quot;] = value</span><br><span class="line">        elif option in (&quot;-E&quot;, &quot;--debug-expand-file-opt&quot;):</span><br><span class="line">            params[&quot;debug_expand_file_opt&quot;] = True</span><br><span class="line">        else:</span><br><span class="line">            # The options (such as --help) that cause immediate exit</span><br><span class="line">            # were already checked, and caused the function to return.</span><br><span class="line">            # Therefore, if we are here, it can&apos;t be due to any of these</span><br><span class="line">            # options.</span><br><span class="line">            assert False, &quot;Unexpected option received from the &quot; \</span><br><span class="line">                &quot;getopt module: &apos;%s&apos;&quot; % option</span><br><span class="line"></span><br><span class="line">    return (&quot;continue&quot;, None)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    &quot;&quot;&quot;This demo shows the main features of pythondialog.&quot;&quot;&quot;</span><br><span class="line">    locale.setlocale(locale.LC_ALL, &apos;&apos;)</span><br><span class="line"></span><br><span class="line">    what_to_do, code = process_command_line()</span><br><span class="line">    if what_to_do == &quot;exit&quot;:</span><br><span class="line">        sys.exit(code)</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        app = MyApp()</span><br><span class="line">        app.run()</span><br><span class="line">    except dialog.error as exc_instance:</span><br><span class="line">        # The error that causes a PythonDialogErrorBeforeExecInChildProcess to</span><br><span class="line">        # be raised happens in the child process used to run the dialog-like</span><br><span class="line">        # program, and the corresponding traceback is printed right away from</span><br><span class="line">        # that child process when the error is encountered. Therefore, don&apos;t</span><br><span class="line">        # print a second, not very useful traceback for this kind of exception.</span><br><span class="line">        if not isinstance(exc_instance,</span><br><span class="line">                          dialog.PythonDialogErrorBeforeExecInChildProcess):</span><br><span class="line">            print(traceback.format_exc(), file=sys.stderr)</span><br><span class="line"></span><br><span class="line">        print(&quot;Error (see above for a traceback):\n\n&#123;0&#125;&quot;.format(</span><br><span class="line">                exc_instance), file=sys.stderr)</span><br><span class="line">        sys.exit(1)</span><br><span class="line"></span><br><span class="line">    sys.exit(0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;: main()</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/09/Learning/Raspberry/Raspberry--官方7寸屏相关配置简介/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/09/Learning/Raspberry/Raspberry--官方7寸屏相关配置简介/" itemprop="url">Raspberry--官方7寸屏相关配置简介</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-09T16:06:14+08:00">
                2017-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry–官方7寸屏相关配置简介"><a href="#Raspberry–官方7寸屏相关配置简介" class="headerlink" title="Raspberry–官方7寸屏相关配置简介"></a>Raspberry–官方7寸屏相关配置简介</h1><h2 id="1-引子"><a href="#1-引子" class="headerlink" title="1. 引子"></a>1. 引子</h2><p>在树莓派官方触摸屏发布之前，市场上可用的屏幕有以下三种：</p>
<ul>
<li>直接和GPIO插口对接的屏幕，使用SPI与CPU进行通信。需要特殊的驱动程序将framebuffer的内容发送到LCD控制器上，一般带有触屏功能，大小以3.5寸为主流。受限于SPI通信速度，刷新速率不高；</li>
<li>专用USB接口的屏幕，如RoboPeak Mini USB Display。这类屏幕通过USB连接，需要本地运行驱动程序；</li>
<li>通用LCD屏幕，通过HDMI和树莓派连接。因其通用性不需要特殊的驱动程序，但是很多都不支持触屏功能，而且都需要额外的转接板，体积较大；</li>
</ul>
<p><img src="http://www.yfworld.com/?attachment_id=3712" alt="▲ 图.  树莓派官方7寸屏实拍"></p>
<p>我自己的需求是将树莓派作为信息显示中心，在屏幕上显示我的HP服务器的运行信息，另外提供一些快捷的传感器监控和控制操作接口。最初一直在官方屏幕和HDMI屏幕之间犹豫，最后还是选择了官方触摸屏。归结起来主要有几个原因：</p>
<ul>
<li>官方屏的LCD模组最有保证，淘宝上的HDMI LCD一般成像质量不高；</li>
<li>官方屏的触摸功能在所有方案中是支持的最好的，有十点电容触摸（目前Raspbian还只支持单点，以后会升级），且不需要额外驱动。而HDMI接口的LCD如果有触摸功能，都需要额外接一根USB用于提供触摸控制；</li>
<li>官方触屏和树莓派3可以直接通过铜柱物理连接，无需额外的驱动电路板。连线也非常少，只需要一根DSI软排线和供电接口即可。</li>
</ul>
<p>总体上来说，虽然官方屏的价格高了一些，但是却是所有方案中最可靠、简洁的，所以最后也没有多犹豫就从网上下单了。</p>
<p>▲ 图. 树莓派官方LCD屏实拍 – 正面</p>
<h2 id="2-入手简评"><a href="#2-入手简评" class="headerlink" title="2. 入手简评"></a>2. 入手简评</h2><p>这款屏幕官方公布的主要参数有：</p>
<ul>
<li>分辨率800 x 480像素，刷新率60fps；</li>
<li>10点电容触摸，但是目前只支持单点触控；</li>
<li>背后有可供背挂的安装定位孔；</li>
<li>可视角度70度 ，可视区域大约为155 x 86mm；</li>
<li>非方形像素 – 大约为0.19 x 0.175mm；</li>
<li>电源功耗：455mA – 470mA之间，约为2.3W。</li>
</ul>
<p>虽然说这款屏幕是相对来说比较好的选择，但是拿到手之后还是发现了很多存在的问题：</p>
<ul>
<li>首先是这款屏幕的分辨率只有800 x 480，是WVGA标准，很多应用软件的界面都无法完全显示，使用时要经常拖动窗口来显示需要的信息；同样的，如果是自己开发图形界面，能够显示内容的空间也会比较有限（尤其考虑到任务栏也占用了一部分空间）；</li>
<li>其次是这个屏幕的可视角不大。现在主流的LCD屏幕可视角都是120度以上了，而这款屏只有70度，工作时只要稍微变换一下角度屏幕的内容就看不清楚了。可视角的问题在仰视时还可以接受，俯视的时候就非常明显了；</li>
<li>最后就是这个屏幕比较吃电，如果和树莓派供用电源，会影响到树莓派的供电。如果出现供电不足的情况，屏幕的右上角就会时不时出现一个方形的彩虹图标。<br>总体来说这款屏幕从设置到使用还是比较方便的，但是作为官方发布的屏幕，同时再考虑其600块钱的定价，整体性价比就显得不高了。</li>
</ul>
<h2 id="3-使用方法"><a href="#3-使用方法" class="headerlink" title="3. 使用方法"></a>3. 使用方法</h2><h3 id="3-1-注意事项（使用前必读）"><a href="#3-1-注意事项（使用前必读）" class="headerlink" title="3.1 注意事项（使用前必读）"></a>3.1 注意事项（使用前必读）</h3><ul>
<li><p>1) 这款屏幕主要支持的树莓派型号是Model A+, B+, Pi 2和Pi 3。 Model A和B虽然也可以使用，但是会牺牲I2C的功能（因为这两个型号只有一组I2C，而其他型号有两组，可用其中一组作触屏接口）；</p>
</li>
<li><p>2) 至于操作系统，推荐使用最新版原生Raspbian OS。目前对NOOBS系统支持不好，所以还是推荐安装Raspbian；如果已经在使用旧版Raspbian，但是不想重新安装最新的系统，可以使用以下命令升级系统：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install --reinstall libraspberrypi0 libraspberrypi-&#123;bin,dev,doc&#125; raspberrypi-bootloader</span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>以下是官方公布的操作系统支持情况：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">– Raspbian – Supported</span><br><span class="line">– Ubuntu MATE – Supported</span><br><span class="line">– RetroPie – Supported</span><br><span class="line">– OpenElec – Supported</span><br><span class="line">– OSMC – Supported</span><br><span class="line">– Arch – Display works, Touch may be tricky: https://www.raspberrypi.org/forums/viewtopic.php?f=108&amp;t=128452</span><br><span class="line">– Kano OS – Not supported</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>3) 确保使用官方电源（或其他品牌电流供应能力 &gt; 2A以上的电源），保证屏幕可以正常供电；</p>
</li>
<li><p>4) FPC连接头很脆，安装的时候需要小心一点。确保FPC连接头可靠链接，连接端口的卡口扣下。</p>
</li>
</ul>
<h3 id="3-2-安装方法"><a href="#3-2-安装方法" class="headerlink" title="3.2 安装方法"></a>3.2 安装方法</h3><p>打开包装后，屏幕背面接口的情况如下图所示：</p>
<p>▲ 图. 树莓派官方LCD屏背面接口</p>
<p>这里主要需要连接的就是LCD软排线和电源供电接口。LCD软排线连接的时候问题不大，主要就是注意接口触电的方向是否正确，不要装反了。至于电源接口，这款屏幕提供三种供电方式：</p>
<ul>
<li>1) GPIO引脚供电（树莓派向LCD供电）</li>
</ul>
<p>可以直接从树莓派跳VCC和GND线进行连接，然后给树莓派供电，但是这样就无法使用其他IO扩展板了（如SenseHat）。</p>
<p>▲图. GPIO供电连接方法</p>
<ul>
<li>2) USB串联供电（LCD向树莓派供电）</li>
</ul>
<p>将LCD的Power Out端连接至树莓派，然后给LCD电源接口供电。经测试，这种方式供电经常会遇到之前说的供电不足的情况，屏幕右上角会出现彩虹图标。</p>
<p>▲图. USB串联供电连接方法</p>
<ul>
<li>3) 双USB同时供电</li>
</ul>
<p>两个USB都单独供电，但是要保证两个USB可以同时上电，否则会出现开机没有初始化屏幕，而没有图形显示的问题。</p>
<p>电源和软排线连线完成后就可以固定树莓派了。树莓派的安装方法有两种：正装和反装。所谓正装，就是将树莓派以相同方向安装在LCD的铜柱固定柱上。而反装，则是将树莓派面朝LCD驱动板进行安装。反装可以节省空间，但是反装就无法再使用GPIO引脚了，所以一般情况下都是正装的。</p>
<p>官方屏不含支架，可以去网上购买专用的LCD支架，像我买的这款用起来就不错：</p>
<p>▲图. LCD亚克力支架</p>
<h3 id="3-3-使用虚拟键盘"><a href="#3-3-使用虚拟键盘" class="headerlink" title="3.3 使用虚拟键盘"></a>3.3 使用虚拟键盘</h3><p>对于想使用触摸屏进行全部操作的朋友，可以安装一个虚拟键盘进行文字输入：</p>
<h4 id="3-3-1-Florence"><a href="#3-3-1-Florence" class="headerlink" title="3.3.1 Florence"></a>3.3.1 Florence</h4><p>Suggested on the Pi forums by Hove is Florence: <a href="http://xmodulo.com/onscreen-virtual-keyboard-linux.html" target="_blank" rel="noopener">http://xmodulo.com/onscreen-virtual-keyboard-linux.html</a>. Install with:</p>
<p><code>sudo apt-get install florence</code></p>
<h4 id="3-3-2-Matchbox"><a href="#3-3-2-Matchbox" class="headerlink" title="3.3.2 Matchbox"></a>3.3.2 Matchbox</h4><p>Suggested by Alex ( the almighty @raspitv ), and scattered on various blogs, is Matchbox, which you can install like so:</p>
<p><code>sudo apt-get install matchbox-keyboard</code></p>
<p>And then find in Accessories &gt; Keyboard.</p>
<h2 id="4-FAQ问题解答"><a href="#4-FAQ问题解答" class="headerlink" title="4. FAQ问题解答"></a>4. FAQ问题解答</h2><p><strong>Q: 屏幕上下180度翻转</strong></p>
<p>A: 打开SD卡中的/boot/config.txt文件，增加以下一行：</p>
<p><code>lcd_rotate=2</code></p>
<p>也可以直接使用以下命令：</p>
<p><code>echo &quot;lcd_rotate=2&quot; | sudo tee -a /boot/config.txt</code></p>
<p><strong>Q: 程序控制背光</strong></p>
<p>A: 打开背光:</p>
<p><code>echo 0 &gt; /sys/class/backlight/rpi_backlight/bl_power</code></p>
<p>关闭背光:</p>
<p><code>echo 1 &gt; /sys/class/backlight/rpi_backlight/bl_power</code></p>
<p>取消屏幕进入睡眠<br><code>sudo nano /etc/lightdm/lightdm.conf</code><br>添加如下内容到[SeatDefaults]选项中<br><code>xserver-command=X -s 0 dpms</code></p>
<p><strong>Q: 在Pi A, B上使用</strong></p>
<p>A: 首先需要将树莓派的IIC线与LCD控制板的IIC总线手动连线在一起，包括SDA ( <a href="http://pinout.xyz/pinout/pin3_gpio2" target="_blank" rel="noopener">http://pinout.xyz/pinout/pin3_gpio2</a>) 和 SCL (<a href="http://pinout.xyz/pinout/pin5_gpio3)。之后修改配置，在IIC总线上识别LCD：" target="_blank" rel="noopener">http://pinout.xyz/pinout/pin5_gpio3)。之后修改配置，在IIC总线上识别LCD：</a></p>
<p><code>ignore_lcd=0</code></p>
<p>注意: 其他IIC设备将无法使用。</p>
<p><strong>Q: 屏幕左上角出现方形彩虹图标</strong></p>
<p>A: 电源供电不足，请使用电流供应能力 &gt; 2A的电源。</p>
<p><strong>Q: 如何使用Kivy图形库</strong></p>
<p>A: Kivy介绍：Kivy is a Python GUI development system for cross-platform applications. It is designed to work with touchscreen devices (phones and tablets), but also runs on the Raspberry Pi. To install Kivy onto your Pi follow the instructions at <a href="https://kivy.org/docs/installation/installation-rpi.html" target="_blank" rel="noopener">https://kivy.org/docs/installation/installation-rpi.html</a>.</p>
<p>如果需要在树莓派上正常识别触摸屏输入，需要将触摸屏在Kivy中配置成为输入源。打开配置文件 ~/.kivy/config.ini ，在 [input] 一栏增加以下命令：</p>
<p><code>mouse = mouse</code><br><code>mtdev_%(name)s = probesysfs,provider=mtdev</code><br><code>hid_%(name)s = probesysfs,provider=hidinput</code></p>
<p>Reference</p>
<p>[1] Official 7” Raspberry Pi Touch Screen FAQ, PIMORONI, <a href="http://forums.pimoroni.com/t/official-7-raspberry-pi-touch-screen-faq/959" target="_blank" rel="noopener">http://forums.pimoroni.com/t/official-7-raspberry-pi-touch-screen-faq/959</a></p>
<p>[2] Getting Started with the Pi 7″ Touchscreen LCD, PIMORONI, <a href="http://learn.pimoroni.com/tutorial/pi-lcd/getting-started-with-raspberry-pi-7-touchscreen-lcd" target="_blank" rel="noopener">http://learn.pimoroni.com/tutorial/pi-lcd/getting-started-with-raspberry-pi-7-touchscreen-lcd</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/09/Learning/Raspberry/Raspberry--无线wifi连接配置/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/09/Learning/Raspberry/Raspberry--无线wifi连接配置/" itemprop="url">Raspberry--wifi配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-09T13:33:43+08:00">
                2017-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry–wifi配置"><a href="#Raspberry–wifi配置" class="headerlink" title="Raspberry–wifi配置"></a>Raspberry–wifi配置</h1><h2 id="配置WiFi连接"><a href="#配置WiFi连接" class="headerlink" title="配置WiFi连接"></a>配置WiFi连接</h2><ul>
<li>编辑wifi文件/etc/wpa_supplicant/wpa_supplicant.conf</li>
</ul>
<p><code>sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</code></p>
<ul>
<li>在该文件最后添加下面的话<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">network=&#123;</span><br><span class="line">  ssid=&quot;WIFINAME&quot;</span><br><span class="line">  psk=&quot;password&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>引号部分分别为wifi的名字和密码<br>保存文件后几秒钟应该就会自动连接到该wifi</p>
</blockquote>
<ul>
<li>查看是否连接成功<br><code>ifconfig wlan0</code></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/09/Learning/Raspberry/Raspberry--keyboard键盘布局修改/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/09/Learning/Raspberry/Raspberry--keyboard键盘布局修改/" itemprop="url">Raspberry--keyboard键盘布局修改</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-09T11:20:51+08:00">
                2017-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry–keyboard键盘布局修改"><a href="#Raspberry–keyboard键盘布局修改" class="headerlink" title="Raspberry–keyboard键盘布局修改"></a>Raspberry–keyboard键盘布局修改</h1><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="https://wiki.debian.org/Keyboard" target="_blank" rel="noopener">https://wiki.debian.org/Keyboard</a></p>
<h2 id="改变布局设置"><a href="#改变布局设置" class="headerlink" title="改变布局设置"></a>改变布局设置</h2><ul>
<li><p>设置命令<br><code>dpkg-reconfigure keyboard-configuration</code><br><code>service keyboard-setup restart</code></p>
</li>
<li><p>你也可以编辑/etc/default/keyboard</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># KEYBOARD CONFIGURATION FILE</span><br><span class="line"></span><br><span class="line"># Consult the keyboard(5) manual page.</span><br><span class="line"></span><br><span class="line">XKBMODEL=&quot;pc101&quot;</span><br><span class="line">XKBLAYOUT=&quot;us&quot;</span><br><span class="line">XKBVARIANT=&quot;alt-intl&quot;</span><br><span class="line">XKBOPTIONS=&quot;&quot;</span><br><span class="line"></span><br><span class="line">BACKSPACE=&quot;guess&quot;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/08/Learning/Raspberry/Raspberry--xfce4桌面更换/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/08/Learning/Raspberry/Raspberry--xfce4桌面更换/" itemprop="url">Raspberry--xfce4桌面</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-08T15:21:17+08:00">
                2017-06-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Raspberry/" itemprop="url" rel="index">
                    <span itemprop="name">Raspberry</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Raspberry–xfce4桌面"><a href="#Raspberry–xfce4桌面" class="headerlink" title="Raspberry–xfce4桌面"></a>Raspberry–xfce4桌面</h1><h2 id="安装xfce4桌面"><a href="#安装xfce4桌面" class="headerlink" title="安装xfce4桌面"></a>安装xfce4桌面</h2><p><code>sudo apt-get install xfce4</code></p>
<h2 id="配置开机启动桌面"><a href="#配置开机启动桌面" class="headerlink" title="配置开机启动桌面"></a>配置开机启动桌面</h2><p><code>sudo update-alternatives --config x-session-manager</code></p>
<p>这里会弹出选择启动项目，六七个左右</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
<th style="text-align:left"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">selection</td>
<td style="text-align:left">path</td>
<td style="text-align:left">priority</td>
<td style="text-align:left">status</td>
</tr>
<tr>
<td style="text-align:left">0</td>
<td style="text-align:left">/usr/bin/startlxde-pi</td>
<td style="text-align:left">90</td>
<td style="text-align:left">auto mode</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">……</td>
<td style="text-align:left">..</td>
<td style="text-align:left">….</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">……</td>
<td style="text-align:left">..</td>
<td style="text-align:left">….</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">……</td>
<td style="text-align:left">..</td>
<td style="text-align:left">….</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">……</td>
<td style="text-align:left">..</td>
<td style="text-align:left">….</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">……</td>
<td style="text-align:left">..</td>
<td style="text-align:left">….</td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left">……</td>
<td style="text-align:left">..</td>
<td style="text-align:left">….</td>
</tr>
</tbody>
</table>
<h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><p><code>sudo reboot</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/12/Learning/Python/python-文件读写/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/12/Learning/Python/python-文件读写/" itemprop="url">python-文件读写</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-12T13:48:27+08:00">
                2017-05-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考:</p>
<p><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386820066616a77f826d876b46b9ac34cb5f34374f7a000" target="_blank" rel="noopener">廖雪峰-文件读写</a></p>
<h1 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;%s&apos;%file_path,&apos;r&apos;) as f:</span><br><span class="line">    print(f.read())</span><br></pre></td></tr></table></figure>
<h2 id="读二进制文件"><a href="#读二进制文件" class="headerlink" title="读二进制文件"></a>读二进制文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;%s&apos;%file_path,&apos;rb&apos;) as f:</span><br><span class="line">    print(f.read())</span><br></pre></td></tr></table></figure>
<h2 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h2><p>要读取非ASCII编码的文本文件，就必须以二进制模式打开，再解码。比如GBK编码的文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = open(&apos;/Users/michael/gbk.txt&apos;, &apos;rb&apos;)</span><br><span class="line">u = f.read().decode(&apos;gbk&apos;)</span><br><span class="line">print(u)</span><br></pre></td></tr></table></figure></p>
<p>如果每次都这么手动转换编码嫌麻烦（写程序怕麻烦是好事，不怕麻烦就会写出又长又难懂又没法维护的代码），Python还提供了一个codecs模块帮我们在读文件时自动转换编码，直接读出unicode：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import codecs</span><br><span class="line">with codecs.open(&apos;/Users/michael/gbk.txt&apos;, &apos;r&apos;, &apos;gbk&apos;) as f:</span><br><span class="line">    f.read() # u&apos;\u6d4b\u8bd5&apos;</span><br></pre></td></tr></table></figure></p>
<h1 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;%s&apos;%file_path,&apos;w&apos;) as f:</span><br><span class="line">    f.write(&apos;write some information&apos;)</span><br></pre></td></tr></table></figure>
<h2 id="其他写入方式-参考读写文件即可-举一反三"><a href="#其他写入方式-参考读写文件即可-举一反三" class="headerlink" title="其他写入方式,参考读写文件即可,举一反三"></a>其他写入方式,参考读写文件即可,举一反三</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/12/Learning/Python/linux实时屏幕按键显示/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/12/Learning/Python/linux实时屏幕按键显示/" itemprop="url">linux实时屏幕按键显示</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-12T11:16:50+08:00">
                2017-05-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#screenkey</p>
<p>安装：<br>下载地址：<a href="https://launchpad.net/screenkey" target="_blank" rel="noopener">https://launchpad.net/screenkey</a></p>
<p>下载screenkey-02.tar.gz文件包</p>
<p>解压：<br><code>tar -zxvf screenkey-02.tar.gz</code></p>
<p>进入目录执行：<br><code>python2 setup.py install</code></p>
<p>这里貌似只支持python2</p>
<p>需要安装pygtk软件包</p>
<p><code>sudo python2 -m pip install pygtk</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/30/Learning/Hexo/Hexo——next主题配置文件说明/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/30/Learning/Hexo/Hexo——next主题配置文件说明/" itemprop="url">Hexo——Next主题配置文件说明</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-30T21:04:04+08:00">
                2017-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Hexo/" itemprop="url" rel="index">
                    <span itemprop="name">Hexo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h2><p>cmd窗口输入<br><code>hexo s</code><br>浏览器输入 <code>http://localhost:4000</code> </p>
<p><img src="/images/1.png" alt="Alt text"></p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="站点配置文件"><a href="#站点配置文件" class="headerlink" title="站点配置文件"></a>站点配置文件</h3><p>路径<code>C:\Users\Administrator\blog\_config.yml</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"># Hexo Configuration</span><br><span class="line">## Docs: https://hexo.io/docs/configuration.html</span><br><span class="line">## Source: https://github.com/hexojs/hexo/</span><br><span class="line"># Site 网站</span><br><span class="line">title: 为学   #网站标题</span><br><span class="line">subtitle: 天下事有难易乎？为之，则难者亦易矣；不为，则易者亦难矣。   #网站副标题</span><br><span class="line">description: 天下事有难易乎？为之，则难者亦易矣；不为，则易者亦难矣。   #网站描述</span><br><span class="line">author: willxue   #您的名字</span><br><span class="line">language: zh-CN   #网站使用的语言</span><br><span class="line">timezone:           #网站时区。Hexo 默认使用您电脑的时区</span><br><span class="line"></span><br><span class="line"># URL 网址</span><br><span class="line">## 如果您的网站存放在子目录中，例如 http://yoursite.com/blog，则请将您的 url 设为 http://yoursite.com/blog 并把 root 设为 /blog/。</span><br><span class="line">url: http://willxue.top</span><br><span class="line">permalink: :year/:month/:day/:title/    #生成文件名字的格式我改成blog/:title:year:month:day/</span><br><span class="line">permalink_defaults:</span><br><span class="line"></span><br><span class="line"># Directory 目录配置</span><br><span class="line">source_dir: source   #源文件夹，这个文件夹用来存放内容。</span><br><span class="line">public_dir: public   #公共文件夹，这个文件夹用于存放生成的站点文件。</span><br><span class="line">tag_dir: tags   #标签文件夹</span><br><span class="line">archive_dir: archives   #归档文件夹</span><br><span class="line">category_dir: categories   #分类文件夹</span><br><span class="line">code_dir: downloads/code    #nclude code 文件夹</span><br><span class="line">i18n_dir: :lang   #国际化（i18n）文件夹</span><br><span class="line">skip_render:   #跳过指定文件的渲染，您可使用 glob 表达式来匹配路径。</span><br><span class="line"></span><br><span class="line"># Writing 文章</span><br><span class="line">new_post_name: :title.md   # 新建文章默认文件名</span><br><span class="line">default_layout: post   # 默认布局</span><br><span class="line">titlecase: false   # Transform title into titlecase</span><br><span class="line">external_link: true   # 在新标签中打开一个外部链接，默认为true</span><br><span class="line">filename_case: 0   #转换文件名，1代表小写；2代表大写；默认为0，意思就是创建文章的时候，是否自动帮你转换文件名，默认就行，意义不大。</span><br><span class="line">render_drafts: false   #是否渲染_drafts目录下的文章，默认为false</span><br><span class="line">post_asset_folder: false   #启动 Asset 文件夹</span><br><span class="line">relative_link: false   #把链接改为与根目录的相对位址，默认false</span><br><span class="line">future: true   #显示未来的文章，默认false</span><br><span class="line">highlight:   #代码块的设置 </span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: false</span><br><span class="line">  tab_replace:</span><br><span class="line"></span><br><span class="line"># Category &amp; Tag   分类和标签的设置</span><br><span class="line">default_category: uncategorized   #默认分类</span><br><span class="line">category_map:   #分类别名</span><br><span class="line">tag_map:   #标签别名</span><br><span class="line"></span><br><span class="line"># Date / Time format</span><br><span class="line">## Hexo uses Moment.js to parse and display date</span><br><span class="line">## You can customize the date format as defined in</span><br><span class="line">## http://momentjs.com/docs/#/displaying/format/</span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line"></span><br><span class="line"># Pagination 分页</span><br><span class="line">## Set per_page to 0 to disable pagination</span><br><span class="line">per_page: 10   #每页显示的文章量 (0 = 关闭分页功能)</span><br><span class="line">pagination_dir: page   #分页目录</span><br><span class="line"></span><br><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: next</span><br><span class="line"></span><br><span class="line">feed:</span><br><span class="line">  type: atom       #feed 类型 (atom/rss2)</span><br><span class="line">  path: atom.xml   #rss 路径</span><br><span class="line">  limit: 20        #在 rss 中最多生成的文章数(0显示所有)</span><br><span class="line"></span><br><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy: </span><br><span class="line">type: git </span><br><span class="line">  repository: https://github.com/imwillxue/imwillxue.github.com.git </span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></p>
<h3 id="主题配置文件"><a href="#主题配置文件" class="headerlink" title="主题配置文件"></a>主题配置文件</h3><p>路径<code>C:\Users\Administrator\blog\themes\next\_config.yml</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Site Information Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Place your favicon.ico to /source directory.</span><br><span class="line">favicon: /favicon.ico   #站标  可以放在hexo文件夹下的/source里</span><br><span class="line"></span><br><span class="line"># Set default keywords (Use a comma to separate)</span><br><span class="line">keywords: &quot;为学,willxue,willxue.top&quot;  #网站关键字</span><br><span class="line"></span><br><span class="line"># Set rss to false to disable feed link.</span><br><span class="line"># Leave rss as empty to use site&apos;s feed link.</span><br><span class="line"># Set rss to specific value if you have burned your feed already.</span><br><span class="line">rss:  #rss这里不设置 引文站点配置文件已经配置了 需要安装插件</span><br><span class="line"></span><br><span class="line"># Specify the date when the site was setup</span><br><span class="line">since: 1990  #网站时间 从xx开始 类似 1990-2016</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Menu Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># When running hexo in a subdirectory (e.g. domain.tld/blog)</span><br><span class="line"># Remove leading slashes ( &quot;/archives&quot; -&gt; &quot;archives&quot; )</span><br><span class="line">menu: #菜单路径设置 如果hexo在二级目录放置要去掉/</span><br><span class="line">  home: /</span><br><span class="line">  archives: /archives #归档</span><br><span class="line">  tags: /tags #标签</span><br><span class="line">  categories: /categories  #分类</span><br><span class="line">  about: /about #关于我</span><br><span class="line">  commonweal: /404.html  #公益404</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Enable/Disable menu icons.</span><br><span class="line"># Icon Mapping:</span><br><span class="line">#   Map a menu item to a specific FontAwesome icon name.</span><br><span class="line">#   Key is the name of menu item and value is the name of FontAwsome icon.</span><br><span class="line">#   When an question mask icon presenting up means that the item has no mapping icon.</span><br><span class="line">menu_icons:  #icon图标</span><br><span class="line">  enable: true</span><br><span class="line">  # Icon Mapping.</span><br><span class="line">  home: home</span><br><span class="line">  about: user</span><br><span class="line">  categories: th</span><br><span class="line">  tags: tags</span><br><span class="line">  archives: archive</span><br><span class="line">  commonweal: heartbeat</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Scheme Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Schemes  #next的三个scheme</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">scheme: Pisces</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Sidebar Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Social links   #社交链接</span><br><span class="line">social:</span><br><span class="line">  GitHub: </span><br><span class="line">  Weibo:</span><br><span class="line">  Others:</span><br><span class="line"></span><br><span class="line"># Social Icons  #社交的图标</span><br><span class="line">social_icons:</span><br><span class="line">  enable: true</span><br><span class="line">  # Icon Mappings</span><br><span class="line">  GitHub: github</span><br><span class="line">  Twitter: twitter</span><br><span class="line">  Weibo: weibo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Sidebar Avatar</span><br><span class="line"># in theme directory(source/images): /images/avatar.jpg</span><br><span class="line"># in site  directory(source/uploads): /uploads/avatar.jpg</span><br><span class="line"># default : /images/default_avatar.jpg</span><br><span class="line">avatar: http://7xrz9n.com1.z0.glb.clouddn.com/logo.png #头像</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># TOC in the Sidebar  #文章自动显示目录</span><br><span class="line">toc:</span><br><span class="line">  enable: true</span><br><span class="line"></span><br><span class="line">  # Automatically add list number to toc.  #目录是否自动显示数字序号</span><br><span class="line">  number: false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Creative Commons 4.0 International License.</span><br><span class="line"># http://creativecommons.org/  #自由协议</span><br><span class="line"># Available: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span><br><span class="line">#creative_commons: by-nc-sa</span><br><span class="line">#creative_commons:</span><br><span class="line"></span><br><span class="line">sidebar:</span><br><span class="line">  # Sidebar Position, available value: left | right</span><br><span class="line">  position: left</span><br><span class="line">  #position: right</span><br><span class="line"></span><br><span class="line">  # Sidebar Display, available value:</span><br><span class="line">  #  - post    expand on posts automatically. Default.</span><br><span class="line">  #  - always  expand for all pages automatically</span><br><span class="line">  #  - hide    expand only when click on the sidebar toggle icon.</span><br><span class="line">  #  - remove  Totally remove sidebar including sidebar toggle icon.</span><br><span class="line">  display: post</span><br><span class="line">  #display: always</span><br><span class="line">  #display: hide</span><br><span class="line">  #display: remove</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Misc Theme Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Custom Logo.</span><br><span class="line"># !!Only available for Default Scheme currently.</span><br><span class="line"># Options:</span><br><span class="line">#   enabled: [true/false] - Replace with specific image</span><br><span class="line">#   image: url-of-image   - Images&apos;s url</span><br><span class="line">custom_logo:</span><br><span class="line">  enabled: false</span><br><span class="line">  image:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Code Highlight theme</span><br><span class="line"># Available value:</span><br><span class="line">#    normal | night | night eighties | night blue | night bright</span><br><span class="line"># https://github.com/chriskempson/tomorrow-theme</span><br><span class="line">highlight_theme: night</span><br><span class="line"></span><br><span class="line"># Automatically scroll page to section which is under &lt;!-- more --&gt; mark.</span><br><span class="line">scroll_to_more: true</span><br><span class="line"></span><br><span class="line"># Automatically Excerpt</span><br><span class="line">auto_excerpt:</span><br><span class="line">  enable: false</span><br><span class="line">  length: 150</span><br><span class="line"></span><br><span class="line"># Use Lato font</span><br><span class="line">use_font_lato: true</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"># Third Party Services Settings</span><br><span class="line"># ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># MathJax Support</span><br><span class="line">mathjax:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Swiftype Search API Key</span><br><span class="line">#swiftype_key:</span><br><span class="line"></span><br><span class="line"># Baidu Analytics ID</span><br><span class="line">#baidu_analytics:</span><br><span class="line"></span><br><span class="line"># Duoshuo ShortName</span><br><span class="line">duoshuo_shortname: imwillxue</span><br><span class="line"></span><br><span class="line"># Disqus</span><br><span class="line">#disqus_shortname:</span><br><span class="line"></span><br><span class="line"># Baidu Share</span><br><span class="line"># Available value:</span><br><span class="line">#    button | slide</span><br><span class="line">#baidushare:</span><br><span class="line">##  type: button</span><br><span class="line"></span><br><span class="line"># Share</span><br><span class="line">#jiathis:</span><br><span class="line">#add_this_id:</span><br><span class="line"></span><br><span class="line"># Share</span><br><span class="line">duoshuo_share: true</span><br><span class="line"></span><br><span class="line"># Google Webmaster tools verification setting</span><br><span class="line"># See: https://www.google.com/webmasters/</span><br><span class="line">#google_site_verification:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Google Analytics</span><br><span class="line">#google_analytics:</span><br><span class="line"></span><br><span class="line"># CNZZ count</span><br><span class="line">#cnzz_siteid:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Make duoshuo show UA</span><br><span class="line"># user_id must NOT be null when admin_enable is true!</span><br><span class="line"># you can visit http://dev.duoshuo.com get duoshuo user id.</span><br><span class="line">duoshuo_info:</span><br><span class="line">  ua_enable: true</span><br><span class="line">  admin_enable: true</span><br><span class="line">  user_id: 6262178932196377345</span><br><span class="line">  admin_nickname: 神</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Facebook SDK Support.</span><br><span class="line"># https://github.com/iissnan/hexo-theme-next/pull/410</span><br><span class="line">facebook_sdk:</span><br><span class="line">  enable: false</span><br><span class="line">  app_id:       #&lt;app_id&gt;</span><br><span class="line">  fb_admin:     #&lt;user_id&gt;</span><br><span class="line">  like_button:  #true</span><br><span class="line">  webmaster:    #true</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Show number of visitors to each article.</span><br><span class="line"># You can visit https://leancloud.cn get AppID and AppKey.</span><br><span class="line">leancloud_visitors:</span><br><span class="line">  enable: true</span><br><span class="line">  app_id: QImiFijLSOHYufsazlBVlwLg-gzGzoHsz</span><br><span class="line">  app_key: AMcYaNHy9Y5OdH42k0d4uSED</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Tencent analytics ID</span><br><span class="line"># tencent_analytics:</span><br><span class="line"></span><br><span class="line"># Enable baidu push so that the blog will push the url to baidu automatically which is very helpful for SEO</span><br><span class="line">baidu_push: true</span><br><span class="line"></span><br><span class="line">## 文章末尾是否显示打赏按钮</span><br><span class="line">donate: </span><br><span class="line">  enable: true</span><br><span class="line">  text: Enjoy it ? Donate me !  欣赏此文？求鼓励，求支持！</span><br><span class="line">  alipay: </span><br><span class="line">  wechat: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#! ---------------------------------------------------------------</span><br><span class="line">#! DO NOT EDIT THE FOLLOWING SETTINGS</span><br><span class="line">#! UNLESS YOU KNOW WHAT YOU ARE DOING</span><br><span class="line">#! ---------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"># Motion</span><br><span class="line">use_motion: true</span><br><span class="line"></span><br><span class="line"># Fancybox</span><br><span class="line">fancybox: true</span><br><span class="line"></span><br><span class="line"># Static files</span><br><span class="line">vendors: vendors</span><br><span class="line">css: css</span><br><span class="line">js: js</span><br><span class="line">images: images</span><br><span class="line"></span><br><span class="line"># Theme version</span><br><span class="line">version: 0.5.0</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/21/Learning/Gentoo/Gentoo安装过程记录/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/21/Learning/Gentoo/Gentoo安装过程记录/" itemprop="url">Gentoo安装过程记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-21T14:05:11+08:00">
                2017-03-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Gentoo/" itemprop="url" rel="index">
                    <span itemprop="name">Gentoo</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Gentoo安装过程记录"><a href="#Gentoo安装过程记录" class="headerlink" title="Gentoo安装过程记录"></a>Gentoo安装过程记录</h1><p>[TOC]</p>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p><a href="https://www.gentoo.org/downloads/" target="_blank" rel="noopener">下载链接</a><br>下载iso文件<br><img src="http://static.zybuluo.com/RedFalsh/zbvycsprtqajo4dlmbw2dde2/image_1bafg46s9cn3cbopful601kf9.png" alt="image_1bafg46s9cn3cbopful601kf9.png-145.4kB"></p>
<h2 id="安装和配置"><a href="#安装和配置" class="headerlink" title="安装和配置"></a>安装和配置</h2><p><a href="https://www.futures.moe/writings/install-gentoo-on-raspberry-pi-2.htm" target="_blank" rel="noopener">博客参考1</a><br><a href="https://wiki.jmk.hu/wiki/Raspberry_Pi_Gentoo_Linux_Installation" target="_blank" rel="noopener">博客参考2</a><br><a href="https://blog.ramses-pyramidenbau.de/?p=188" target="_blank" rel="noopener">博客参考3</a><br><a href="https://wiki.gentoo.org/wiki/Raspberry_Pi/Quick_Install_Guide#Preparing_the_SD_card" target="_blank" rel="noopener">wiki参考4</a><br><a href="https://wiki.gentoo.org/wiki/Raspberry_Pi" target="_blank" rel="noopener">wiki参考5</a></p>
<h2 id="Emerge详细解释"><a href="#Emerge详细解释" class="headerlink" title="Emerge详细解释"></a>Emerge详细解释</h2><p><a href="http://blog.csdn.net/junmuzi/article/details/8944848" target="_blank" rel="noopener">Portage入门</a><br><a href="http://www.cnblogs.com/huqingyu/archive/2006/04/07/368870.html" target="_blank" rel="noopener">Emerge详细解释</a><br><a href="http://www.jinbuguo.com/gentoo/emerge.html" target="_blank" rel="noopener">emerge 中文手册</a></p>
<ul>
<li>安装指定版本的包<br><code>emerge =dev-lang/python2.7.13</code></li>
<li>安装高版本的包,需要用转义符<br><code>emerge \&gt;=dev-lang/python2.7.13</code></li>
</ul>
<h2 id="layman安装-第三方源"><a href="#layman安装-第三方源" class="headerlink" title="layman安装(第三方源)"></a>layman安装(第三方源)</h2><p><a href="https://wiki.gentoo.org/wiki/Layman#Installation" target="_blank" rel="noopener">Layman-Installation</a><br><a href="https://wiki.gentoo.org/wiki/Layman" target="_blank" rel="noopener">layman-wiki</a><br><a href="http://gpo.zugaina.org/dev-lang/python/USE#ptabs" target="_blank" rel="noopener">gentoo-第三方软件包搜索</a></p>
<ul>
<li><p>安装layman<br><code>emerge --search layman</code><br><code>emerge --ask app-portage/layman</code></p>
</li>
<li><p>修改配置文件</p>
<ol>
<li><p><code>repos.conf</code> 方式 (默认)</p>
<ul>
<li><p>修改配置文件<code>/etc/layman/layman.cfg</code><br><code>nano /etc/layman/layman.cfg</code></p>
<blockquote>
<p>conf_type : repos.conf</p>
</blockquote>
</li>
<li><p>如果不存在，则创建<code>/etc/portage/repos.conf</code>文件夹<br><code>mkdir /etc/portage/repos.conf</code></p>
</li>
<li><p>如果layman安装版本&gt;=layman-2.3.0，可以用以下命令生成<code>repos.conf</code>文件<br><code>layman-updater -R</code></p>
</li>
</ul>
</li>
<li><code>make.conf</code> 方式 (老方法)<ul>
<li>修改配置文件<code>/etc/layman/layman.cfg</code><br><code>nano /etc/layman/layman.cfg</code><blockquote>
<p>conf_type : repos.conf</p>
</blockquote>
</li>
<li>添加下面至/etc/portage/make.conf<br><code>source /var/lib/layman/make.conf</code><br><code>PORTDIR_OVERLAY=&quot;${PORTDIR} ${PORTDIR_OVERLAY}&quot;</code></li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="emerge-常见问题汇总"><a href="#emerge-常见问题汇总" class="headerlink" title="emerge 常见问题汇总"></a>emerge 常见问题汇总</h3><h4 id="需要修改包的USE标记"><a href="#需要修改包的USE标记" class="headerlink" title="需要修改包的USE标记"></a>需要修改包的USE标记</h4><p>在安装某个包时出现如下情况：<br><img src="http://static.zybuluo.com/RedFalsh/rl1b7nwsish39hrtg7w58y50/image_1bb99d3fj1gs4qdanq319291rg09.png" alt="image_1bb99d3fj1gs4qdanq319291rg09.png-36.6kB"><br>大体意思是说：安装<code>net-lib/nodejs</code>包时有两个依赖包需要在/etc/portage/package.use中设置USE变量<code>&gt;=dev-lib/openssl-1.0.2k -bindist</code><br><img src="http://static.zybuluo.com/RedFalsh/8ptrtuay2k8fekib1pykossh/image_1bb99gg5g1ctg18eir0ota31kk6m.png" alt="image_1bb99gg5g1ctg18eir0ota31kk6m.png-21.8kB"></p>
<p>##sudo<br>1、安装app-admin/sudo<br><code>su</code><br><code>emerge sudo</code></p>
<p>2、设置环境变量EDITOR<br><code>echo EDITOR=\&quot;/usr/bin/vim\&quot; &gt;/etc/env.d/99editor</code><br><code>env-update</code><br>然后注销重新登陆<br>3、编辑sudo配置文件/etc/sudoer，启用wheel组特权，/etc/sudoer不能用编辑器直接编辑，只能使用visudo命令调用编辑器编辑<br><code>su</code><br><code>visudo</code><br>去掉这两行的注释<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#%wheel ALL=(ALL) ALL  </span><br><span class="line">  </span><br><span class="line">#%wheel ALL=(ALL) NOPASSWD: ALL</span><br></pre></td></tr></table></figure></p>
<p>4、将你的用户加入wheel组</p>
<p><code>gpasswd -a your_user_name wheel</code><br>然后注销重新登陆<br><strong>参考文档：</strong><br><a href="https://wiki.gentoo.org/wiki/Sudo#Installation" target="_blank" rel="noopener">《Gentoo Sudo(ers) Guide》</a></p>
<h2 id="Gentoo本地化设置–时区、时钟、字体、中文环境"><a href="#Gentoo本地化设置–时区、时钟、字体、中文环境" class="headerlink" title="Gentoo本地化设置–时区、时钟、字体、中文环境"></a>Gentoo本地化设置–时区、时钟、字体、中文环境</h2><ul>
<li>可参考<br><a href="https://wiki.archlinux.org/index.php/Arch_Linux_Localization_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="noopener">Arch Linux Localization (简体中文)</a>#.E7.BB.88.E7.AB.AF.E4.B8.AD.E6.96.87.E6.94.AF.E6.8C.81)<br><a href="http://www.jianshu.com/p/9411ab947f96" target="_blank" rel="noopener">Gentoo本地化设置</a></li>
</ul>
<p>你需要选择时区让系统知道你的地理位置，以保持正确的时间。在/usr/share/zoneinfo中查找你的时区。然后在/etc/conf.d/clock中设置时区。请忽略/usr/share/zoneinfo/Etc/GMT*时区，因为它们的名字并不表示所指的地区。比如，GMT-8实际上是GMT+8。<br>设置时区信息：</p>
<p><code>ls /usr/share/zoneinfo</code><br><code>echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone</code><br><code>emerge --config sys-libs/timezone-data</code></p>
<blockquote>
<p>注意:<br>你可以做一个用户级的设置，在shell的rc文件（如bash的.bash_profile）中将TZ变量的值设为/usr/share/zoneinfo下的任何东西。本案例中TZ=”Asia/Shanghai”。</p>
</blockquote>
<p><strong>硬件时钟</strong></p>
<p>Gentoo Linux安装过程中，大多数情况下硬件时钟都是被设成UTC（或GMT，格林威治标准时间），而时区则定为实际的本地时间。如果出于某种原因，你需要将硬件时钟设为非UTC，那么你就要编辑/etc/conf.d/hwclock，将CLOCK的值由UTC改为local。<br><code>CLOCK=&quot;UTC&quot;</code><br>或<br><code>CLOCK=&quot;local&quot;</code></p>
<p><strong>安装中文字体</strong></p>
<p>推荐开源文泉驿自由字体（选择一个字体安装）<br><code>emerge wqy-zenhei</code> （文泉驿正黑）<br><code>emerge wqy-microhei</code> （文泉驿微米黑）</p>
<p><strong>生成指定的Locale</strong><br>可能你在系统中只要用到一个或者两个locale。你可以在/etc/locale.gen中指定所需的的locale。<br>中文有很多种编码，最流行的就是UTF8和GBK。我们推荐客户使用UTF8编码，因为这是国际标准，能兼容任何语言的编码。</p>
<ul>
<li><p>添加locale到<code>/etc/locale.gen</code><br><code>nano -w /etc/locale.gen</code></p>
<blockquote>
<p>en_US.UTF-8 UTF-8<br>zh_CN.UTF-8 UTF-8</p>
</blockquote>
</li>
<li><p>执行<code>locale-gen</code>。它会生成/etc/locale.gen文件中指定的所有locale。</p>
</li>
<li>你可以通过执行<code>locale -a</code>来检验所选的locale是否可用。</li>
</ul>
<p><strong>设置一个Locale显示中文</strong></p>
<ul>
<li>通过/etc/locale.conf文件设置全局有效的locale：<br><code>LANG=en_US.UTF-8</code></li>
</ul>
<blockquote>
<p>警告: 不推荐在此设置中文locale，会导致tty乱码；在tty下亦可显示和输入中文，但需要安装cce、zhcon或fbterm；</p>
</blockquote>
<ul>
<li><p>在/etc/env.d/02locale（可以自己创建02locale文件）中设置全局默认的系统locale</p>
<blockquote>
<p>LANG=”zh_CN.UTF-8”<br>LC_COLLATE=”C”</p>
</blockquote>
</li>
<li><p>在~/.bashrc中设置用户级的系统locale</p>
<blockquote>
<p>export LANG=”zh_CN.UTF-8”<br>export LC_COLLATE=”C”</p>
</blockquote>
</li>
<li><p>更新系统全局默认的locale：<br>设置好正确的locale后，一定要更新环境变量使系统知道所做的更改：<br><code>env-update &amp;&amp; source /etc/profile</code></p>
</li>
<li><p>更新特定用户的locale：<br><code>source ~/.bashrc</code></p>
</li>
</ul>
<p>现在，检验一下所做的更改是否已经生效了：<br><code>locale</code></p>
<blockquote>
<p>注：另一种系统配置方式是保留默认的C locale，同时要能够表现UTF-8字符。<br>这种选择可以通过使用下述设置来实现：LC_CTYPE=zh_CN.UTF-8</p>
</blockquote>
<h2 id="WPS安装"><a href="#WPS安装" class="headerlink" title="WPS安装"></a>WPS安装</h2><p><a href="http://community.wps.cn/wiki/Gentoo_ebuild_%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4" target="_blank" rel="noopener">wps-gentoo-wiki</a></p>
<h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><h3 id="pip-必须安装"><a href="#pip-必须安装" class="headerlink" title="pip(必须安装)"></a><a href="https://pypi.python.org/pypi" target="_blank" rel="noopener">pip</a>(必须安装)</h3><p><code>wget https://pypi.python.org/packages/source/p/pip/pip-x.x.x.tar.gz</code><br><code>tar -zxvf pip-x.x.x.tar.gz</code><br><code>python3 setup.py build</code><br><code>python3 setup.py install</code></p>
<h3 id="setuptools（必须安装）"><a href="#setuptools（必须安装）" class="headerlink" title="setuptools（必须安装）"></a><a href="https://pypi.python.org/pypi" target="_blank" rel="noopener">setuptools</a>（必须安装）</h3><p><code>wget https://pypi.python.org/packages/source/s/setuptools/setuptools-xx.xx.tar.gz</code><br><code>tar -zxvf setuptools-xx.xx.tar.gz</code><br><code>cd setuptools-19.6</code><br><code>python3 setup.py build</code><br><code>python3 setup.py install</code></p>
<h2 id="NodeJS-nginx-monit"><a href="#NodeJS-nginx-monit" class="headerlink" title="NodeJS nginx monit"></a><a href="https://wiki.gentoo.org/wiki/NodeJS" target="_blank" rel="noopener">NodeJS nginx monit</a></h2><h1 id="gentoo-install-in-vmware"><a href="#gentoo-install-in-vmware" class="headerlink" title="gentoo install in vmware"></a>gentoo install in vmware</h1><p><a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Installation/Base#Chrooting" target="_blank" rel="noopener">参考wiki</a><br><a href="https://wiki.gentoo.org/wiki/Handbook:X86/Full/Installation/zh-cn#.E7.A1.AC.E4.BB.B6.E9.9C.80.E6.B1.82" target="_blank" rel="noopener">参考wiki2</a></p>
<h2 id="分区硬盘和挂载"><a href="#分区硬盘和挂载" class="headerlink" title="分区硬盘和挂载"></a>分区硬盘和挂载</h2><p><code>whoami</code></p>
<p><code>sudo su</code><br><code>cd</code><br><code>gparted</code></p>
<blockquote>
<p>1G boot ext4<br>2G linux swap<br>38G linux<br><code>mkswap /dev/sda2</code><br><code>swapon /dev/sda2</code><br><code>mount /dev/sda3 /mnt/gentoo/</code><br><code>mkdir /mnt/gentoo/boot</code><br><code>mount /dev/sda1 /mnt/gentoo/boot</code></p>
</blockquote>
<h2 id="下载和提取-stage-3-image"><a href="#下载和提取-stage-3-image" class="headerlink" title="下载和提取 stage 3 image"></a>下载和提取 stage 3 image</h2><p><code>ping www.baidu/com</code><br><code>links http://www.gentoo.org/main/en/mirrors.xml</code><br><code>amd64/autobuilds/current-stage3-amd64/</code><br><code>pwd</code><br><code>tar xvjpf stage3-amd64-20160818.tar.bz2 -C /mnt/gentoo/</code><br><code>cp -L /etc/resolv.conf /mnt/gentoo/etc</code><br><code>mount -t proc /proc /mnt/gentoo/proc</code><br><code>mount --rbind /sys /mnt/gentoo/sys</code><br><code>mount --rbind /dev /mnt/gentoo/dev</code></p>
<h2 id="Entering-the-new-environment"><a href="#Entering-the-new-environment" class="headerlink" title="Entering the new environment"></a>Entering the new environment</h2><p><code>pwd</code><br><code>cd /mnt/gentoo/</code><br><code>chroot /mnt/gentoo /bin/bash</code><br><code>source /etc/profile</code><br><code>export PS1=&quot;(chroot) $PS1&quot;</code><br><code>mkdir /usr/portage</code></p>
<h2 id="添加国内源"><a href="#添加国内源" class="headerlink" title="添加国内源"></a>添加国内源</h2><p><code>nano /etc/make.conf</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 安装基本系统</span><br><span class="line">`emerge-webrsync`</span><br><span class="line">`emerge --sync`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 选择平台</span><br><span class="line">`eselect profile list` </span><br><span class="line">`eselect profile set 1`</span><br><span class="line"></span><br><span class="line">## 修改时区</span><br><span class="line">`ls /usr/share/zoneinfo`</span><br><span class="line">`ls /usr/share/zoneinfo/America`</span><br><span class="line">`cp /usr/share/zoneinfo/America/Toronto /etc/localtime`</span><br><span class="line">`echo &quot;America/Toronto&quot; &gt; /etc/timezone`</span><br><span class="line">`nano /etc/locale.gen`</span><br><span class="line">`en_US`</span><br><span class="line">`zh_CN`</span><br><span class="line">`locale-gen`</span><br><span class="line">`env-update &amp;&amp; source /etc/profile`</span><br><span class="line">## 内核编译</span><br><span class="line">`emerge gentoo-sources`</span><br><span class="line">`emerge genkernel`</span><br><span class="line">`genkernel all`</span><br><span class="line">## 修改主机名</span><br><span class="line">`hostname`</span><br><span class="line">`nano /etc/conf.d/hostname `</span><br><span class="line">`hostname = &quot;gentoo2017&quot;`</span><br><span class="line">`nano /etc/hosts`</span><br></pre></td></tr></table></figure>
<p>127.0.0.1  gentoo2017 localhost<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">`hostname gentoo2017`</span><br><span class="line">`hostname`</span><br><span class="line">## 修改文件启动fstab</span><br><span class="line">`nano /etc/fstab`</span><br></pre></td></tr></table></figure></p>
<p>/dev/sha1   /boot   ext4        defaults,noatime    me   0 2<br>/dev/sda3   /       ext4        noatime         0 1<br>/dev/sda2   none    swap        sw              0 0</p>
<p>#/dev</p>
<p>#/dev<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">## 安装常用工具dhcpcd、ssh等等......</span><br><span class="line">`emerge dhcpcd`</span><br><span class="line">`rc-update add dhcpcd default`</span><br><span class="line">`emerge ssh `</span><br><span class="line">`rc-update add sshd default`</span><br><span class="line">`emerge syslog-ng`</span><br><span class="line">`rc-update add syslog-ng default`</span><br><span class="line">`emerge mlocate`</span><br><span class="line">`emerge cronie`</span><br><span class="line">`rc-update add cronie default`</span><br><span class="line">`emerge sudo`</span><br><span class="line">`whoami`</span><br><span class="line">`passwd`</span><br><span class="line"></span><br><span class="line">## 添加用户</span><br><span class="line">`useradd -m G users.cdrom,portage,cron -s /bin/bash john`</span><br><span class="line">`passwd john`</span><br><span class="line">`nano /etc/sudoers`</span><br></pre></td></tr></table></figure></p>
<p>root ALL=(ALL) ALL<br>john ALL=(ALL) ALL<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`emerge grub`</span><br><span class="line">`grub-install /dev/sda`</span><br><span class="line">`grub-mkconfig -o /boot/grub/grub.cfg`</span><br><span class="line">`cat /boot/grub/grub.cfg`</span><br><span class="line">`emerge open-vm-tools`</span><br><span class="line">`emerge --ask --autounmask-write open-vm-tools`</span><br><span class="line">`dispatch-conf`</span><br><span class="line">`u`</span><br><span class="line">`emerge open-vm-tools`</span><br><span class="line">`rc-update add vmware-tools default`</span><br><span class="line">`cd`</span><br><span class="line">`pwd`</span><br><span class="line">`exit`</span><br><span class="line">`umount -l /mnt/gentoo/dev/shm `</span><br><span class="line">`umount -l /mnt/gentoo/dev/pts `</span><br><span class="line">`umount -l /mnt/gentoo/dev/boot`</span><br><span class="line">`umount -l /mnt/gentoo/dev/proc`</span><br><span class="line">`reboot`</span><br><span class="line"></span><br><span class="line">`root`</span><br><span class="line">`hostname`</span><br><span class="line">`ping www.baidu.com`</span><br><span class="line">`rc-status default`</span><br></pre></td></tr></table></figure></p>
<p># </p>
<h1 id="dispatch-conf-conf"><a href="#dispatch-conf-conf" class="headerlink" title="dispatch-conf.conf"></a>dispatch-conf.conf</h1><h1 id=""><a href="#" class="headerlink" title=" "></a> </h1><h1 id="Directory-to-archive-replaced-configs-archive-dir-etc-config-archive"><a href="#Directory-to-archive-replaced-configs-archive-dir-etc-config-archive" class="headerlink" title="Directory to archive replaced configs archive-dir=/etc/config-archive"></a>Directory to archive replaced configs archive-dir=/etc/config-archive</h1><h1 id="Use-rcs-for-storing-files-in-the-archive-directory"><a href="#Use-rcs-for-storing-files-in-the-archive-directory" class="headerlink" title="Use rcs for storing files in the archive directory?"></a>Use rcs for storing files in the archive directory?</h1><h1 id="yes-or-no-use-rcs-yes"><a href="#yes-or-no-use-rcs-yes" class="headerlink" title="(yes or no) use-rcs=yes"></a>(yes or no) use-rcs=yes</h1><h1 id="Diff-for-display-diff-”diff-Nau-s-s”"><a href="#Diff-for-display-diff-”diff-Nau-s-s”" class="headerlink" title="Diff for display diff=”diff -Nau %s %s”"></a>Diff for display diff=”diff -Nau %s %s”</h1><h1 id="Pager-for-diff-display-pager-”less-–no-init-–QUIT-AT-EOF”"><a href="#Pager-for-diff-display-pager-”less-–no-init-–QUIT-AT-EOF”" class="headerlink" title="Pager for diff display pager=”less –no-init –QUIT-AT-EOF”"></a>Pager for diff display pager=”less –no-init –QUIT-AT-EOF”</h1><h1 id="Automerge-files-comprising-only-CVS-interpolations-e-g-Header-or-Id"><a href="#Automerge-files-comprising-only-CVS-interpolations-e-g-Header-or-Id" class="headerlink" title="Automerge files comprising only CVS interpolations (e.g. Header or Id)"></a>Automerge files comprising only CVS interpolations (e.g. Header or Id)</h1><h1 id="yes-or-no"><a href="#yes-or-no" class="headerlink" title="(yes or no)"></a>(yes or no)</h1><p>replace-cvs=yes  </p>
<h1 id="Automerge-files-comprising-only-whitespace-and-or-comments"><a href="#Automerge-files-comprising-only-whitespace-and-or-comments" class="headerlink" title="Automerge files comprising only whitespace and/or comments"></a>Automerge files comprising only whitespace and/or comments</h1><h1 id="yes-or-no-1"><a href="#yes-or-no-1" class="headerlink" title="(yes or no)"></a>(yes or no)</h1><p>replace-wscomments=yes  </p>
<h1 id="Automerge-files-that-the-user-hasn’t-modified"><a href="#Automerge-files-that-the-user-hasn’t-modified" class="headerlink" title="Automerge files that the user hasn’t modified"></a>Automerge files that the user hasn’t modified</h1><h1 id="yes-or-no-2"><a href="#yes-or-no-2" class="headerlink" title="(yes or no)"></a>(yes or no)</h1><p>replace-unmodified=yes<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># gentoot install small</span><br><span class="line">## ssh远程配置</span><br><span class="line">`F1`</span><br><span class="line">`gentoo`</span><br><span class="line">`ping -c 3 www.baidu.com`</span><br><span class="line">`ifconfig`</span><br><span class="line">查看是否有ip地址可连接</span><br></pre></td></tr></table></figure></p>
<p>eno16777736: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500<br>        inet 192.168.73.130  netmask 255.255.255.0  broadcast 192.168.73.255<br>        inet6 fe80::20c:29ff:fed0:6b26  prefixlen 64  scopeid 0x20<link><br>        ether 00:0c:29:d0:6b:26  txqueuelen 1000  (Ethernet)<br>        RX packets 2209  bytes 163898 (160.0 KiB)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 266  bytes 37312 (36.4 KiB)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</p>
<p>lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536<br>        inet 127.0.0.1  netmask 255.0.0.0<br>        inet6 ::1  prefixlen 128  scopeid 0x10<host><br>        loop  txqueuelen 1  (Local Loopback)<br>        RX packets 0  bytes 0 (0.0 B)<br>        RX errors 0  dropped 0  overruns 0  frame 0<br>        TX packets 0  bytes 0 (0.0 B)<br>        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查询失败做如下操作</span><br></pre></td></tr></table></figure></host></p>
<p>输入ifconfig查看网卡信息<br>        如果这里只能看到Net.lo一块网卡，无法配置IP地址<br>        解决方法：cd /etc/init.d<br>                              ln -s net.lo net.enp2s1</p>
<pre><code>#rc-update add net.enp2s1 default(这里不需要)
</code></pre><p>04、配置IP地址，如果可以获取IP地址，则不需要以下操作<br>        ifconfig enp2s1 192.168.254.130 netmask 255.255.255.0 up<br>        route add default gw 192.168.254.2<br>        nano -w /etc/resolv.conf<br>        nameserver 192.168.254.2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">   </span><br><span class="line">修改root密码</span><br><span class="line">`passwd`</span><br><span class="line">启动ssh</span><br><span class="line">`/etc/init.d/sshd start`</span><br><span class="line">远程连接开始安装</span><br><span class="line"></span><br><span class="line">##准备磁盘</span><br><span class="line">**使用fdisk对磁盘进行分区**</span><br><span class="line">**Note**</span><br><span class="line">虽然最近的fdisk 应该也支持GPT, 但它仍然有一些问题。下面给出的指导假定我们的分区方案使用的是MBR。</span><br><span class="line">下面的部分解释了怎样使用fdisk来创建范例分区布局，范例分区布局我们在前面已经提到过了。</span><br><span class="line"></span><br><span class="line">**Partition	Description**</span><br><span class="line">/dev/sda1	BIOS boot partition</span><br><span class="line">/dev/sda2	Boot partition</span><br><span class="line">/dev/sda3	Swap partition</span><br><span class="line">/dev/sda4	Root partition</span><br><span class="line">请您根据自己的实际需要来调整您的分区布局。</span><br><span class="line">**查看当前分区布局**</span><br><span class="line">fdisk是一个流行的和强大的分区工具。用fdisk向磁盘开火吧！（在我们的例子里，我们使用/dev/sda）:</span><br><span class="line">`fdisk /dev/sda`</span><br><span class="line">制作成如下：</span><br></pre></td></tr></table></figure></p>
<p>   Device Boot    Start       End    Blocks   Id  System<br>/dev/sda1             1         3      5198+  ef  EFI (FAT-12/16/32)<br>/dev/sda2   *         3        14    105808+  83  Linux<br>/dev/sda3            15        81    506520   82  Linux swap<br>/dev/sda4            82      3876  28690200   83  Linux<br><code>`</code><br>在示例分区结构中，有 使用ext2的引导分区（/dev/sda2）和使用ext4的根分区（/dev/sda4），下面的命令将会用到：<br><code>mkfs.ext2 /dev/sda2</code><br><code>mkfs.ext4 /dev/sda4</code><br><strong>激活swap分区</strong><br><code>mkswap /dev/sda3</code><br><code>mkswap /dev/sda3</code><br><strong>挂载</strong><br>现在分区都已初始化并有文件系统，接下来该挂载那些分区了。使用mount命令，但是不要忘记为每一个创建的分区创建需要的挂载目录。比如示例中我们挂载根 和引导 分区:<br><code>mount /dev/sda4 /mnt/gentoo</code><br><code>mkdir /mnt/gentoo/boot</code><br><code>mount /dev/sda2 /mnt/gentoo/boot</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/21/Learning/git/git常用命令总结/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="redfalsh">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小熊博客@v@">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/21/Learning/git/git常用命令总结/" itemprop="url">Git常用命令总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-21T13:53:48+08:00">
                2017-03-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/" itemprop="url" rel="index">
                    <span itemprop="name">Learn</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Learn/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="git常用命令总结"><a href="#git常用命令总结" class="headerlink" title="git常用命令总结"></a>git常用命令总结</h1><h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><p>复制一个已创建的仓库:</p>
<p><code>$ git clone ssh://haorooms@domain.com/blog.git</code></p>
<p>创建一个新的本地仓库:</p>
<p><code>$ git init</code></p>
<p>本地修改显示工作路径下已修改的文件：</p>
<p><code>$ git status</code></p>
<p>显示与上次提交版本文件的不同：</p>
<p><code>$ git diff</code></p>
<p>把当前所有修改添加到下次提交中：</p>
<p><code>$ git add</code></p>
<p>把对某个文件的修改添加到下次提交中：</p>
<p><code>$ git add -p &lt;file&gt;</code></p>
<p>提交本地的所有修改：</p>
<p><code>$ git commit -a</code></p>
<p>提交之前已标记的变化：</p>
<p><code>$ git commit</code></p>
<p>附加消息提交：</p>
<p><code>$ git commit -m &#39;message here&#39;</code></p>
<p>提交，并将提交时间设置为之前的某个日期:</p>
<p><code>git commit --date=&quot;`date --date=&#39;n day ago&#39;`&quot; -am &quot;Commit Message&quot;</code></p>
<p>修改上次提交：请勿修改已发布的提交记录!</p>
<p><code>$ git commit --amend</code></p>
<p>把当前分支中未提交的修改移动到其他分支</p>
<p><code>git stash</code></p>
<p><code>git checkout branch2</code></p>
<p><code>git stash pop</code></p>
<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><p>从当前目录的所有文件中查找文本内容：</p>
<p><code>$ git grep &quot;Hello&quot;</code></p>
<p>在某一版本中搜索文本：</p>
<p><code>$ git grep &quot;Hello&quot; v2.5</code></p>
<h2 id="提交历史"><a href="#提交历史" class="headerlink" title="提交历史"></a>提交历史</h2><p>从最新提交开始，显示所有的提交记录（显示hash， 作者信息，提交的标题和时间）：</p>
<p><code>$ git log</code></p>
<p>显示所有提交（仅显示提交的hash和message）：</p>
<p><code>$ git log --oneline</code></p>
<p>显示某个用户的所有提交：</p>
<p><code>$ git log --author=&quot;username&quot;</code></p>
<p>显示某个文件的所有修改：</p>
<p><code>$ git log -p &lt;file&gt;</code></p>
<p>谁，在什么时间，修改了文件的什么内容：</p>
<p><code>$ git blame &lt;file&gt;</code></p>
<h2 id="分支与标签"><a href="#分支与标签" class="headerlink" title="分支与标签"></a>分支与标签</h2><p>列出所有的分支：</p>
<p><code>$ git branch</code></p>
<p>切换分支：</p>
<p><code>$ git checkout &lt;branch&gt;</code></p>
<p>创建并切换到新分支:</p>
<p><code>$ git checkout -b &lt;branch&gt;</code></p>
<p>基于当前分支创建新分支：</p>
<p><code>$ git branch &lt;new-branch&gt;</code></p>
<p>基于远程分支创建新的可追溯的分支：</p>
<p><code>$ git branch --track &lt;new-branch&gt; &lt;remote-branch&gt;</code></p>
<p>删除本地分支:</p>
<p><code>$ git branch -d &lt;branch&gt;</code></p>
<p>给当前版本打标签：</p>
<p><code>$ git tag &lt;tag-name&gt;</code></p>
<h2 id="更新与发布"><a href="#更新与发布" class="headerlink" title="更新与发布"></a>更新与发布</h2><p>列出当前配置的远程端：</p>
<p><code>$ git remote -v</code></p>
<p>显示远程端的信息：</p>
<p><code>$ git remote show &lt;remote&gt;</code></p>
<p>添加新的远程端：</p>
<p><code>$ git remote add &lt;remote&gt; &lt;url&gt;</code></p>
<p>下载远程端版本，但不合并到HEAD中：</p>
<p><code>$ git fetch &lt;remote&gt;</code></p>
<p>下载远程端版本，并自动与HEAD版本合并：</p>
<p><code>$ git remote pull &lt;remote&gt; &lt;url&gt;</code></p>
<p>将远程端版本合并到本地版本中：</p>
<p><code>$ git pull origin master</code></p>
<p>将本地版本发布到远程端：</p>
<p><code>$ git push remote &lt;remote&gt; &lt;branch&gt;</code></p>
<p>删除远程端分支：</p>
<p><code>$ git push &lt;remote&gt; :&lt;branch&gt; (since Git v1.5.0)</code></p>
<p>或</p>
<p><code>git push &lt;remote&gt; --delete &lt;branch&gt; (since Git v1.7.0)</code></p>
<p>发布标签:</p>
<p><code>$ git push --tags</code></p>
<h2 id="合并与重置"><a href="#合并与重置" class="headerlink" title="合并与重置"></a>合并与重置</h2><p>将分支合并到当前HEAD中：</p>
<p><code>$ git merge &lt;branch&gt;</code></p>
<p>将当前HEAD版本重置到分支中:请勿重置已发布的提交!</p>
<p><code>$ git rebase &lt;branch&gt;</code></p>
<p>退出重置:</p>
<p><code>$ git rebase --abort</code></p>
<p>解决冲突后继续重置：</p>
<p><code>$ git rebase --continue</code></p>
<p>使用配置好的merge tool 解决冲突：</p>
<p><code>$ git mergetool</code></p>
<p>在编辑器中手动解决冲突后，标记文件为已解决冲突</p>
<p><code>$ git add &lt;resolved-file&gt;</code></p>
<p><code>$ git rm &lt;resolved-file&gt;</code></p>
<h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><p>放弃工作目录下的所有修改：</p>
<p><code>$ git reset --hard HEAD</code></p>
<p>移除缓存区的所有文件（i.e. 撤销上次git add）:</p>
<p><code>$ git reset HEAD</code></p>
<p>放弃某个文件的所有本地修改：</p>
<p><code>$ git checkout HEAD &lt;file&gt;</code></p>
<p>重置一个提交（通过创建一个截然不同的新提交）</p>
<p><code>$ git revert &lt;commit&gt;</code></p>
<p>将HEAD重置到指定的版本，并抛弃该版本之后的所有修改：</p>
<p><code>$ git reset --hard &lt;commit&gt;</code></p>
<p>将HEAD重置到上一次提交的版本，并将之后的修改标记为未添加到缓存区的修改：</p>
<p><code>$ git reset &lt;commit&gt;</code></p>
<p>将HEAD重置到上一次提交的版本，并保留未提交的本地修改：</p>
<p><code>$ git reset --keep &lt;commit&gt;</code></p>
<h2 id="git-submodule的使用"><a href="#git-submodule的使用" class="headerlink" title="git submodule的使用"></a>git submodule的使用</h2><p>开发过程中，经常会有一些通用的部分希望抽取出来做成一个公共库来提供给别的工程来使用，这样就用到了git的git submodule命令。</p>
<h3 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h3><p>为当前工程添加submodule，命令如下：</p>
<p><code>git submodule add 仓库地址 路径</code></p>
<p>例如：</p>
<p><code>git submodule add helloworld.git</code></p>
<p><code>git commit -m &quot;Add submodules helloworld.git&quot;</code></p>
<p>其他人协同</p>
<p><code>git clone /path/to/repos/helloworld_parent.git</code></p>
<p><code>git submodule init</code></p>
<p><code>git submodule update</code></p>
<h2 id="移除"><a href="#移除" class="headerlink" title="移除"></a>移除</h2><p>1.删除git cache和物理文件夹</p>
<p>2.删除.gitmodules的内容（或者整个文件） 因为本例只有两个子模块，直接删除文件</p>
<p>3.删除.git/config的submodule配置 源文件</p>
<p>4.提交更改</p>
<p>github中fork了别人的项目，时时更新原项目代码</p>
<p>1、首先新建一个远程分支haorooms（名字可以随便取）</p>
<p><code>git remote add haorooms git@github.com:confidence68/loupan_select.git</code></p>
<p>2、然后fetch下haorooms的代码</p>
<p><code>git fetch haorooms</code></p>
<p>3、最后就可以把haorooms上的代码合并到你自己的分支上了</p>
<p><code>git merge haorooms/master</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">redfalsh</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">49</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">31</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">redfalsh</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
